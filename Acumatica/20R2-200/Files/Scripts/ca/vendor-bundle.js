!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,(function(){"use strict";function e(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}function t(e){return!(!e||"undefined"==typeof e.length)}function r(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],u(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void a(t.promise,e)}o(t.promise,n)}else(1===e._state?o:a)(t.promise,e._value)}))):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof n)return e._state=3,e._value=t,void s(e);if("function"==typeof r)return void u(function(e,t){return function(){e.apply(t,arguments)}}(r,t),e)}e._state=1,e._value=t,s(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&n._immediateFn((function(){e._handled||n._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;r>t;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t){var r=!1;try{e((function(e){r||(r=!0,o(t,e))}),(function(e){r||(r=!0,a(t,e))}))}catch(e){if(r)return;r=!0,a(t,e)}}var l=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new function(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}(e,t,n)),n},n.prototype["finally"]=e,n.all=function(e){return new n((function(r,n){function i(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var s=t.then;if("function"==typeof s)return void s.call(t,(function(t){i(e,t)}),n)}o[e]=t,0==--a&&r(o)}catch(e){n(e)}}if(!t(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return r([]);for(var a=o.length,s=0;o.length>s;s++)i(s,o[s])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,r){r(e)}))},n.race=function(e){return new n((function(r,i){if(!t(e))return i(new TypeError("Promise.race accepts an array"));for(var o=0,a=e.length;a>o;o++)n.resolve(e[o]).then(r,i)}))},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in c?c.Promise.prototype["finally"]||(c.Promise.prototype["finally"]=e):c.Promise=n}));
/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */
var requirejs,require,define;(function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!(typeof window!=="undefined"&&typeof navigator!=="undefined"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(e,t){return t||""}function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var r;for(r=0;r<e.length;r+=1){if(e[r]&&t(e[r],r,e)){break}}}}function eachReverse(e,t){if(e){var r;for(r=e.length-1;r>-1;r-=1){if(e[r]&&t(e[r],r,e)){break}}}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var r;for(r in e){if(hasProp(e,r)){if(t(e[r],r)){break}}}}function mixin(e,t,r,n){if(t){eachProp(t,(function(t,i){if(r||!hasProp(e,i)){if(n&&typeof t==="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)){if(!e[i]){e[i]={}}mixin(e[i],t,r,n)}else{e[i]=t}}}))}return e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e){return e}var t=global;each(e.split("."),(function(e){t=t[e]}));return t}function makeError(e,t,r,n){var i=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);i.requireType=e;i.requireModules=n;if(r){i.originalError=r}return i}if(typeof define!=="undefined"){return}if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}function newContext(e){var t,r,n,i,o,a={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},s={},u={},l={},c=[],f={},h={},d={},p=1,v=1;function g(e){var t,r;for(t=0;t<e.length;t++){r=e[t];if(r==="."){e.splice(t,1);t-=1}else if(r===".."){if(t===0||t===1&&e[2]===".."||e[t-1]===".."){continue}else if(t>0){e.splice(t-1,2);t-=2}}}}function m(e,t,r){var n,i,o,s,u,l,c,f,h,d,p,v,m=t&&t.split("/"),y=a.map,b=y&&y["*"];if(e){e=e.split("/");c=e.length-1;if(a.nodeIdCompat&&jsSuffixRegExp.test(e[c])){e[c]=e[c].replace(jsSuffixRegExp,"")}if(e[0].charAt(0)==="."&&m){v=m.slice(0,m.length-1);e=v.concat(e)}g(e);e=e.join("/")}if(r&&y&&(m||b)){o=e.split("/");e:for(s=o.length;s>0;s-=1){l=o.slice(0,s).join("/");if(m){for(u=m.length;u>0;u-=1){i=getOwn(y,m.slice(0,u).join("/"));if(i){i=getOwn(i,l);if(i){f=i;h=s;break e}}}}if(!d&&b&&getOwn(b,l)){d=getOwn(b,l);p=s}}if(!f&&d){f=d;h=p}if(f){o.splice(0,h,f);e=o.join("/")}}n=getOwn(a.pkgs,e);return n?n:e}function y(e){if(isBrowser){each(scripts(),(function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===n.contextName){t.parentNode.removeChild(t);return true}}))}}function b(e){var t=getOwn(a.paths,e);if(t&&isArray(t)&&t.length>1){t.shift();n.require.undef(e);n.makeRequire(null,{skipMap:true})([e]);return true}}function w(e){var t,r=e?e.indexOf("!"):-1;if(r>-1){t=e.substring(0,r);e=e.substring(r+1,e.length)}return[t,e]}function x(e,t,r,i){var o,a,s,u,l=null,c=t?t.name:null,h=e,d=true,g="";if(!e){d=false;e="_@r"+(p+=1)}u=w(e);l=u[0];e=u[1];if(l){l=m(l,c,i);a=getOwn(f,l)}if(e){if(l){if(r){g=e}else if(a&&a.normalize){g=a.normalize(e,(function(e){return m(e,c,i)}))}else{g=e.indexOf("!")===-1?m(e,c,i):e}}else{g=m(e,c,i);u=w(g);l=u[0];g=u[1];r=true;o=n.nameToUrl(g)}}s=l&&!a&&!r?"_unnormalized"+(v+=1):"";return{prefix:l,name:g,parentMap:t,unnormalized:!!s,url:o,originalName:h,isDefine:d,id:(l?l+"!"+g:g)+s}}function C(e){var t=e.id,r=getOwn(s,t);if(!r){r=s[t]=new n.Module(e)}return r}function _(e,t,r){var n=e.id,i=getOwn(s,n);if(hasProp(f,n)&&(!i||i.defineEmitComplete)){if(t==="defined"){r(f[n])}}else{i=C(e);if(i.error&&t==="error"){r(i.error)}else{i.on(t,r)}}}function E(e,t){var r=e.requireModules,n=false;if(t){t(e)}else{each(r,(function(t){var r=getOwn(s,t);if(r){r.error=e;if(r.events.error){n=true;r.emit("error",e)}}}));if(!n){req.onError(e)}}}function S(){if(globalDefQueue.length){each(globalDefQueue,(function(e){var t=e[0];if(typeof t==="string"){n.defQueueMap[t]=true}c.push(e)}));globalDefQueue=[]}}i={require:function(e){if(e.require){return e.require}else{return e.require=n.makeRequire(e.map)}},exports:function(e){e.usingExports=true;if(e.map.isDefine){if(e.exports){return f[e.map.id]=e.exports}else{return e.exports=f[e.map.id]={}}}},module:function(e){if(e.module){return e.module}else{return e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(a.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}}};function O(e){delete s[e];delete u[e]}function k(e,t,r){var n=e.map.id;if(e.error){e.emit("error",e.error)}else{t[n]=true;each(e.depMaps,(function(n,i){var o=n.id,a=getOwn(s,o);if(a&&!e.depMatched[i]&&!r[o]){if(getOwn(t,o)){e.defineDep(i,f[o]);e.check()}else{k(a,t,r)}}}));r[n]=true}}function A(){var e,r,i=a.waitSeconds*1e3,s=i&&n.startTime+i<(new Date).getTime(),l=[],c=[],f=false,h=true;if(t){return}t=true;eachProp(u,(function(e){var t=e.map,n=t.id;if(!e.enabled){return}if(!t.isDefine){c.push(e)}if(!e.error){if(!e.inited&&s){if(b(n)){r=true;f=true}else{l.push(n);y(n)}}else if(!e.inited&&e.fetched&&t.isDefine){f=true;if(!t.prefix){return h=false}}}}));if(s&&l.length){e=makeError("timeout","Load timeout for modules: "+l,null,l);e.contextName=n.contextName;return E(e)}if(h){each(c,(function(e){k(e,{},{})}))}if((!s||r)&&f){if((isBrowser||isWebWorker)&&!o){o=setTimeout((function(){o=0;A()}),50)}}t=false}r=function(e){this.events=getOwn(l,e.id)||{};this.map=e;this.shim=getOwn(a.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};r.prototype={init:function(e,t,r,n){n=n||{};if(this.inited){return}this.factory=t;if(r){this.on("error",r)}else if(this.events.error){r=bind(this,(function(e){this.emit("error",e)}))}this.depMaps=e&&e.slice(0);this.errback=r;this.inited=true;this.ignore=n.ignore;if(n.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(e,t){if(!this.depMatched[e]){this.depMatched[e]=true;this.depCount-=1;this.depExports[e]=t}},fetch:function(){if(this.fetched){return}this.fetched=true;n.startTime=(new Date).getTime();var e=this.map;if(this.shim){n.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,(function(){return e.prefix?this.callPlugin():this.load()})))}else{return e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;if(!h[e]){h[e]=true;n.load(this.map.id,e)}},check:function(){if(!this.enabled||this.enabling){return}var e,t,r=this.map.id,i=this.depExports,o=this.exports,a=this.factory;if(!this.inited){if(!hasProp(n.defQueueMap,r)){this.fetch()}}else if(this.error){this.emit("error",this.error)}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError){try{o=n.execCb(r,a,i,o)}catch(t){e=t}}else{o=n.execCb(r,a,i,o)}if(this.map.isDefine&&o===undefined){t=this.module;if(t){o=t.exports}else if(this.usingExports){o=this.exports}}if(e){e.requireMap=this.map;e.requireModules=this.map.isDefine?[this.map.id]:null;e.requireType=this.map.isDefine?"define":"require";return E(this.error=e)}}else{o=a}this.exports=o;if(this.map.isDefine&&!this.ignore){f[r]=o;if(req.onResourceLoad){var s=[];each(this.depMaps,(function(e){s.push(e.normalizedMap||e)}));req.onResourceLoad(n,this.map,s)}}O(r);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}},callPlugin:function(){var e=this.map,t=e.id,r=x(e.prefix);this.depMaps.push(r);_(r,"defined",bind(this,(function(r){var i,o,u,l=getOwn(d,this.map.id),c=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,h=n.makeRequire(e.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(r.normalize){c=r.normalize(c,(function(e){return m(e,f,true)}))||""}o=x(e.prefix+"!"+c,this.map.parentMap,true);_(o,"defined",bind(this,(function(e){this.map.normalizedMap=o;this.init([],(function(){return e}),null,{enabled:true,ignore:true})})));u=getOwn(s,o.id);if(u){this.depMaps.push(o);if(this.events.error){u.on("error",bind(this,(function(e){this.emit("error",e)})))}u.enable()}return}if(l){this.map.url=n.nameToUrl(l);this.load();return}i=bind(this,(function(e){this.init([],(function(){return e}),null,{enabled:true})}));i.error=bind(this,(function(e){this.inited=true;this.error=e;e.requireModules=[t];eachProp(s,(function(e){if(e.map.id.indexOf(t+"_unnormalized")===0){O(e.map.id)}}));E(e)}));i.fromText=bind(this,(function(r,o){var s=e.name,u=x(s),l=useInteractive;if(o){r=o}if(l){useInteractive=false}C(u);if(hasProp(a.config,t)){a.config[s]=a.config[t]}try{req.exec(r)}catch(e){return E(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}if(l){useInteractive=true}this.depMaps.push(u);n.completeLoad(s);h([s],i)}));r.load(e.name,h,i,a)})));n.enable(r,this);this.pluginMaps[r.id]=r},enable:function(){u[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,(function(e,t){var r,o,a;if(typeof e==="string"){e=x(e,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[t]=e;a=getOwn(i,e.id);if(a){this.depExports[t]=a(this);return}this.depCount+=1;_(e,"defined",bind(this,(function(e){if(this.undefed){return}this.defineDep(t,e);this.check()})));if(this.errback){_(e,"error",bind(this,this.errback))}else if(this.events.error){_(e,"error",bind(this,(function(e){this.emit("error",e)})))}}r=e.id;o=s[r];if(!hasProp(i,r)&&o&&!o.enabled){n.enable(e,this)}})));eachProp(this.pluginMaps,bind(this,(function(e){var t=getOwn(s,e.id);if(t&&!t.enabled){n.enable(e,this)}})));this.enabling=false;this.check()},on:function(e,t){var r=this.events[e];if(!r){r=this.events[e]=[]}r.push(t)},emit:function(e,t){each(this.events[e],(function(e){e(t)}));if(e==="error"){delete this.events[e]}}};function M(e){if(!hasProp(f,e[0])){C(x(e[0],null,true)).init(e[1],e[2])}}function P(e,t,r,n){if(e.detachEvent&&!isOpera){if(n){e.detachEvent(n,t)}}else{e.removeEventListener(r,t,false)}}function R(e){var t=e.currentTarget||e.srcElement;P(t,n.onScriptLoad,"load","onreadystatechange");P(t,n.onScriptError,"error");return{node:t,id:t&&t.getAttribute("data-requiremodule")}}function T(){var e;S();while(c.length){e=c.shift();if(e[0]===null){return E(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]))}else{M(e)}}n.defQueueMap={}}n={config:a,contextName:e,registry:s,defined:f,urlFetched:h,defQueue:c,defQueueMap:{},Module:r,makeModuleMap:x,nextTick:req.nextTick,onError:E,configure:function(e){if(e.baseUrl){if(e.baseUrl.charAt(e.baseUrl.length-1)!=="/"){e.baseUrl+="/"}}if(typeof e.urlArgs==="string"){var t=e.urlArgs;e.urlArgs=function(e,r){return(r.indexOf("?")===-1?"?":"&")+t}}var r=a.shim,i={paths:true,bundles:true,config:true,map:true};eachProp(e,(function(e,t){if(i[t]){if(!a[t]){a[t]={}}mixin(a[t],e,true,true)}else{a[t]=e}}));if(e.bundles){eachProp(e.bundles,(function(e,t){each(e,(function(e){if(e!==t){d[e]=t}}))}))}if(e.shim){eachProp(e.shim,(function(e,t){if(isArray(e)){e={deps:e}}if((e.exports||e.init)&&!e.exportsFn){e.exportsFn=n.makeShimExports(e)}r[t]=e}));a.shim=r}if(e.packages){each(e.packages,(function(e){var t,r;e=typeof e==="string"?{name:e}:e;r=e.name;t=e.location;if(t){a.paths[r]=e.location}a.pkgs[r]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}))}eachProp(s,(function(e,t){if(!e.inited&&!e.map.unnormalized){e.map=x(t,null,true)}}));if(e.deps||e.callback){n.require(e.deps||[],e.callback)}},makeShimExports:function(e){function t(){var t;if(e.init){t=e.init.apply(global,arguments)}return t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){r=r||{};function o(a,u,l){var c,h,d;if(r.enableBuildCallback&&u&&isFunction(u)){u.__requireJsBuild=true}if(typeof a==="string"){if(isFunction(u)){return E(makeError("requireargs","Invalid require call"),l)}if(t&&hasProp(i,a)){return i[a](s[t.id])}if(req.get){return req.get(n,a,t,o)}h=x(a,t,false,true);c=h.id;if(!hasProp(f,c)){return E(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))}return f[c]}T();n.nextTick((function(){T();d=C(x(null,t));d.skipMap=r.skipMap;d.init(a,u,l,{enabled:true});A()}));return o}mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a=o==="."||o==="..";if(i!==-1&&(!a||i>1)){r=e.substring(i,e.length);e=e.substring(0,i)}return n.nameToUrl(m(e,t&&t.id,true),r,true)},defined:function(e){return hasProp(f,x(e,t,false,true).id)},specified:function(e){e=x(e,t,false,true).id;return hasProp(f,e)||hasProp(s,e)}});if(!t){o.undef=function(e){S();var r=x(e,t,true),i=getOwn(s,e);i.undefed=true;y(e);delete f[e];delete h[r.url];delete l[e];eachReverse(c,(function(t,r){if(t[0]===e){c.splice(r,1)}}));delete n.defQueueMap[e];if(i){if(i.events.defined){l[e]=i.events}O(e)}}}return o},enable:function(e){var t=getOwn(s,e.id);if(t){C(e).enable()}},completeLoad:function(e){var t,r,i,o=getOwn(a.shim,e)||{},u=o.exports;S();while(c.length){r=c.shift();if(r[0]===null){r[0]=e;if(t){break}t=true}else if(r[0]===e){t=true}M(r)}n.defQueueMap={};i=getOwn(s,e);if(!t&&!hasProp(f,e)&&i&&!i.inited){if(a.enforceDefine&&(!u||!getGlobal(u))){if(b(e)){return}else{return E(makeError("nodefine","No define call for "+e,null,[e]))}}else{M([e,o.deps||[],o.exportsFn])}}A()},nameToUrl:function(e,t,r){var i,o,s,u,l,c,f,h=getOwn(a.pkgs,e);if(h){e=h}f=getOwn(d,e);if(f){return n.nameToUrl(f,t,r)}if(req.jsExtRegExp.test(e)){l=e+(t||"")}else{i=a.paths;o=e.split("/");for(s=o.length;s>0;s-=1){u=o.slice(0,s).join("/");c=getOwn(i,u);if(c){if(isArray(c)){c=c[0]}o.splice(0,s,c);break}}l=o.join("/");l+=t||(/^data\:|^blob\:|\?/.test(l)||r?"":".js");l=(l.charAt(0)==="/"||l.match(/^[\w\+\.\-]+:/)?"":a.baseUrl)+l}return a.urlArgs&&!/^blob\:/.test(l)?l+a.urlArgs(e,l):l},load:function(e,t){req.load(n,e,t)},execCb:function(e,t,r,n){return t.apply(n,r)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=R(e);n.completeLoad(t.id)}},onScriptError:function(e){var t=R(e);if(!b(t.id)){var r=[];eachProp(s,(function(e,n){if(n.indexOf("_@r")!==0){each(e.depMaps,(function(e){if(e.id===t.id){r.push(n);return true}}))}}));return E(makeError("scripterror",'Script error for "'+t.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[t.id]))}}};n.require=n.makeRequire();return n}req=requirejs=function(e,t,r,n){var i,o,a=defContextName;if(!isArray(e)&&typeof e!=="string"){o=e;if(isArray(t)){e=t;t=r;r=n}else{e=[]}}if(o&&o.context){a=o.context}i=getOwn(contexts,a);if(!i){i=contexts[a]=req.s.newContext(a)}if(o){i.configure(o)}return i.require(e,t,r)};req.config=function(e){return req(e)};req.nextTick=typeof setTimeout!=="undefined"?function(e){setTimeout(e,4)}:function(e){e()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],(function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}));if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(e,t,r){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");n.type=e.scriptType||"text/javascript";n.charset="utf-8";n.async=true;return n};req.load=function(e,t,r){var n=e&&e.config||{},i;if(isBrowser){i=req.createNode(n,t,r);i.setAttribute("data-requirecontext",e.contextName);i.setAttribute("data-requiremodule",t);if(i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;i.attachEvent("onreadystatechange",e.onScriptLoad)}else{i.addEventListener("load",e.onScriptLoad,false);i.addEventListener("error",e.onScriptError,false)}i.src=r;if(n.onNodeCreated){n.onNodeCreated(i,n,t,r)}currentlyAddingScript=i;if(baseElement){head.insertBefore(i,baseElement)}else{head.appendChild(i)}currentlyAddingScript=null;return i}else if(isWebWorker){try{setTimeout((function(){}),0);importScripts(r);e.completeLoad(t)}catch(n){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+r,n,[t]))}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),(function(e){if(e.readyState==="interactive"){return interactiveScript=e}}));return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),(function(e){if(!head){head=e.parentNode}dataMain=e.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&mainScript.indexOf("!")===-1){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}}))}define=function(e,t,r){var n,i;if(typeof e!=="string"){r=t;t=e;e=null}if(!isArray(t)){r=t;t=null}if(!t&&isFunction(r)){t=[];if(r.length){r.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,(function(e,r){t.push(r)}));t=(r.length===1?["require"]:["require","exports","module"]).concat(t)}}if(useInteractive){n=currentlyAddingScript||getInteractiveScript();if(n){if(!e){e=n.getAttribute("data-requiremodule")}i=contexts[n.getAttribute("data-requirecontext")]}}if(i){i.defQueue.push([e,t,r]);i.defQueueMap[e]=true}else{globalDefQueue.push([e,t,r])}};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(this,typeof setTimeout==="undefined"?undefined:setTimeout);(function(e){typeof define==="function"&&define.amd?define("abortcontroller-polyfill/dist/abortcontroller-polyfill-only",e):e()})((function(){"use strict";function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function r(e,r,n){if(r)t(e.prototype,r);if(n)t(e,n);return e}function n(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)o(e,t)}function i(e){i=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return i(e)}function o(e,t){o=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return o(e,t)}function a(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function u(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return s(e)}function l(e){var t=a();return function r(){var n=i(e),o;if(t){var a=i(this).constructor;o=Reflect.construct(n,arguments,a)}else{o=n.apply(this,arguments)}return u(this,o)}}function c(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=i(e);if(e===null)break}return e}function f(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){f=Reflect.get}else{f=function e(t,r,n){var i=c(t,r);if(!i)return;var o=Object.getOwnPropertyDescriptor(i,r);if(o.get){return o.get.call(n)}return o.value}}return f(e,t,r||e)}var h=function(){function t(){e(this,t);Object.defineProperty(this,"listeners",{value:{},writable:true,configurable:true})}r(t,[{key:"addEventListener",value:function e(t,r){if(!(t in this.listeners)){this.listeners[t]=[]}this.listeners[t].push(r)}},{key:"removeEventListener",value:function e(t,r){if(!(t in this.listeners)){return}var n=this.listeners[t];for(var i=0,o=n.length;i<o;i++){if(n[i]===r){n.splice(i,1);return}}}},{key:"dispatchEvent",value:function e(t){var r=this;if(!(t.type in this.listeners)){return}var n=function e(n){setTimeout((function(){return n.call(r,t)}))};var i=this.listeners[t.type];for(var o=0,a=i.length;o<a;o++){n(i[o])}return!t.defaultPrevented}}]);return t}();var d=function(t){n(a,t);var o=l(a);function a(){var t;e(this,a);t=o.call(this);if(!t.listeners){h.call(s(t))}Object.defineProperty(s(t),"aborted",{value:false,writable:true,configurable:true});Object.defineProperty(s(t),"onabort",{value:null,writable:true,configurable:true});return t}r(a,[{key:"toString",value:function e(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function e(t){if(t.type==="abort"){this.aborted=true;if(typeof this.onabort==="function"){this.onabort.call(this,t)}}f(i(a.prototype),"dispatchEvent",this).call(this,t)}}]);return a}(h);var p=function(){function t(){e(this,t);Object.defineProperty(this,"signal",{value:new d,writable:true,configurable:true})}r(t,[{key:"abort",value:function e(){var t;try{t=new Event("abort")}catch(e){if(typeof document!=="undefined"){if(!document.createEvent){t=document.createEventObject();t.type="abort"}else{t=document.createEvent("Event");t.initEvent("abort",false,false)}}else{t={type:"abort",bubbles:false,cancelable:false}}}this.signal.dispatchEvent(t)}},{key:"toString",value:function e(){return"[object AbortController]"}}]);return t}();if(typeof Symbol!=="undefined"&&Symbol.toStringTag){p.prototype[Symbol.toStringTag]="AbortController";d.prototype[Symbol.toStringTag]="AbortSignal"}function v(e){if(e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");return true}return typeof e.Request==="function"&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}(function(e){if(!v(e)){return}e.AbortController=p;e.AbortSignal=d})(typeof self!=="undefined"?self:global)}));define("aurelia-animator-css/dist/commonjs/aurelia-animator-css",["require","exports","module","aurelia-templating","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CssAnimator=undefined;t.configure=a;var n=e("aurelia-templating");var i=e("aurelia-pal");var o=t.CssAnimator=function(){function e(){this.useAnimationDoneClasses=false;this.animationEnteredClass="au-entered";this.animationLeftClass="au-left";this.isAnimating=false;this.verifyKeyframesExist=true}e.prototype._addMultipleEventListener=function e(t,r,n){var i=r.split(" ");for(var o=0,a=i.length;o<a;++o){t.addEventListener(i[o],n,false)}};e.prototype._removeMultipleEventListener=function e(t,r,n){var i=r.split(" ");for(var o=0,a=i.length;o<a;++o){t.removeEventListener(i[o],n,false)}};e.prototype._getElementAnimationDelay=function e(t){var r=i.DOM.getComputedStyle(t);var n=void 0;var o=void 0;if(r.getPropertyValue("animation-delay")){n="animation-delay"}else if(r.getPropertyValue("-webkit-animation-delay")){n="-webkit-animation-delay"}else if(r.getPropertyValue("-moz-animation-delay")){n="-moz-animation-delay"}else{return 0}o=r.getPropertyValue(n);o=Number(o.replace(/[^\d\.]/g,""));return o*1e3};e.prototype._getElementAnimationNames=function e(t){var r=i.DOM.getComputedStyle(t);var n=void 0;if(r.getPropertyValue("animation-name")){n=""}else if(r.getPropertyValue("-webkit-animation-name")){n="-webkit-"}else if(r.getPropertyValue("-moz-animation-name")){n="-moz-"}else{return[]}var o=r.getPropertyValue(n+"animation-name");return o?o.split(" "):[]};e.prototype._performSingleAnimate=function e(t,r){var i=this;this._triggerDOMEvent(n.animationEvent.animateBegin,t);return this.addClass(t,r,true).then((function(e){i._triggerDOMEvent(n.animationEvent.animateActive,t);if(e!==false){return i.removeClass(t,r,true).then((function(){i._triggerDOMEvent(n.animationEvent.animateDone,t)}))}return false})).catch((function(){i._triggerDOMEvent(n.animationEvent.animateTimeout,t)}))};e.prototype._triggerDOMEvent=function e(t,r){var n=i.DOM.createCustomEvent(t,{bubbles:true,cancelable:true,detail:r});i.DOM.dispatchEvent(n)};e.prototype._animationChangeWithValidKeyframe=function e(t,r){var n=t.filter((function(e){return r.indexOf(e)===-1}));if(n.length===0){return false}if(!this.verifyKeyframesExist){return true}var i=window.CSSRule.KEYFRAMES_RULE||window.CSSRule.MOZ_KEYFRAMES_RULE||window.CSSRule.WEBKIT_KEYFRAMES_RULE;var o=document.styleSheets;try{for(var a=0;a<o.length;++a){var s=null;try{s=o[a].cssRules}catch(e){}if(!s){continue}for(var u=0;u<s.length;++u){var l=s[u];if(l.type===i){if(n.indexOf(l.name)!==-1){return true}}}}}catch(e){}return false};e.prototype.animate=function e(t,r){var n=this;if(Array.isArray(t)){return Promise.all(t.map((function(e){return n._performSingleAnimate(e,r)})))}return this._performSingleAnimate(t,r)};e.prototype.runSequence=function e(t){var r=this;this._triggerDOMEvent(n.animationEvent.sequenceBegin,null);return t.reduce((function(e,t){return e.then((function(){return r.animate(t.element,t.className)}))}),Promise.resolve(true)).then((function(){r._triggerDOMEvent(n.animationEvent.sequenceDone,null)}))};e.prototype._stateAnim=function e(t,r,i){var o=this;var a="au-"+r;var s=a+"-active";return new Promise((function(e,u){var l=t.classList;o._triggerDOMEvent(n.animationEvent[r+"Begin"],t);if(o.useAnimationDoneClasses){l.remove(o.animationEnteredClass);l.remove(o.animationLeftClass)}l.add(a);var c=o._getElementAnimationNames(t);var f=void 0;var h=false;o._addMultipleEventListener(t,"webkitAnimationStart animationstart",f=function e(i){if(i.target!==t){return}h=true;o.isAnimating=true;o._triggerDOMEvent(n.animationEvent[r+"Active"],t);i.stopPropagation();i.target.removeEventListener(i.type,f)},false);var d=void 0;o._addMultipleEventListener(t,"webkitAnimationEnd animationend",d=function u(c){if(!h){return}if(c.target!==t){return}c.stopPropagation();l.remove(s);l.remove(a);c.target.removeEventListener(c.type,d);if(o.useAnimationDoneClasses&&i!==undefined&&i!==null){l.add(i)}o.isAnimating=false;o._triggerDOMEvent(n.animationEvent[r+"Done"],t);e(true)},false);var p=t.parentElement;var v="data-animator-pending"+r;var g=function i(){var u=o._getElementAnimationNames(t);if(!o._animationChangeWithValidKeyframe(u,c)){l.remove(s);l.remove(a);o._removeMultipleEventListener(t,"webkitAnimationEnd animationend",d);o._removeMultipleEventListener(t,"webkitAnimationStart animationstart",f);o._triggerDOMEvent(n.animationEvent[r+"Timeout"],t);e(false)}p&&p.setAttribute(v,+(p.getAttribute(v)||1)-1)};if(p!==null&&p!==undefined&&(p.classList.contains("au-stagger")||p.classList.contains("au-stagger-"+r))){var m=+(p.getAttribute(v)||0);p.setAttribute(v,m+1);var y=o._getElementAnimationDelay(p)*m;o._triggerDOMEvent(n.animationEvent.staggerNext,t);setTimeout((function(){l.add(s);g()}),y)}else{l.add(s);g()}}))};e.prototype.enter=function e(t){return this._stateAnim(t,"enter",this.animationEnteredClass)};e.prototype.leave=function e(t){return this._stateAnim(t,"leave",this.animationLeftClass)};e.prototype.removeClass=function e(t,r){var i=this;var o=arguments.length<=2||arguments[2]===undefined?false:arguments[2];return new Promise((function(e,a){var s=t.classList;if(!s.contains(r)&&!s.contains(r+"-add")){e(false);return}if(o!==true){i._triggerDOMEvent(n.animationEvent.removeClassBegin,t)}if(s.contains(r+"-add")){s.remove(r+"-add");s.add(r)}s.remove(r);var u=i._getElementAnimationNames(t);var l=void 0;var c=false;i._addMultipleEventListener(t,"webkitAnimationStart animationstart",l=function e(r){if(r.target!==t){return}c=true;i.isAnimating=true;if(o!==true){i._triggerDOMEvent(n.animationEvent.removeClassActive,t)}r.stopPropagation();r.target.removeEventListener(r.type,l)},false);var f=void 0;i._addMultipleEventListener(t,"webkitAnimationEnd animationend",f=function a(u){if(!c){return}if(u.target!==t){return}if(!t.classList.contains(r+"-remove")){e(true)}u.stopPropagation();s.remove(r);s.remove(r+"-remove");u.target.removeEventListener(u.type,f);i.isAnimating=false;if(o!==true){i._triggerDOMEvent(n.animationEvent.removeClassDone,t)}e(true)},false);s.add(r+"-remove");var h=i._getElementAnimationNames(t);if(!i._animationChangeWithValidKeyframe(h,u)){s.remove(r+"-remove");s.remove(r);i._removeMultipleEventListener(t,"webkitAnimationEnd animationend",f);i._removeMultipleEventListener(t,"webkitAnimationStart animationstart",l);if(o!==true){i._triggerDOMEvent(n.animationEvent.removeClassTimeout,t)}e(false)}}))};e.prototype.addClass=function e(t,r){var i=this;var o=arguments.length<=2||arguments[2]===undefined?false:arguments[2];return new Promise((function(e,a){var s=t.classList;if(o!==true){i._triggerDOMEvent(n.animationEvent.addClassBegin,t)}if(s.contains(r+"-remove")){s.remove(r+"-remove");s.remove(r)}var u=void 0;var l=false;i._addMultipleEventListener(t,"webkitAnimationStart animationstart",u=function e(r){if(r.target!==t){return}l=true;i.isAnimating=true;if(o!==true){i._triggerDOMEvent(n.animationEvent.addClassActive,t)}r.stopPropagation();r.target.removeEventListener(r.type,u)},false);var c=void 0;i._addMultipleEventListener(t,"webkitAnimationEnd animationend",c=function a(u){if(!l){return}if(u.target!==t){return}if(!t.classList.contains(r+"-add")){e(true)}u.stopPropagation();s.add(r);s.remove(r+"-add");u.target.removeEventListener(u.type,c);i.isAnimating=false;if(o!==true){i._triggerDOMEvent(n.animationEvent.addClassDone,t)}e(true)},false);var f=i._getElementAnimationNames(t);s.add(r+"-add");var h=i._getElementAnimationNames(t);if(!i._animationChangeWithValidKeyframe(h,f)){s.remove(r+"-add");s.add(r);i._removeMultipleEventListener(t,"webkitAnimationEnd animationend",c);i._removeMultipleEventListener(t,"webkitAnimationStart animationstart",u);if(o!==true){i._triggerDOMEvent(n.animationEvent.addClassTimeout,t)}e(false)}}))};return e}();function a(e,t){var r=e.container.get(o);e.container.get(n.TemplatingEngine).configureAnimator(r);if(typeof t==="function"){t(r)}}}));define("aurelia-binding/dist/commonjs/aurelia-binding",["require","exports","module","aurelia-logging","aurelia-pal","aurelia-task-queue","aurelia-metadata"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSetObserver=t.BindingEngine=t.NameExpression=t.Listener=t.ListenerExpression=t.BindingBehaviorResource=t.ValueConverterResource=t.Call=t.CallExpression=t.Binding=t.BindingExpression=t.ObjectObservationAdapter=t.ObserverLocator=t.SVGAnalyzer=t.presentationAttributes=t.presentationElements=t.elements=t.ComputedExpression=t.ClassObserver=t.SelectValueObserver=t.CheckedObserver=t.ValueAttributeObserver=t.StyleObserver=t.DataAttributeObserver=t.dataAttributeAccessor=t.XLinkAttributeObserver=t.SetterObserver=t.PrimitiveObserver=t.propertyAccessor=t.DirtyCheckProperty=t.DirtyChecker=t.EventSubscriber=t.EventManager=t.delegationStrategy=t.getMapObserver=t.ParserImplementation=t.Parser=t.bindingMode=t.ExpressionCloner=t.Unparser=t.LiteralObject=t.LiteralArray=t.LiteralTemplate=t.LiteralString=t.LiteralPrimitive=t.Unary=t.Binary=t.CallFunction=t.CallMember=t.CallScope=t.AccessKeyed=t.AccessMember=t.AccessScope=t.AccessThis=t.Conditional=t.Assign=t.ValueConverter=t.BindingBehavior=t.Expression=t.getArrayObserver=t.CollectionLengthObserver=t.ModifyCollectionObserver=t.ExpressionObserver=t.sourceContext=t.targetContext=undefined;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w,x,C,_,E,S,O,k;t.camelCase=D;t.createOverrideContext=F;t.getContextFor=q;t.createScopeForTest=z;t.connectable=Y;t.enqueueBindingConnect=ae;t.setConnectQueueThreshold=se;t.enableConnectQueue=ue;t.disableConnectQueue=le;t.getConnectQueueSize=ce;t.subscriberCollection=be;t.calcSplices=Pe;t.mergeSplice=Te;t.projectArraySplices=Le;t.getChangeRecords=Ne;t.cloneExpression=xt;t.hasDeclaredDependencies=Rn;t.declarePropertyDependencies=Tn;t.computedFrom=jn;t.createComputedObserver=Vn;t.valueConverter=Jn;t.bindingBehavior=ei;t.observable=fi;t.connectBindingToSignal=di;t.signalBindings=pi;var A=e("aurelia-logging");var M=j(A);var P=e("aurelia-pal");var R=e("aurelia-task-queue");var T=e("aurelia-metadata");function j(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function L(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function V(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var N=t.targetContext="Binding:target";var I=t.sourceContext="Binding:source";var B=Object.create(null);function D(e){if(e in B){return B[e]}var t=e.charAt(0).toLowerCase()+e.slice(1).replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}));B[e]=t;return t}function F(e,t){return{bindingContext:e,parentOverrideContext:t||null}}function q(e,t,r){var n=t.overrideContext;if(r){while(r&&n){r--;n=n.parentOverrideContext}if(r||!n){return undefined}return e in n?n:n.bindingContext}while(n&&!(e in n)&&!(n.bindingContext&&e in n.bindingContext)){n=n.parentOverrideContext}if(n){return e in n?n:n.bindingContext}return t.bindingContext||t.overrideContext}function z(e,t){if(t){return{bindingContext:e,overrideContext:F(e,F(t))}}return{bindingContext:e,overrideContext:F(e)}}var H=[];var U=[];var $=-1;function Q(e){if(e===$){$+=5;var t=H.length=U.length=$+1;for(var r=e+1;r<t;++r){H[r]="_observer"+r;U[r]="_observerVersion"+r}}}Q(-1);function W(e){var t=this._observerSlots===undefined?0:this._observerSlots;var r=t;while(r--&&this[H[r]]!==e){}if(r===-1){r=0;while(this[H[r]]){r++}this[H[r]]=e;e.subscribe(I,this);if(r===t){this._observerSlots=r+1}}if(this._version===undefined){this._version=0}this[U[r]]=this._version;Q(r)}function G(e,t){var r=this.observerLocator.getObserver(e,t);W.call(this,r)}function K(e){var t=this.observerLocator.getArrayObserver(e);W.call(this,t)}function X(e){var t=this._observerSlots;while(t--){if(e||this[U[t]]!==this._version){var r=this[H[t]];this[H[t]]=null;if(r){r.unsubscribe(I,this)}}}}function Y(){return function(e){e.prototype.observeProperty=G;e.prototype.observeArray=K;e.prototype.unobserve=X;e.prototype.addObserver=W}}var J=[];var Z={};var ee=0;var te=100;var re=15;var ne=false;var ie=0;function oe(e){var t=J.length;var r=0;while(r<t){var n=J[r];Z[n.__connectQueueId]=false;n.connect(true);r++;if(r%100===0&&P.PLATFORM.performance.now()-e>re){break}}J.splice(0,r);if(J.length){P.PLATFORM.requestAnimationFrame(oe)}else{ne=false;ie=0}}function ae(e){if(ie<te){ie++;e.connect(false)}else{var t=e.__connectQueueId;if(t===undefined){t=ee;ee++;e.__connectQueueId=t}if(!Z[t]){J.push(e);Z[t]=true}}if(!ne){ne=true;P.PLATFORM.requestAnimationFrame(oe)}}function se(e){te=e}function ue(){se(100)}function le(){se(Number.MAX_SAFE_INTEGER)}function ce(){return J.length}function fe(e,t){if(this.hasSubscriber(e,t)){return false}if(!this._context0){this._context0=e;this._callable0=t;return true}if(!this._context1){this._context1=e;this._callable1=t;return true}if(!this._context2){this._context2=e;this._callable2=t;return true}if(!this._contextsRest){this._contextsRest=[e];this._callablesRest=[t];return true}this._contextsRest.push(e);this._callablesRest.push(t);return true}function he(e,t){if(this._context0===e&&this._callable0===t){this._context0=null;this._callable0=null;return true}if(this._context1===e&&this._callable1===t){this._context1=null;this._callable1=null;return true}if(this._context2===e&&this._callable2===t){this._context2=null;this._callable2=null;return true}var r=this._callablesRest;if(r===undefined||r.length===0){return false}var n=this._contextsRest;var i=0;while(!(r[i]===t&&n[i]===e)&&r.length>i){i++}if(i>=r.length){return false}n.splice(i,1);r.splice(i,1);return true}var de=[];var pe=[];var ve=[];function ge(e,t){var r=this._context0;var n=this._callable0;var i=this._context1;var o=this._callable1;var a=this._context2;var s=this._callable2;var u=this._contextsRest?this._contextsRest.length:0;var l=void 0;var c=void 0;var f=void 0;var h=void 0;if(u){f=ve.length;while(f--&&ve[f]){}if(f<0){f=ve.length;l=[];c=[];ve.push(true);de.push(l);pe.push(c)}else{ve[f]=true;l=de[f];c=pe[f]}h=u;while(h--){l[h]=this._contextsRest[h];c[h]=this._callablesRest[h]}}if(r){if(n){n.call(r,e,t)}else{r(e,t)}}if(i){if(o){o.call(i,e,t)}else{i(e,t)}}if(a){if(s){s.call(a,e,t)}else{a(e,t)}}if(u){for(h=0;h<u;h++){var d=c[h];var p=l[h];if(d){d.call(p,e,t)}else{p(e,t)}l[h]=null;c[h]=null}ve[f]=false}}function me(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function ye(e,t){var r=this._context0===e&&this._callable0===t||this._context1===e&&this._callable1===t||this._context2===e&&this._callable2===t;if(r){return true}var n=void 0;var i=this._contextsRest;if(!i||(n=i.length)===0){return false}var o=this._callablesRest;while(n--){if(i[n]===e&&o[n]===t){return true}}return false}function be(){return function(e){e.prototype.addSubscriber=fe;e.prototype.removeSubscriber=he;e.prototype.callSubscribers=ge;e.prototype.hasSubscribers=me;e.prototype.hasSubscriber=ye}}var we=t.ExpressionObserver=(o=Y(),a=be(),o(s=a(s=function(){function e(e,t,r,n){this.scope=e;this.expression=t;this.observerLocator=r;this.lookupFunctions=n}e.prototype.getValue=function e(){return this.expression.evaluate(this.scope,this.lookupFunctions)};e.prototype.setValue=function e(t){this.expression.assign(this.scope,t)};e.prototype.subscribe=function e(t,r){var n=this;if(!this.hasSubscribers()){this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions);this.expression.connect(this,this.scope)}this.addSubscriber(t,r);if(arguments.length===1&&t instanceof Function){return{dispose:function e(){n.unsubscribe(t,r)}}}};e.prototype.unsubscribe=function e(t,r){if(this.removeSubscriber(t,r)&&!this.hasSubscribers()){this.unobserve(true);this.oldValue=undefined}};e.prototype.call=function e(){var t=this.expression.evaluate(this.scope,this.lookupFunctions);var r=this.oldValue;if(t!==r){this.oldValue=t;this.callSubscribers(t,r)}this._version++;this.expression.connect(this,this.scope);this.unobserve(false)};return e}())||s)||s);function xe(e){return+e===e>>>0}function Ce(e){return+e}function _e(e,t,r){return{index:e,removed:t,addedCount:r}}var Ee=0;var Se=1;var Oe=2;var ke=3;function Ae(){}Ae.prototype={calcEditDistances:function e(t,r,n,i,o,a){var s=a-o+1;var u=n-r+1;var l=new Array(s);var c=void 0;var f=void 0;for(var h=0;h<s;++h){l[h]=new Array(u);l[h][0]=h}for(var d=0;d<u;++d){l[0][d]=d}for(var p=1;p<s;++p){for(var v=1;v<u;++v){if(this.equals(t[r+v-1],i[o+p-1])){l[p][v]=l[p-1][v-1]}else{c=l[p-1][v]+1;f=l[p][v-1]+1;l[p][v]=c<f?c:f}}}return l},spliceOperationsFromEditDistances:function e(t){var r=t.length-1;var n=t[0].length-1;var i=t[r][n];var o=[];while(r>0||n>0){if(r===0){o.push(Oe);n--;continue}if(n===0){o.push(ke);r--;continue}var a=t[r-1][n-1];var s=t[r-1][n];var u=t[r][n-1];var l=void 0;if(s<u){l=s<a?s:a}else{l=u<a?u:a}if(l===a){if(a===i){o.push(Ee)}else{o.push(Se);i=a}r--;n--}else if(l===s){o.push(ke);r--;i=s}else{o.push(Oe);n--;i=u}}o.reverse();return o},calcSplices:function e(t,r,n,i,o,a){var s=0;var u=0;var l=Math.min(n-r,a-o);if(r===0&&o===0){s=this.sharedPrefix(t,i,l)}if(n===t.length&&a===i.length){u=this.sharedSuffix(t,i,l-s)}r+=s;o+=s;n-=u;a-=u;if(n-r===0&&a-o===0){return[]}if(r===n){var c=_e(r,[],0);while(o<a){c.removed.push(i[o++])}return[c]}else if(o===a){return[_e(r,[],n-r)]}var f=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,r,n,i,o,a));var h=undefined;var d=[];var p=r;var v=o;for(var g=0;g<f.length;++g){switch(f[g]){case Ee:if(h){d.push(h);h=undefined}p++;v++;break;case Se:if(!h){h=_e(p,[],0)}h.addedCount++;p++;h.removed.push(i[v]);v++;break;case Oe:if(!h){h=_e(p,[],0)}h.addedCount++;p++;break;case ke:if(!h){h=_e(p,[],0)}h.removed.push(i[v]);v++;break}}if(h){d.push(h)}return d},sharedPrefix:function e(t,r,n){for(var i=0;i<n;++i){if(!this.equals(t[i],r[i])){return i}}return n},sharedSuffix:function e(t,r,n){var i=t.length;var o=r.length;var a=0;while(a<n&&this.equals(t[--i],r[--o])){a++}return a},calculateSplices:function e(t,r){return this.calcSplices(t,0,t.length,r,0,r.length)},equals:function e(t,r){return t===r}};var Me=new Ae;function Pe(e,t,r,n,i,o){return Me.calcSplices(e,t,r,n,i,o)}function Re(e,t,r,n){if(t<r||n<e){return-1}if(t===r||n===e){return 0}if(e<r){if(t<n){return t-r}return n-r}if(n<t){return n-e}return t-e}function Te(e,t,r,n){var i=_e(t,r,n);var o=false;var a=0;for(var s=0;s<e.length;s++){var u=e[s];u.index+=a;if(o){continue}var l=Re(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(l>=0){e.splice(s,1);s--;a-=u.addedCount-u.removed.length;i.addedCount+=u.addedCount-l;var c=i.removed.length+u.removed.length-l;if(!i.addedCount&&!c){o=true}else{var f=u.removed;if(i.index<u.index){var h=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(h,f);f=h}if(i.index+i.removed.length>u.index+u.addedCount){var d=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(f,d)}i.removed=f;if(u.index<i.index){i.index=u.index}}}else if(i.index<u.index){o=true;e.splice(s,0,i);s++;var p=i.addedCount-i.removed.length;u.index+=p;a+=p}}if(!o){e.push(i)}}function je(e,t){var r=[];for(var n=0;n<t.length;n++){var i=t[n];switch(i.type){case"splice":Te(r,i.index,i.removed.slice(),i.addedCount);break;case"add":case"update":case"delete":if(!xe(i.name)){continue}var o=Ce(i.name);if(o<0){continue}Te(r,o,[i.oldValue],i.type==="delete"?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(i));break}}return r}function Le(e,t){var r=[];je(e,t).forEach((function(t){if(t.addedCount===1&&t.removed.length===1){if(t.removed[0]!==e[t.index]){r.push(t)}return}r=r.concat(Pe(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length))}));return r}function Ve(e,t,r,n){return{type:e,object:t,key:r,oldValue:n}}function Ne(e){var t=new Array(e.size);var r=e.keys();var n=0;var i=void 0;while(i=r.next()){if(i.done){break}t[n]=Ve("added",e,i.value);n++}return t}var Ie=t.ModifyCollectionObserver=(u=be(),u(l=function(){function e(e,t){this.taskQueue=e;this.queued=false;this.changeRecords=null;this.oldCollection=null;this.collection=t;this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length"}e.prototype.subscribe=function e(t,r){this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){this.removeSubscriber(t,r)};e.prototype.addChangeRecord=function e(t){if(!this.hasSubscribers()&&!this.lengthObserver){return}if(t.type==="splice"){var r=t.index;var n=t.object.length;if(r>n){r=n-t.addedCount}else if(r<0){r=n+t.removed.length+r-t.addedCount}if(r<0){r=0}t.index=r}if(this.changeRecords===null){this.changeRecords=[t]}else{this.changeRecords.push(t)}if(!this.queued){this.queued=true;this.taskQueue.queueMicroTask(this)}};e.prototype.flushChangeRecords=function e(){if(this.changeRecords&&this.changeRecords.length||this.oldCollection){this.call()}};e.prototype.reset=function e(t){this.oldCollection=t;if(this.hasSubscribers()&&!this.queued){this.queued=true;this.taskQueue.queueMicroTask(this)}};e.prototype.getLengthObserver=function e(){return this.lengthObserver||(this.lengthObserver=new Be(this.collection))};e.prototype.call=function e(){var t=this.changeRecords;var r=this.oldCollection;var n=void 0;this.queued=false;this.changeRecords=[];this.oldCollection=null;if(this.hasSubscribers()){if(r){if(this.collection instanceof Map||this.collection instanceof Set){n=Ne(r)}else{n=Pe(this.collection,0,this.collection.length,r,0,r.length)}}else{if(this.collection instanceof Map||this.collection instanceof Set){n=t}else{n=Le(this.collection,t)}}this.callSubscribers(n)}if(this.lengthObserver){this.lengthObserver.call(this.collection[this.lengthPropertyName])}};return e}())||l);var Be=t.CollectionLengthObserver=(c=be(),c(f=function(){function e(e){this.collection=e;this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length";this.currentValue=e[this.lengthPropertyName]}e.prototype.getValue=function e(){return this.collection[this.lengthPropertyName]};e.prototype.setValue=function e(t){this.collection[this.lengthPropertyName]=t};e.prototype.subscribe=function e(t,r){this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){this.removeSubscriber(t,r)};e.prototype.call=function e(t){var r=this.currentValue;this.callSubscribers(t,r);this.currentValue=t};return e}())||f);var De=Array.prototype;var Fe=De.pop;var qe=De.push;var ze=De.reverse;var He=De.shift;var Ue=De.sort;var $e=De.splice;var Qe=De.unshift;if(De.__au_patched__){M.getLogger("array-observation").warn("Detected 2nd attempt of patching array from Aurelia binding."+" This is probably caused by dependency mismatch between core modules and a 3rd party plugin."+" Please see https://github.com/aurelia/cli/pull/906 if you are using webpack.")}else{Reflect.defineProperty(De,"__au_patched__",{value:1});De.pop=function(){var e=this.length>0;var t=Fe.apply(this,arguments);if(e&&this.__array_observer__!==undefined){this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:t})}return t};De.push=function(){var e=qe.apply(this,arguments);if(this.__array_observer__!==undefined){this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length})}return e};De.reverse=function(){var e=void 0;if(this.__array_observer__!==undefined){this.__array_observer__.flushChangeRecords();e=this.slice()}var t=ze.apply(this,arguments);if(this.__array_observer__!==undefined){this.__array_observer__.reset(e)}return t};De.shift=function(){var e=this.length>0;var t=He.apply(this,arguments);if(e&&this.__array_observer__!==undefined){this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:t})}return t};De.sort=function(){var e=void 0;if(this.__array_observer__!==undefined){this.__array_observer__.flushChangeRecords();e=this.slice()}var t=Ue.apply(this,arguments);if(this.__array_observer__!==undefined){this.__array_observer__.reset(e)}return t};De.splice=function(){var e=$e.apply(this,arguments);if(this.__array_observer__!==undefined){this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:e,addedCount:arguments.length>2?arguments.length-2:0})}return e};De.unshift=function(){var e=Qe.apply(this,arguments);if(this.__array_observer__!==undefined){this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length})}return e}}function We(e,t){return Ge.for(e,t)}t.getArrayObserver=We;var Ge=function(e){V(t,e);function t(t,r){return L(this,e.call(this,t,r))}t.for=function e(r,n){if(!("__array_observer__"in n)){Reflect.defineProperty(n,"__array_observer__",{value:t.create(r,n),enumerable:false,configurable:false})}return n.__array_observer__};t.create=function e(r,n){return new t(r,n)};return t}(Ie);var Ke=t.Expression=function(){function e(){this.isAssignable=false}e.prototype.evaluate=function e(t,r,n){throw new Error('Binding expression "'+this+'" cannot be evaluated.')};e.prototype.assign=function e(t,r,n){throw new Error('Binding expression "'+this+'" cannot be assigned to.')};e.prototype.toString=function e(){return typeof FEATURE_NO_UNPARSER==="undefined"?bt.unparse(this):Function.prototype.toString.call(this)};return e}();var Xe=t.BindingBehavior=function(e){V(t,e);function t(t,r,n){var i=L(this,e.call(this));i.expression=t;i.name=r;i.args=n;return i}t.prototype.evaluate=function e(t,r){return this.expression.evaluate(t,r)};t.prototype.assign=function e(t,r,n){return this.expression.assign(t,r,n)};t.prototype.accept=function e(t){return t.visitBindingBehavior(this)};t.prototype.connect=function e(t,r){this.expression.connect(t,r)};t.prototype.bind=function e(t,r,n){if(this.expression.expression&&this.expression.bind){this.expression.bind(t,r,n)}var i=n.bindingBehaviors(this.name);if(!i){throw new Error('No BindingBehavior named "'+this.name+'" was found!')}var o="behavior-"+this.name;if(t[o]){throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"')}t[o]=i;i.bind.apply(i,[t,r].concat(pt(r,this.args,t.lookupFunctions)))};t.prototype.unbind=function e(t,r){var n="behavior-"+this.name;t[n].unbind(t,r);t[n]=null;if(this.expression.expression&&this.expression.unbind){this.expression.unbind(t,r)}};return t}(Ke);var Ye=t.ValueConverter=function(e){V(t,e);function t(t,r,n){var i=L(this,e.call(this));i.expression=t;i.name=r;i.args=n;i.allArgs=[t].concat(n);return i}t.prototype.evaluate=function e(t,r){var n=r.valueConverters(this.name);if(!n){throw new Error('No ValueConverter named "'+this.name+'" was found!')}if("toView"in n){return n.toView.apply(n,pt(t,this.allArgs,r))}return this.allArgs[0].evaluate(t,r)};t.prototype.assign=function e(t,r,n){var i=n.valueConverters(this.name);if(!i){throw new Error('No ValueConverter named "'+this.name+'" was found!')}if("fromView"in i){r=i.fromView.apply(i,[r].concat(pt(t,this.args,n)))}return this.allArgs[0].assign(t,r,n)};t.prototype.accept=function e(t){return t.visitValueConverter(this)};t.prototype.connect=function e(t,r){var n=this.allArgs;var i=n.length;while(i--){n[i].connect(t,r)}var o=t.lookupFunctions.valueConverters(this.name);if(!o){throw new Error('No ValueConverter named "'+this.name+'" was found!')}var a=o.signals;if(a===undefined){return}i=a.length;while(i--){di(t,a[i])}};return t}(Ke);var Je=t.Assign=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.target=t;n.value=r;n.isAssignable=true;return n}t.prototype.evaluate=function e(t,r){return this.target.assign(t,this.value.evaluate(t,r))};t.prototype.accept=function e(t){t.visitAssign(this)};t.prototype.connect=function e(t,r){};t.prototype.assign=function e(t,r){this.value.assign(t,r);this.target.assign(t,r)};return t}(Ke);var Ze=t.Conditional=function(e){V(t,e);function t(t,r,n){var i=L(this,e.call(this));i.condition=t;i.yes=r;i.no=n;return i}t.prototype.evaluate=function e(t,r){return!!this.condition.evaluate(t,r)?this.yes.evaluate(t,r):this.no.evaluate(t,r)};t.prototype.accept=function e(t){return t.visitConditional(this)};t.prototype.connect=function e(t,r){this.condition.connect(t,r);if(this.condition.evaluate(r)){this.yes.connect(t,r)}else{this.no.connect(t,r)}};return t}(Ke);var et=t.AccessThis=function(e){V(t,e);function t(t){var r=L(this,e.call(this));r.ancestor=t;return r}t.prototype.evaluate=function e(t,r){var n=t.overrideContext;var i=this.ancestor;while(i--&&n){n=n.parentOverrideContext}return i<1&&n?n.bindingContext:undefined};t.prototype.accept=function e(t){return t.visitAccessThis(this)};t.prototype.connect=function e(t,r){};return t}(Ke);var tt=t.AccessScope=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.name=t;n.ancestor=r;n.isAssignable=true;return n}t.prototype.evaluate=function e(t,r){var n=q(this.name,t,this.ancestor);return n[this.name]};t.prototype.assign=function e(t,r){var n=q(this.name,t,this.ancestor);return n?n[this.name]=r:undefined};t.prototype.accept=function e(t){return t.visitAccessScope(this)};t.prototype.connect=function e(t,r){var n=q(this.name,r,this.ancestor);t.observeProperty(n,this.name)};return t}(Ke);var rt=t.AccessMember=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.object=t;n.name=r;n.isAssignable=true;return n}t.prototype.evaluate=function e(t,r){var n=this.object.evaluate(t,r);return n===null||n===undefined?n:n[this.name]};t.prototype.assign=function e(t,r){var n=this.object.evaluate(t);if(n===null||n===undefined){n={};this.object.assign(t,n)}n[this.name]=r;return r};t.prototype.accept=function e(t){return t.visitAccessMember(this)};t.prototype.connect=function e(t,r){this.object.connect(t,r);var n=this.object.evaluate(r);if(n){t.observeProperty(n,this.name)}};return t}(Ke);var nt=t.AccessKeyed=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.object=t;n.key=r;n.isAssignable=true;return n}t.prototype.evaluate=function e(t,r){var n=this.object.evaluate(t,r);var i=this.key.evaluate(t,r);return mt(n,i)};t.prototype.assign=function e(t,r){var n=this.object.evaluate(t);var i=this.key.evaluate(t);return yt(n,i,r)};t.prototype.accept=function e(t){return t.visitAccessKeyed(this)};t.prototype.connect=function e(t,r){this.object.connect(t,r);var n=this.object.evaluate(r);if(n instanceof Object){this.key.connect(t,r);var i=this.key.evaluate(r);if(i!==null&&i!==undefined&&!(Array.isArray(n)&&typeof i==="number")){t.observeProperty(n,i)}}};return t}(Ke);var it=t.CallScope=function(e){V(t,e);function t(t,r,n){var i=L(this,e.call(this));i.name=t;i.args=r;i.ancestor=n;return i}t.prototype.evaluate=function e(t,r,n){var i=pt(t,this.args,r);var o=q(this.name,t,this.ancestor);var a=gt(o,this.name,n);if(a){return a.apply(o,i)}return undefined};t.prototype.accept=function e(t){return t.visitCallScope(this)};t.prototype.connect=function e(t,r){var n=this.args;var i=n.length;while(i--){n[i].connect(t,r)}};return t}(Ke);var ot=t.CallMember=function(e){V(t,e);function t(t,r,n){var i=L(this,e.call(this));i.object=t;i.name=r;i.args=n;return i}t.prototype.evaluate=function e(t,r,n){var i=this.object.evaluate(t,r);var o=pt(t,this.args,r);var a=gt(i,this.name,n);if(a){return a.apply(i,o)}return undefined};t.prototype.accept=function e(t){return t.visitCallMember(this)};t.prototype.connect=function e(t,r){this.object.connect(t,r);var n=this.object.evaluate(r);if(gt(n,this.name,false)){var i=this.args;var o=i.length;while(o--){i[o].connect(t,r)}}};return t}(Ke);var at=t.CallFunction=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.func=t;n.args=r;return n}t.prototype.evaluate=function e(t,r,n){var i=this.func.evaluate(t,r);if(typeof i==="function"){return i.apply(null,pt(t,this.args,r))}if(!n&&(i===null||i===undefined)){return undefined}throw new Error(this.func+" is not a function")};t.prototype.accept=function e(t){return t.visitCallFunction(this)};t.prototype.connect=function e(t,r){this.func.connect(t,r);var n=this.func.evaluate(r);if(typeof n==="function"){var i=this.args;var o=i.length;while(o--){i[o].connect(t,r)}}};return t}(Ke);var st=t.Binary=function(e){V(t,e);function t(t,r,n){var i=L(this,e.call(this));i.operation=t;i.left=r;i.right=n;return i}t.prototype.evaluate=function e(t,r){var n=this.left.evaluate(t,r);switch(this.operation){case"&&":return n&&this.right.evaluate(t,r);case"||":return n||this.right.evaluate(t,r)}var o=this.right.evaluate(t,r);switch(this.operation){case"==":return n==o;case"===":return n===o;case"!=":return n!=o;case"!==":return n!==o;case"instanceof":return typeof o==="function"&&n instanceof o;case"in":return(typeof o==="undefined"?"undefined":i(o))==="object"&&o!==null&&n in o}if(n===null||o===null||n===undefined||o===undefined){switch(this.operation){case"+":if(n!==null&&n!==undefined)return n;if(o!==null&&o!==undefined)return o;return 0;case"-":if(n!==null&&n!==undefined)return n;if(o!==null&&o!==undefined)return 0-o;return 0}return null}switch(this.operation){case"+":return vt(n,o);case"-":return n-o;case"*":return n*o;case"/":return n/o;case"%":return n%o;case"<":return n<o;case">":return n>o;case"<=":return n<=o;case">=":return n>=o;case"^":return n^o}throw new Error("Internal error ["+this.operation+"] not handled")};t.prototype.accept=function e(t){return t.visitBinary(this)};t.prototype.connect=function e(t,r){this.left.connect(t,r);var n=this.left.evaluate(r);if(this.operation==="&&"&&!n||this.operation==="||"&&n){return}this.right.connect(t,r)};return t}(Ke);var ut=t.Unary=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.operation=t;n.expression=r;return n}t.prototype.evaluate=function e(t,r){switch(this.operation){case"!":return!this.expression.evaluate(t,r);case"typeof":return i(this.expression.evaluate(t,r));case"void":return void this.expression.evaluate(t,r)}throw new Error("Internal error ["+this.operation+"] not handled")};t.prototype.accept=function e(t){return t.visitPrefix(this)};t.prototype.connect=function e(t,r){this.expression.connect(t,r)};return t}(Ke);var lt=t.LiteralPrimitive=function(e){V(t,e);function t(t){var r=L(this,e.call(this));r.value=t;return r}t.prototype.evaluate=function e(t,r){return this.value};t.prototype.accept=function e(t){return t.visitLiteralPrimitive(this)};t.prototype.connect=function e(t,r){};return t}(Ke);var ct=t.LiteralString=function(e){V(t,e);function t(t){var r=L(this,e.call(this));r.value=t;return r}t.prototype.evaluate=function e(t,r){return this.value};t.prototype.accept=function e(t){return t.visitLiteralString(this)};t.prototype.connect=function e(t,r){};return t}(Ke);var ft=t.LiteralTemplate=function(e){V(t,e);function t(t,r,n,i){var o=L(this,e.call(this));o.cooked=t;o.expressions=r||[];o.length=o.expressions.length;o.tagged=i!==undefined;if(o.tagged){o.cooked.raw=n;o.tag=i;if(i instanceof tt){o.contextType="Scope"}else if(i instanceof rt||i instanceof nt){o.contextType="Object"}else{throw new Error(o.tag+" is not a valid template tag")}}return o}t.prototype.getScopeContext=function e(t,r){return q(this.tag.name,t,this.tag.ancestor)};t.prototype.getObjectContext=function e(t,r){return this.tag.object.evaluate(t,r)};t.prototype.evaluate=function e(t,r,n){var i=new Array(this.length);for(var o=0;o<this.length;o++){i[o]=this.expressions[o].evaluate(t,r)}if(this.tagged){var a=this.tag.evaluate(t,r);if(typeof a==="function"){var s=this["get"+this.contextType+"Context"](t,r);return a.call.apply(a,[s,this.cooked].concat(i))}if(!n){return null}throw new Error(this.tag+" is not a function")}var u=this.cooked[0];for(var l=0;l<this.length;l++){u=String.prototype.concat(u,i[l],this.cooked[l+1])}return u};t.prototype.accept=function e(t){return t.visitLiteralTemplate(this)};t.prototype.connect=function e(t,r){for(var n=0;n<this.length;n++){this.expressions[n].connect(t,r)}if(this.tagged){this.tag.connect(t,r)}};return t}(Ke);var ht=t.LiteralArray=function(e){V(t,e);function t(t){var r=L(this,e.call(this));r.elements=t;return r}t.prototype.evaluate=function e(t,r){var n=this.elements;var i=[];for(var o=0,a=n.length;o<a;++o){i[o]=n[o].evaluate(t,r)}return i};t.prototype.accept=function e(t){return t.visitLiteralArray(this)};t.prototype.connect=function e(t,r){var n=this.elements.length;for(var i=0;i<n;i++){this.elements[i].connect(t,r)}};return t}(Ke);var dt=t.LiteralObject=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.keys=t;n.values=r;return n}t.prototype.evaluate=function e(t,r){var n={};var i=this.keys;var o=this.values;for(var a=0,s=i.length;a<s;++a){n[i[a]]=o[a].evaluate(t,r)}return n};t.prototype.accept=function e(t){return t.visitLiteralObject(this)};t.prototype.connect=function e(t,r){var n=this.keys.length;for(var i=0;i<n;i++){this.values[i].connect(t,r)}};return t}(Ke);function pt(e,t,r){var n=t.length;var i=[];for(var o=0;o<n;o++){i[o]=t[o].evaluate(e,r)}return i}function vt(e,t){if(e!==null&&t!==null){if(typeof e==="string"&&typeof t!=="string"){return e+t.toString()}if(typeof e!=="string"&&typeof t==="string"){return e.toString()+t}return e+t}if(e!==null){return e}if(t!==null){return t}return 0}function gt(e,t,r){var n=e===null||e===undefined?null:e[t];if(typeof n==="function"){return n}if(!r&&(n===null||n===undefined)){return null}throw new Error(t+" is not a function")}function mt(e,t){if(Array.isArray(e)){return e[parseInt(t,10)]}else if(e){return e[t]}else if(e===null||e===undefined){return undefined}return e[t]}function yt(e,t,r){if(Array.isArray(e)){var n=parseInt(t,10);if(e.length<=n){e.length=n+1}e[n]=r}else{e[t]=r}return r}var bt=null;t.Unparser=bt;if(typeof FEATURE_NO_UNPARSER==="undefined"){t.Unparser=bt=function(){function e(e){this.buffer=e}e.unparse=function e(t){var r=[];var n=new bt(r);t.accept(n);return r.join("")};e.prototype.write=function e(t){this.buffer.push(t)};e.prototype.writeArgs=function e(t){this.write("(");for(var r=0,n=t.length;r<n;++r){if(r!==0){this.write(",")}t[r].accept(this)}this.write(")")};e.prototype.visitBindingBehavior=function e(t){var r=t.args;t.expression.accept(this);this.write("&"+t.name);for(var n=0,i=r.length;n<i;++n){this.write(":");r[n].accept(this)}};e.prototype.visitValueConverter=function e(t){var r=t.args;t.expression.accept(this);this.write("|"+t.name);for(var n=0,i=r.length;n<i;++n){this.write(":");r[n].accept(this)}};e.prototype.visitAssign=function e(t){t.target.accept(this);this.write("=");t.value.accept(this)};e.prototype.visitConditional=function e(t){t.condition.accept(this);this.write("?");t.yes.accept(this);this.write(":");t.no.accept(this)};e.prototype.visitAccessThis=function e(t){if(t.ancestor===0){this.write("$this");return}this.write("$parent");var r=t.ancestor-1;while(r--){this.write(".$parent")}};e.prototype.visitAccessScope=function e(t){var r=t.ancestor;while(r--){this.write("$parent.")}this.write(t.name)};e.prototype.visitAccessMember=function e(t){t.object.accept(this);this.write("."+t.name)};e.prototype.visitAccessKeyed=function e(t){t.object.accept(this);this.write("[");t.key.accept(this);this.write("]")};e.prototype.visitCallScope=function e(t){var r=t.ancestor;while(r--){this.write("$parent.")}this.write(t.name);this.writeArgs(t.args)};e.prototype.visitCallFunction=function e(t){t.func.accept(this);this.writeArgs(t.args)};e.prototype.visitCallMember=function e(t){t.object.accept(this);this.write("."+t.name);this.writeArgs(t.args)};e.prototype.visitPrefix=function e(t){this.write("("+t.operation);if(t.operation.charCodeAt(0)>=97){this.write(" ")}t.expression.accept(this);this.write(")")};e.prototype.visitBinary=function e(t){t.left.accept(this);if(t.operation.charCodeAt(0)===105){this.write(" "+t.operation+" ")}else{this.write(t.operation)}t.right.accept(this)};e.prototype.visitLiteralPrimitive=function e(t){this.write(""+t.value)};e.prototype.visitLiteralArray=function e(t){var r=t.elements;this.write("[");for(var n=0,i=r.length;n<i;++n){if(n!==0){this.write(",")}r[n].accept(this)}this.write("]")};e.prototype.visitLiteralObject=function e(t){var r=t.keys;var n=t.values;this.write("{");for(var i=0,o=r.length;i<o;++i){if(i!==0){this.write(",")}this.write("'"+r[i]+"':");n[i].accept(this)}this.write("}")};e.prototype.visitLiteralString=function e(t){var r=t.value.replace(/'/g,"'");this.write("'"+r+"'")};e.prototype.visitLiteralTemplate=function e(t){var r=t.cooked,n=t.expressions;var i=n.length;this.write("`");this.write(r[0]);for(var o=0;o<i;o++){n[o].accept(this);this.write(r[o+1])}this.write("`")};return e}()}var wt=t.ExpressionCloner=function(){function e(){}e.prototype.cloneExpressionArray=function e(t){var r=[];var n=t.length;while(n--){r[n]=t[n].accept(this)}return r};e.prototype.visitBindingBehavior=function e(t){return new Xe(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))};e.prototype.visitValueConverter=function e(t){return new Ye(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))};e.prototype.visitAssign=function e(t){return new Je(t.target.accept(this),t.value.accept(this))};e.prototype.visitConditional=function e(t){return new Ze(t.condition.accept(this),t.yes.accept(this),t.no.accept(this))};e.prototype.visitAccessThis=function e(t){return new et(t.ancestor)};e.prototype.visitAccessScope=function e(t){return new tt(t.name,t.ancestor)};e.prototype.visitAccessMember=function e(t){return new rt(t.object.accept(this),t.name)};e.prototype.visitAccessKeyed=function e(t){return new nt(t.object.accept(this),t.key.accept(this))};e.prototype.visitCallScope=function e(t){return new it(t.name,this.cloneExpressionArray(t.args),t.ancestor)};e.prototype.visitCallFunction=function e(t){return new at(t.func.accept(this),this.cloneExpressionArray(t.args))};e.prototype.visitCallMember=function e(t){return new ot(t.object.accept(this),t.name,this.cloneExpressionArray(t.args))};e.prototype.visitUnary=function e(t){return new ut(prefix.operation,prefix.expression.accept(this))};e.prototype.visitBinary=function e(t){return new st(t.operation,t.left.accept(this),t.right.accept(this))};e.prototype.visitLiteralPrimitive=function e(t){return new lt(t)};e.prototype.visitLiteralArray=function e(t){return new ht(this.cloneExpressionArray(t.elements))};e.prototype.visitLiteralObject=function e(t){return new dt(t.keys,this.cloneExpressionArray(t.values))};e.prototype.visitLiteralString=function e(t){return new ct(t.value)};e.prototype.visitLiteralTemplate=function e(t){return new ft(t.cooked,this.cloneExpressionArray(t.expressions),t.raw,t.tag&&t.tag.accept(this))};return e}();function xt(e){var t=new wt;return e.accept(t)}var Ct=t.bindingMode={oneTime:0,toView:1,oneWay:1,twoWay:2,fromView:3};var _t=t.Parser=function(){function e(){this.cache=Object.create(null)}e.prototype.parse=function e(t){t=t||"";return this.cache[t]||(this.cache[t]=new St(t).parseBindingBehavior())};return e}();var Et=String.fromCharCode;var St=t.ParserImplementation=function(){n(e,[{key:"raw",get:function e(){return this.src.slice(this.start,this.idx)}}]);function e(e){this.idx=0;this.start=0;this.src=e;this.len=e.length;this.tkn=Ut;this.val=undefined;this.ch=e.charCodeAt(0)}e.prototype.parseBindingBehavior=function e(){this.nextToken();if(this.tkn&Dt){this.err("Invalid start of expression")}var t=this.parseValueConverter();while(this.opt(yr)){t=new Xe(t,this.val,this.parseVariadicArgs())}if(this.tkn!==Ut){this.err("Unconsumed token "+this.raw)}return t};e.prototype.parseValueConverter=function e(){var t=this.parseExpression();while(this.opt(br)){t=new Ye(t,this.val,this.parseVariadicArgs())}return t};e.prototype.parseVariadicArgs=function e(){this.nextToken();var t=[];while(this.opt(gr)){t.push(this.parseExpression())}return t};e.prototype.parseExpression=function e(){var t=this.idx;var r=this.parseConditional();while(this.tkn===Fr){if(!r.isAssignable){this.err("Expression "+this.src.slice(t,this.start)+" is not assignable")}this.nextToken();t=this.idx;r=new Je(r,this.parseConditional())}return r};e.prototype.parseConditional=function e(){var t=this.parseBinary(0);if(this.opt(mr)){var r=this.parseExpression();this.expect(gr);t=new Ze(t,r,this.parseExpression())}return t};e.prototype.parseBinary=function e(t){var r=this.parseLeftHandSide(0);while(this.tkn&Xt){var n=this.tkn;if((n&Bt)<=t){break}this.nextToken();r=new st(Hr[n&Nt],r,this.parseBinary(n&Bt))}return r};e.prototype.parseLeftHandSide=function e(t){var r=void 0;e:switch(this.tkn){case jr:this.nextToken();return this.parseLeftHandSide(0);case Lr:this.nextToken();return new st("-",new lt(0),this.parseLeftHandSide(0));case qr:case Vr:case Nr:var n=Hr[this.tkn&Nt];this.nextToken();return new ut(n,this.parseLeftHandSide(0));case sr:{do{this.nextToken();t++;if(this.opt(cr)){if(this.tkn===cr){this.err()}continue}else if(this.tkn&zt){r=new et(t&Vt);t=t&jt|kt;break e}else{this.err()}}while(this.tkn===sr)}case $t:{r=new tt(this.val,t&Vt);this.nextToken();t=t&jt|At;break}case ar:this.nextToken();r=new et(0);t=t&jt|kt;break;case ur:this.nextToken();r=this.parseExpression();this.expect(hr);t=Tt;break;case pr:{this.nextToken();var i=[];if(this.tkn!==vr){do{i.push(this.parseExpression())}while(this.opt(dr))}this.expect(vr);r=new ht(i);t=Tt;break}case lr:{var o=[];var a=[];this.nextToken();while(this.tkn!==fr){if(this.tkn&Qt){var s=this.ch,u=this.tkn,l=this.idx;o.push(this.val);this.nextToken();if(this.opt(gr)){a.push(this.parseExpression())}else{this.ch=s;this.tkn=u;this.idx=l;a.push(this.parseLeftHandSide(jt))}}else if(this.tkn&Wt){o.push(this.val);this.nextToken();this.expect(gr);a.push(this.parseExpression())}else{this.err()}if(this.tkn!==fr){this.expect(dr)}}this.expect(fr);r=new dt(o,a);t=Tt;break}case Kt:r=new ct(this.val);this.nextToken();t=Tt;break;case er:r=new ft([this.val]);this.nextToken();t=Tt;break;case tr:r=this.parseTemplate(0);t=Tt;break;case Gt:{r=new lt(this.val);this.nextToken();break}case ir:case or:case nr:case rr:r=new lt(Hr[this.tkn&Nt]);this.nextToken();t=Tt;break;default:if(this.idx>=this.len){this.err("Unexpected end of expression")}else{this.err()}}if(t&jt){return r}var c=this.val;while(this.tkn&Zt){switch(this.tkn){case cr:this.nextToken();if(!(this.tkn&Qt)){this.err()}c=this.val;this.nextToken();t=t&Tt|(t&(kt|At))<<1|t&Mt|(t&Pt)>>1|(t&Rt)>>2;if(this.tkn===ur){continue}if(t&At){r=new tt(c,r.ancestor)}else{r=new rt(r,c)}continue;case pr:this.nextToken();t=Pt;r=new nt(r,this.parseExpression());this.expect(vr);break;case ur:this.nextToken();var f=[];while(this.tkn!==hr){f.push(this.parseExpression());if(!this.opt(dr)){break}}this.expect(hr);if(t&At){r=new it(c,f,r.ancestor)}else if(t&(Mt|Tt)){r=new ot(r,c,f)}else{r=new at(r,f)}t=Rt;break;case er:r=new ft([this.val],[],[this.raw],r);this.nextToken();break;case tr:r=this.parseTemplate(t|Lt,r)}}return r};e.prototype.parseTemplate=function e(t,r){var n=[this.val];var i=t&Lt?[this.raw]:undefined;this.expect(tr);var o=[this.parseExpression()];while((this.tkn=this.scanTemplateTail())!==er){n.push(this.val);if(t&Lt){i.push(this.raw)}this.expect(tr);o.push(this.parseExpression())}n.push(this.val);if(t&Lt){i.push(this.raw)}this.nextToken();return new ft(n,o,i,r)};e.prototype.nextToken=function e(){while(this.idx<this.len){if(this.ch<=32){this.next();continue}this.start=this.idx;if(this.ch===36||this.ch>=97&&this.ch<=122){this.tkn=this.scanIdentifier();return}if((this.tkn=Xr[this.ch](this))!==null){return}}this.tkn=Ut};e.prototype.next=function e(){return this.ch=this.src.charCodeAt(++this.idx)};e.prototype.scanIdentifier=function e(){while(Gr.has(this.next())||this.ch>127&&Kr[this.ch]){}return zr[this.val=this.raw]||$t};e.prototype.scanNumber=function e(t){if(t){this.val=0}else{this.val=this.ch-48;while(this.next()<=57&&this.ch>=48){this.val=this.val*10+this.ch-48}}if(t||this.ch===46){if(!t){this.next()}var r=this.idx;var n=this.ch-48;while(this.next()<=57&&this.ch>=48){n=n*10+this.ch-48}this.val=this.val+n/Math.pow(10,this.idx-r)}if(this.ch===101||this.ch===69){var i=this.idx;this.next();if(this.ch===45||this.ch===43){this.next()}if(!(this.ch>=48&&this.ch<=57)){this.idx=i;this.err("Invalid exponent")}while(this.next()<=57&&this.ch>=48){}this.val=parseFloat(this.src.slice(this.start,this.idx))}return Gt};e.prototype.scanString=function e(){var t=this.ch;this.next();var r=void 0;var n=this.idx;while(this.ch!==t){if(this.ch===92){if(!r){r=[]}r.push(this.src.slice(n,this.idx));this.next();var i=void 0;if(this.ch===117){this.next();if(this.idx+4<this.len){var o=this.src.slice(this.idx,this.idx+4);if(!/[A-Z0-9]{4}/i.test(o)){this.err("Invalid unicode escape [\\u"+o+"]")}i=parseInt(o,16);this.idx+=4;this.ch=this.src.charCodeAt(this.idx)}else{this.err()}}else{i=Ot(this.ch);this.next()}r.push(Et(i));n=this.idx}else if(this.ch===0||this.idx>=this.len){this.err("Unterminated quote")}else{this.next()}}var a=this.src.slice(n,this.idx);this.next();var s=a;if(r!==null&&r!==undefined){r.push(a);s=r.join("")}this.val=s;return Kt};e.prototype.scanTemplate=function e(){var t=true;var r="";while(this.next()!==96){if(this.ch===36){if(this.idx+1<this.len&&this.src.charCodeAt(this.idx+1)===123){this.idx++;t=false;break}else{r+="$"}}else if(this.ch===92){r+=Et(Ot(this.next()))}else if(this.ch===0||this.idx>=this.len){this.err("Unterminated template literal")}else{r+=Et(this.ch)}}this.next();this.val=r;if(t){return er}return tr};e.prototype.scanTemplateTail=function e(){if(this.idx>=this.len){this.err("Unterminated template")}this.idx--;return this.scanTemplate()};e.prototype.err=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Unexpected token "+this.raw;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.start;throw new Error("Parser Error: "+t+" at column "+r+" in expression ["+this.src+"]")};e.prototype.opt=function e(t){if(this.tkn===t){this.nextToken();return true}return false};e.prototype.expect=function e(t){if(this.tkn===t){this.nextToken()}else{this.err("Missing expected token "+Hr[t&Nt],this.idx)}};return e}();function Ot(e){switch(e){case 102:return 12;case 110:return 10;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}var kt=1<<10;var At=1<<11;var Mt=1<<12;var Pt=1<<13;var Rt=1<<14;var Tt=1<<15;var jt=1<<16;var Lt=1<<17;var Vt=(1<<9)-1;var Nt=(1<<6)-1;var It=6;var Bt=7<<It;var Dt=1<<11;var Ft=1<<12;var qt=1<<13;var zt=1<<14;var Ht=1<<15;var Ut=1<<16|zt|Dt;var $t=1<<17;var Qt=$t|Ht;var Wt=1<<18;var Gt=1<<19|Wt;var Kt=1<<20|Wt;var Xt=1<<21;var Yt=1<<22;var Jt=1<<23;var Zt=1<<24;var er=1<<25|Zt;var tr=1<<26|Zt;var rr=0|Ht|Wt;var nr=1|Ht|Wt;var ir=2|Ht|Wt;var or=3|Ht|Wt;var ar=4|Qt;var sr=5|Qt;var ur=6|qt|zt|Zt;var lr=7|qt;var cr=8|Jt|Zt;var fr=9|zt|Ft|Dt;var hr=10|zt|Ft|Dt;var dr=11|zt;var pr=12|qt|zt|Jt|Zt;var vr=13|Ft|Dt;var gr=14|zt;var mr=15;var yr=18|zt;var br=19|zt;var wr=20|1<<It|Xt;var xr=21|2<<It|Xt;var Cr=22|3<<It|Xt;var _r=23|4<<It|Xt;var Er=24|4<<It|Xt;var Sr=25|4<<It|Xt;var Or=26|4<<It|Xt;var kr=27|5<<It|Xt;var Ar=28|5<<It|Xt;var Mr=29|5<<It|Xt;var Pr=30|5<<It|Xt;var Rr=31|5<<It|Xt|Ht;var Tr=32|5<<It|Xt|Ht;var jr=33|6<<It|Xt|Yt;var Lr=34|6<<It|Xt|Yt;var Vr=35|Yt|Ht;var Nr=36|Yt|Ht;var Ir=37|7<<It|Xt;var Br=38|7<<It|Xt;var Dr=39|7<<It|Xt;var Fr=40;var qr=41|Yt;var zr=Object.create(null);zr.true=nr;zr.null=ir;zr.false=rr;zr.undefined=or;zr.$this=ar;zr.$parent=sr;zr.in=Rr;zr.instanceof=Tr;zr.typeof=Vr;zr.void=Nr;var Hr=[false,true,null,undefined,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","^","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!"];var Ur={AsciiIdPart:[36,0,48,58,65,91,95,0,97,123],IdStart:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Digit:[48,58],Skip:[0,33,127,161]};function $r(e,t,r,n){var i=r.length;for(var o=0;o<i;o+=2){var a=r[o];var s=r[o+1];s=s>0?s:a+1;if(e){var u=a;while(u<s){e[u]=n;u++}}if(t){for(var l=a;l<s;l++){t.add(l)}}}}function Qr(e){return function(t){t.next();return e}}function Wr(e){e.err("Unexpected character ["+Et(e.ch)+"]");return null}var Gr=new Set;$r(null,Gr,Ur.AsciiIdPart,true);var Kr=new Uint8Array(65535);$r(Kr,null,Ur.IdStart,1);$r(Kr,null,Ur.Digit,1);var Xr=new Array(65535);var Yr=0;while(Yr<65535){Xr[Yr]=Wr;Yr++}$r(Xr,null,Ur.Skip,(function(e){e.next();return null}));$r(Xr,null,Ur.IdStart,(function(e){return e.scanIdentifier()}));$r(Xr,null,Ur.Digit,(function(e){return e.scanNumber(false)}));Xr[34]=Xr[39]=function(e){return e.scanString()};Xr[96]=function(e){return e.scanTemplate()};Xr[33]=function(e){if(e.next()!==61){return qr}if(e.next()!==61){return Er}e.next();return Or};Xr[61]=function(e){if(e.next()!==61){return Fr}if(e.next()!==61){return _r}e.next();return Sr};Xr[38]=function(e){if(e.next()!==38){return yr}e.next();return xr};Xr[124]=function(e){if(e.next()!==124){return br}e.next();return wr};Xr[46]=function(e){if(e.next()<=57&&e.ch>=48){return e.scanNumber(true)}return cr};Xr[60]=function(e){if(e.next()!==61){return kr}e.next();return Mr};Xr[62]=function(e){if(e.next()!==61){return Ar}e.next();return Pr};Xr[37]=Qr(Br);Xr[40]=Qr(ur);Xr[41]=Qr(hr);Xr[42]=Qr(Ir);Xr[43]=Qr(jr);Xr[44]=Qr(dr);Xr[45]=Qr(Lr);Xr[47]=Qr(Dr);Xr[58]=Qr(gr);Xr[63]=Qr(mr);Xr[91]=Qr(pr);Xr[93]=Qr(vr);Xr[94]=Qr(Cr);Xr[123]=Qr(lr);Xr[125]=Qr(fr);var Jr=Map.prototype;function Zr(e,t){return en.for(e,t)}t.getMapObserver=Zr;var en=function(e){V(t,e);function t(t,r){return L(this,e.call(this,t,r))}t.for=function e(r,n){if(!("__map_observer__"in n)){Reflect.defineProperty(n,"__map_observer__",{value:t.create(r,n),enumerable:false,configurable:false})}return n.__map_observer__};t.create=function e(r,n){var i=new t(r,n);var o=Jr;if(o.set!==n.set||o.delete!==n.delete||o.clear!==n.clear){o={set:n.set,delete:n.delete,clear:n.clear}}n.set=function(){var e=n.has(arguments[0]);var t=e?"update":"add";var r=n.get(arguments[0]);var a=o.set.apply(n,arguments);if(!e||r!==n.get(arguments[0])){i.addChangeRecord({type:t,object:n,key:arguments[0],oldValue:r})}return a};n.delete=function(){var e=n.has(arguments[0]);var t=n.get(arguments[0]);var r=o.delete.apply(n,arguments);if(e){i.addChangeRecord({type:"delete",object:n,key:arguments[0],oldValue:t})}return r};n.clear=function(){var e=o.clear.apply(n,arguments);i.addChangeRecord({type:"clear",object:n});return e};return i};return t}(Ie);var tn=M.getLogger("event-manager");function rn(e){return e.composedPath&&e.composedPath()[0]||e.deepPath&&e.deepPath()[0]||e.path&&e.path[0]||e.target}function nn(){this.standardStopPropagation();this.propagationStopped=true}function on(e){e.propagationStopped=false;var t=rn(e);var r=[];while(t){if(t.capturedCallbacks){var n=t.capturedCallbacks[e.type];if(n){if(e.stopPropagation!==nn){e.standardStopPropagation=e.stopPropagation;e.stopPropagation=nn}r.push(n)}}t=t.parentNode}for(var i=r.length-1;i>=0&&!e.propagationStopped;i--){var o=r[i];if("handleEvent"in o){o.handleEvent(e)}else{o(e)}}}var an=function(){function e(e){this.eventName=e;this.count=0}e.prototype.increment=function e(){this.count++;if(this.count===1){P.DOM.addEventListener(this.eventName,on,true)}};e.prototype.decrement=function e(){if(this.count===0){tn.warn("The same EventListener was disposed multiple times.")}else if(--this.count===0){P.DOM.removeEventListener(this.eventName,on,true)}};return e}();var sn=function(){function e(e,t){this.eventName=e;this.count=0;this.eventManager=t}e.prototype.handleEvent=function e(t){t.propagationStopped=false;var r=rn(t);while(r&&!t.propagationStopped){if(r.delegatedCallbacks){var n=r.delegatedCallbacks[t.type];if(n){if(t.stopPropagation!==nn){t.standardStopPropagation=t.stopPropagation;t.stopPropagation=nn}if("handleEvent"in n){n.handleEvent(t)}else{n(t)}}}var i=r.parentNode;var o=this.eventManager.escapeShadowRoot&&i instanceof ShadowRoot;r=o?i.host:i}};e.prototype.increment=function e(){this.count++;if(this.count===1){P.DOM.addEventListener(this.eventName,this,false)}};e.prototype.decrement=function e(){if(this.count===0){tn.warn("The same EventListener was disposed multiple times.")}else if(--this.count===0){P.DOM.removeEventListener(this.eventName,this,false)}};return e}();var un=function(){function e(e,t,r){this.entry=e;this.lookup=t;this.targetEvent=r}e.prototype.dispose=function e(){if(this.lookup[this.targetEvent]){this.entry.decrement();this.lookup[this.targetEvent]=null}else{tn.warn("Calling .dispose() on already disposed eventListener")}};return e}();var ln=function(){function e(e,t,r){this.target=e;this.targetEvent=t;this.callback=r}e.prototype.dispose=function e(){this.target.removeEventListener(this.targetEvent,this.callback)};return e}();var cn=function(){function e(e){this.delegatedHandlers={};this.capturedHandlers={};this.eventManager=e}e.prototype.subscribe=function e(t,r,n,i,o){var a=void 0;var s=void 0;var u=void 0;if(i===fn.bubbling){a=this.delegatedHandlers;u=a[r]||(a[r]=new sn(r,this.eventManager));var l=t.delegatedCallbacks||(t.delegatedCallbacks={});if(!l[r]){u.increment()}else{tn.warn("Overriding previous callback for event listener",{event:r,callback:n,previousCallback:l[r]})}l[r]=n;if(o===true){return new un(u,l,r)}return function(){u.decrement();l[r]=null}}if(i===fn.capturing){s=this.capturedHandlers;u=s[r]||(s[r]=new an(r));var c=t.capturedCallbacks||(t.capturedCallbacks={});if(!c[r]){u.increment()}else{tn.error("already have a callback for event",{event:r,callback:n})}c[r]=n;if(o===true){return new un(u,c,r)}return function(){u.decrement();c[r]=null}}t.addEventListener(r,n);if(o===true){return new ln(t,r,n)}return function(){t.removeEventListener(r,n)}};return e}();var fn=t.delegationStrategy={none:0,capturing:1,bubbling:2};var hn=t.EventManager=function(){function e(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.elementHandlerLookup={};this.eventStrategyLookup={};this.escapeShadowRoot=e;this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}});this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}});this.registerElementConfig({tagName:"select",properties:{value:["change"]}});this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}});this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}});this.defaultEventStrategy=new cn(this)}e.prototype.registerElementConfig=function e(t){var r=t.tagName.toLowerCase();var n=t.properties;var i=void 0;var o=this.elementHandlerLookup[r]={};for(i in n){if(n.hasOwnProperty(i)){o[i]=n[i]}}};e.prototype.registerEventStrategy=function e(t,r){this.eventStrategyLookup[t]=r};e.prototype.getElementHandler=function e(t,r){var n=void 0;var i=this.elementHandlerLookup;if(t.tagName){n=t.tagName.toLowerCase();if(i[n]&&i[n][r]){return new dn(i[n][r])}if(r==="textContent"||r==="innerHTML"){return new dn(i["content editable"].value)}if(r==="scrollTop"||r==="scrollLeft"){return new dn(i["scrollable element"][r])}}return null};e.prototype.addEventListener=function e(t,r,n,i,o){return(this.eventStrategyLookup[r]||this.defaultEventStrategy).subscribe(t,r,n,i,o)};return e}();var dn=t.EventSubscriber=function(){function e(e){this.events=e;this.element=null;this.handler=null}e.prototype.subscribe=function e(t,r){this.element=t;this.handler=r;var n=this.events;for(var i=0,o=n.length;o>i;++i){t.addEventListener(n[i],r)}};e.prototype.dispose=function e(){if(this.element===null){return}var t=this.element;var r=this.handler;var n=this.events;for(var i=0,o=n.length;o>i;++i){t.removeEventListener(n[i],r)}this.element=this.handler=null};return e}();var pn=t.DirtyChecker=function(){function e(){this.tracked=[];this.checkDelay=120}e.prototype.addProperty=function e(t){var r=this.tracked;r.push(t);if(r.length===1){this.scheduleDirtyCheck()}};e.prototype.removeProperty=function e(t){var r=this.tracked;r.splice(r.indexOf(t),1)};e.prototype.scheduleDirtyCheck=function e(){var t=this;setTimeout((function(){return t.check()}),this.checkDelay)};e.prototype.check=function e(){var t=this.tracked;var r=t.length;while(r--){var n=t[r];if(n.isDirty()){n.call()}}if(t.length){this.scheduleDirtyCheck()}};return e}();var vn=t.DirtyCheckProperty=(h=be(),h(d=function(){function e(e,t,r){this.dirtyChecker=e;this.obj=t;this.propertyName=r}e.prototype.getValue=function e(){return this.obj[this.propertyName]};e.prototype.setValue=function e(t){this.obj[this.propertyName]=t};e.prototype.call=function e(){var t=this.oldValue;var r=this.getValue();this.callSubscribers(r,t);this.oldValue=r};e.prototype.isDirty=function e(){return this.oldValue!==this.obj[this.propertyName]};e.prototype.subscribe=function e(t,r){if(!this.hasSubscribers()){this.oldValue=this.getValue();this.dirtyChecker.addProperty(this)}this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){if(this.removeSubscriber(t,r)&&!this.hasSubscribers()){this.dirtyChecker.removeProperty(this)}};return e}())||d);var gn=M.getLogger("property-observation");var mn=t.propertyAccessor={getValue:function e(t,r){return t[r]},setValue:function e(t,r,n){r[n]=t}};var yn=t.PrimitiveObserver=function(){function e(e,t){this.doNotCache=true;this.primitive=e;this.propertyName=t}e.prototype.getValue=function e(){return this.primitive[this.propertyName]};e.prototype.setValue=function e(){var t=i(this.primitive);throw new Error("The "+this.propertyName+" property of a "+t+" ("+this.primitive+") cannot be assigned.")};e.prototype.subscribe=function e(){};e.prototype.unsubscribe=function e(){};return e}();var bn=t.SetterObserver=(p=be(),p(v=function(){function e(e,t,r){this.taskQueue=e;this.obj=t;this.propertyName=r;this.queued=false;this.observing=false}e.prototype.getValue=function e(){return this.obj[this.propertyName]};e.prototype.setValue=function e(t){this.obj[this.propertyName]=t};e.prototype.getterValue=function e(){return this.currentValue};e.prototype.setterValue=function e(t){var r=this.currentValue;if(r!==t){if(!this.queued){this.oldValue=r;this.queued=true;this.taskQueue.queueMicroTask(this)}this.currentValue=t}};e.prototype.call=function e(){var t=this.oldValue;var r=this.oldValue=this.currentValue;this.queued=false;this.callSubscribers(r,t)};e.prototype.subscribe=function e(t,r){if(!this.observing){this.convertProperty()}this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){this.removeSubscriber(t,r)};e.prototype.convertProperty=function e(){this.observing=true;this.currentValue=this.obj[this.propertyName];this.setValue=this.setterValue;this.getValue=this.getterValue;if(!Reflect.defineProperty(this.obj,this.propertyName,{configurable:true,enumerable:this.propertyName in this.obj?this.obj.propertyIsEnumerable(this.propertyName):true,get:this.getValue.bind(this),set:this.setValue.bind(this)})){gn.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)}};return e}())||v);var wn=t.XLinkAttributeObserver=function(){function e(e,t,r){this.element=e;this.propertyName=t;this.attributeName=r}e.prototype.getValue=function e(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)};e.prototype.setValue=function e(t){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,t)};e.prototype.subscribe=function e(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')};return e}();var xn=t.dataAttributeAccessor={getValue:function e(t,r){return t.getAttribute(r)},setValue:function e(t,r,n){if(t===null||t===undefined){r.removeAttribute(n)}else{r.setAttribute(n,t)}}};var Cn=t.DataAttributeObserver=function(){function e(e,t){this.element=e;this.propertyName=t}e.prototype.getValue=function e(){return this.element.getAttribute(this.propertyName)};e.prototype.setValue=function e(t){if(t===null||t===undefined){return this.element.removeAttribute(this.propertyName)}return this.element.setAttribute(this.propertyName,t)};e.prototype.subscribe=function e(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')};return e}();var _n=t.StyleObserver=function(){function e(e,t){this.element=e;this.propertyName=t;this.styles=null;this.version=0}e.prototype.getValue=function e(){return this.element.style.cssText};e.prototype._setProperty=function e(t,r){var n="";if(r!==null&&r!==undefined&&typeof r.indexOf==="function"&&r.indexOf("!important")!==-1){n="important";r=r.replace("!important","")}this.element.style.setProperty(t,r,n)};e.prototype.setValue=function e(t){var r=this.styles||{};var n=void 0;var i=this.version;if(t!==null&&t!==undefined){if(t instanceof Object){var o=void 0;for(n in t){if(t.hasOwnProperty(n)){o=t[n];n=n.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));r[n]=i;this._setProperty(n,o)}}}else if(t.length){var a=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;var s=void 0;while((s=a.exec(t))!==null){n=s[1];if(!n){continue}r[n]=i;this._setProperty(n,s[2])}}}this.styles=r;this.version+=1;if(i===0){return}i-=1;for(n in r){if(!r.hasOwnProperty(n)||r[n]!==i){continue}this.element.style.removeProperty(n)}};e.prototype.subscribe=function e(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')};return e}();var En=t.ValueAttributeObserver=(g=be(),g(m=function(){function e(e,t,r){this.element=e;this.propertyName=t;this.handler=r;if(t==="files"){this.setValue=function(){}}}e.prototype.getValue=function e(){return this.element[this.propertyName]};e.prototype.setValue=function e(t){t=t===undefined||t===null?"":t;if(this.element[this.propertyName]!==t){this.element[this.propertyName]=t;this.notify()}};e.prototype.notify=function e(){var t=this.oldValue;var r=this.getValue();this.callSubscribers(r,t);this.oldValue=r};e.prototype.handleEvent=function e(){this.notify()};e.prototype.subscribe=function e(t,r){if(!this.hasSubscribers()){this.oldValue=this.getValue();this.handler.subscribe(this.element,this)}this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){if(this.removeSubscriber(t,r)&&!this.hasSubscribers()){this.handler.dispose()}};return e}())||m);var Sn="CheckedObserver:array";var On="CheckedObserver:value";var kn=t.CheckedObserver=(y=be(),y(b=function(){function e(e,t,r){this.element=e;this.handler=t;this.observerLocator=r}e.prototype.getValue=function e(){return this.value};e.prototype.setValue=function e(t){if(this.initialSync&&this.value===t){return}if(this.arrayObserver){this.arrayObserver.unsubscribe(Sn,this);this.arrayObserver=null}if(this.element.type==="checkbox"&&Array.isArray(t)){this.arrayObserver=this.observerLocator.getArrayObserver(t);this.arrayObserver.subscribe(Sn,this)}this.oldValue=this.value;this.value=t;this.synchronizeElement();this.notify();if(!this.initialSync){this.initialSync=true;this.observerLocator.taskQueue.queueMicroTask(this)}};e.prototype.call=function e(t,r){this.synchronizeElement();if(!this.valueObserver){this.valueObserver=this.element.__observers__.model||this.element.__observers__.value;if(this.valueObserver){this.valueObserver.subscribe(On,this)}}};e.prototype.synchronizeElement=function e(){var t=this.value;var r=this.element;var n=r.hasOwnProperty("model")?r.model:r.value;var i=r.type==="radio";var o=r.matcher||function(e,t){return e===t};r.checked=i&&!!o(t,n)||!i&&t===true||!i&&Array.isArray(t)&&t.findIndex((function(e){return!!o(e,n)}))!==-1};e.prototype.synchronizeValue=function e(){var t=this.value;var r=this.element;var n=r.hasOwnProperty("model")?r.model:r.value;var i=void 0;var o=r.matcher||function(e,t){return e===t};if(r.type==="checkbox"){if(Array.isArray(t)){i=t.findIndex((function(e){return!!o(e,n)}));if(r.checked&&i===-1){t.push(n)}else if(!r.checked&&i!==-1){t.splice(i,1)}return}t=r.checked}else if(r.checked){t=n}else{return}this.oldValue=this.value;this.value=t;this.notify()};e.prototype.notify=function e(){var t=this.oldValue;var r=this.value;if(r===t){return}this.callSubscribers(r,t)};e.prototype.handleEvent=function e(){this.synchronizeValue()};e.prototype.subscribe=function e(t,r){if(!this.hasSubscribers()){this.handler.subscribe(this.element,this)}this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){if(this.removeSubscriber(t,r)&&!this.hasSubscribers()){this.handler.dispose()}};e.prototype.unbind=function e(){if(this.arrayObserver){this.arrayObserver.unsubscribe(Sn,this);this.arrayObserver=null}if(this.valueObserver){this.valueObserver.unsubscribe(On,this)}};return e}())||b);var An="SelectValueObserver:array";var Mn=t.SelectValueObserver=(w=be(),w(x=function(){function e(e,t,r){this.element=e;this.handler=t;this.observerLocator=r}e.prototype.getValue=function e(){return this.value};e.prototype.setValue=function e(t){if(t!==null&&t!==undefined&&this.element.multiple&&!Array.isArray(t)){throw new Error("Only null or Array instances can be bound to a multi-select.")}if(this.value===t){return}if(this.arrayObserver){this.arrayObserver.unsubscribe(An,this);this.arrayObserver=null}if(Array.isArray(t)){this.arrayObserver=this.observerLocator.getArrayObserver(t);this.arrayObserver.subscribe(An,this)}this.oldValue=this.value;this.value=t;this.synchronizeOptions();this.notify();if(!this.initialSync){this.initialSync=true;this.observerLocator.taskQueue.queueMicroTask(this)}};e.prototype.call=function e(t,r){this.synchronizeOptions()};e.prototype.synchronizeOptions=function e(){var t=this.value;var r=void 0;if(Array.isArray(t)){r=true}var n=this.element.options;var i=n.length;var o=this.element.matcher||function(e,t){return e===t};var a=function e(){var a=n.item(i);var s=a.hasOwnProperty("model")?a.model:a.value;if(r){a.selected=t.findIndex((function(e){return!!o(s,e)}))!==-1;return"continue"}a.selected=!!o(s,t)};while(i--){var s=a();if(s==="continue")continue}};e.prototype.synchronizeValue=function e(){var t=this;var r=this.element.options;var n=0;var o=[];for(var a=0,s=r.length;a<s;a++){var u=r.item(a);if(!u.selected){continue}o.push(u.hasOwnProperty("model")?u.model:u.value);n++}if(this.element.multiple){if(Array.isArray(this.value)){var l=function(){var e=t.element.matcher||function(e,t){return e===t};var r=0;var n=function n(){var i=t.value[r];if(o.findIndex((function(t){return e(i,t)}))===-1){t.value.splice(r,1)}else{r++}};while(r<t.value.length){n()}r=0;var i=function n(){var i=o[r];if(t.value.findIndex((function(t){return e(i,t)}))===-1){t.value.push(i)}r++};while(r<o.length){i()}return{v:void 0}}();if((typeof l==="undefined"?"undefined":i(l))==="object")return l.v}}else{if(n===0){o=null}else{o=o[0]}}if(o!==this.value){this.oldValue=this.value;this.value=o;this.notify()}};e.prototype.notify=function e(){var t=this.oldValue;var r=this.value;this.callSubscribers(r,t)};e.prototype.handleEvent=function e(){this.synchronizeValue()};e.prototype.subscribe=function e(t,r){if(!this.hasSubscribers()){this.handler.subscribe(this.element,this)}this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){if(this.removeSubscriber(t,r)&&!this.hasSubscribers()){this.handler.dispose()}};e.prototype.bind=function e(){var t=this;this.domObserver=P.DOM.createMutationObserver((function(){t.synchronizeOptions();t.synchronizeValue()}));this.domObserver.observe(this.element,{childList:true,subtree:true,characterData:true})};e.prototype.unbind=function e(){this.domObserver.disconnect();this.domObserver=null;if(this.arrayObserver){this.arrayObserver.unsubscribe(An,this);this.arrayObserver=null}};return e}())||x);var Pn=t.ClassObserver=function(){function e(e){this.element=e;this.doNotCache=true;this.value="";this.version=0}e.prototype.getValue=function e(){return this.value};e.prototype.setValue=function e(t){var r=this.nameIndex||{};var n=this.version;var i=void 0;var o=void 0;if(t!==null&&t!==undefined&&t.length){i=t.split(/\s+/);for(var a=0,s=i.length;a<s;a++){o=i[a];if(o===""){continue}r[o]=n;this.element.classList.add(o)}}this.value=t;this.nameIndex=r;this.version+=1;if(n===0){return}n-=1;for(o in r){if(!r.hasOwnProperty(o)||r[o]!==n){continue}this.element.classList.remove(o)}};e.prototype.subscribe=function e(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')};return e}();function Rn(e){return!!(e&&e.get&&e.get.dependencies)}function Tn(e,t,r){var n=Object.getOwnPropertyDescriptor(e.prototype,t);n.get.dependencies=r}function jn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return function(e,r,n){n.get.dependencies=t;return n}}var Ln=t.ComputedExpression=function(e){V(t,e);function t(t,r){var n=L(this,e.call(this));n.name=t;n.dependencies=r;n.isAssignable=true;return n}t.prototype.evaluate=function e(t,r){return t.bindingContext[this.name]};t.prototype.assign=function e(t,r){t.bindingContext[this.name]=r};t.prototype.accept=function e(t){throw new Error("not implemented")};t.prototype.connect=function e(t,r){var n=this.dependencies;var i=n.length;while(i--){n[i].connect(t,r)}};return t}(Ke);function Vn(e,t,r,n){var i=r.get.dependencies;if(!(i instanceof Ln)){var o=i.length;while(o--){i[o]=n.parser.parse(i[o])}i=r.get.dependencies=new Ln(t,i)}var a={bindingContext:e,overrideContext:F(e)};return new we(a,i,n)}var Nn=void 0;var In=void 0;var Bn=void 0;var Dn=void 0;if(typeof FEATURE_NO_SVG==="undefined"){Nn={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]};In={a:true,altGlyph:true,animate:true,animateColor:true,circle:true,clipPath:true,defs:true,ellipse:true,feBlend:true,feColorMatrix:true,feComponentTransfer:true,feComposite:true,feConvolveMatrix:true,feDiffuseLighting:true,feDisplacementMap:true,feFlood:true,feGaussianBlur:true,feImage:true,feMerge:true,feMorphology:true,feOffset:true,feSpecularLighting:true,feTile:true,feTurbulence:true,filter:true,font:true,foreignObject:true,g:true,glyph:true,glyphRef:true,image:true,line:true,linearGradient:true,marker:true,mask:true,"missing-glyph":true,path:true,pattern:true,polygon:true,polyline:true,radialGradient:true,rect:true,stop:true,svg:true,switch:true,symbol:true,text:true,textPath:true,tref:true,tspan:true,use:true};Bn={"alignment-baseline":true,"baseline-shift":true,"clip-path":true,"clip-rule":true,clip:true,"color-interpolation-filters":true,"color-interpolation":true,"color-profile":true,"color-rendering":true,color:true,cursor:true,direction:true,display:true,"dominant-baseline":true,"enable-background":true,"fill-opacity":true,"fill-rule":true,fill:true,filter:true,"flood-color":true,"flood-opacity":true,"font-family":true,"font-size-adjust":true,"font-size":true,"font-stretch":true,"font-style":true,"font-variant":true,"font-weight":true,"glyph-orientation-horizontal":true,"glyph-orientation-vertical":true,"image-rendering":true,kerning:true,"letter-spacing":true,"lighting-color":true,"marker-end":true,"marker-mid":true,"marker-start":true,mask:true,opacity:true,overflow:true,"pointer-events":true,"shape-rendering":true,"stop-color":true,"stop-opacity":true,"stroke-dasharray":true,"stroke-dashoffset":true,"stroke-linecap":true,"stroke-linejoin":true,"stroke-miterlimit":true,"stroke-opacity":true,"stroke-width":true,stroke:true,"text-anchor":true,"text-decoration":true,"text-rendering":true,"unicode-bidi":true,visibility:true,"word-spacing":true,"writing-mode":true};var Fn=function e(t){var r=P.DOM.createElement("div");r.innerHTML=t;return r.firstChild};Dn=function(){function e(){if(Fn("<svg><altGlyph /></svg>").firstElementChild.nodeName==="altglyph"&&qn.altGlyph){qn.altglyph=qn.altGlyph;delete qn.altGlyph;qn.altglyphdef=qn.altGlyphDef;delete qn.altGlyphDef;qn.altglyphitem=qn.altGlyphItem;delete qn.altGlyphItem;qn.glyphref=qn.glyphRef;delete qn.glyphRef}}e.prototype.isStandardSvgAttribute=function e(t,r){return zn[t]&&Hn[r]||qn[t]&&qn[t].indexOf(r)!==-1};return e}()}var qn=t.elements=Nn;var zn=t.presentationElements=In;var Hn=t.presentationAttributes=Bn;var Un=t.SVGAnalyzer=Dn||function(){function e(){}e.prototype.isStandardSvgAttribute=function e(){return false};return e}();var $n=t.ObserverLocator=(_=C=function(){function e(e,t,r,n,i){this.taskQueue=e;this.eventManager=t;this.dirtyChecker=r;this.svgAnalyzer=n;this.parser=i;this.adapters=[];this.logger=M.getLogger("observer-locator")}e.prototype.getObserver=function e(t,r){var n=t.__observers__;var i=void 0;if(n&&r in n){return n[r]}i=this.createPropertyObserver(t,r);if(!i.doNotCache){if(n===undefined){n=this.getOrCreateObserversLookup(t)}n[r]=i}return i};e.prototype.getOrCreateObserversLookup=function e(t){return t.__observers__||this.createObserversLookup(t)};e.prototype.createObserversLookup=function e(t){var r={};if(!Reflect.defineProperty(t,"__observers__",{enumerable:false,configurable:false,writable:false,value:r})){this.logger.warn("Cannot add observers to object",t)}return r};e.prototype.addAdapter=function e(t){this.adapters.push(t)};e.prototype.getAdapterObserver=function e(t,r,n){for(var i=0,o=this.adapters.length;i<o;i++){var a=this.adapters[i];var s=a.getObserver(t,r,n);if(s){return s}}return null};e.prototype.createPropertyObserver=function e(t,r){var n=void 0;var i=void 0;var o=void 0;if(!(t instanceof Object)){return new yn(t,r)}if(t instanceof P.DOM.Element){if(r==="class"){return new Pn(t)}if(r==="style"||r==="css"){return new _n(t,r)}i=this.eventManager.getElementHandler(t,r);if(r==="value"&&t.tagName.toLowerCase()==="select"){return new Mn(t,i,this)}if(r==="checked"&&t.tagName.toLowerCase()==="input"){return new kn(t,i,this)}if(i){return new En(t,r,i)}o=/^xlink:(.+)$/.exec(r);if(o){return new wn(t,r,o[1])}if(r==="role"&&(t instanceof P.DOM.Element||t instanceof P.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(r)||t instanceof P.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,r)){return new Cn(t,r)}}n=Object.getPropertyDescriptor(t,r);if(Rn(n)){return Vn(t,r,n,this)}if(n){var a=n.get||n.set;if(a){if(a.getObserver){return a.getObserver(t)}var s=this.getAdapterObserver(t,r,n);if(s){return s}return new vn(this.dirtyChecker,t,r)}}if(t instanceof Array){if(r==="length"){return this.getArrayObserver(t).getLengthObserver()}return new vn(this.dirtyChecker,t,r)}else if(t instanceof Map){if(r==="size"){return this.getMapObserver(t).getLengthObserver()}return new vn(this.dirtyChecker,t,r)}else if(t instanceof Set){if(r==="size"){return this.getSetObserver(t).getLengthObserver()}return new vn(this.dirtyChecker,t,r)}return new bn(this.taskQueue,t,r)};e.prototype.getAccessor=function e(t,r){if(t instanceof P.DOM.Element){if(r==="class"||r==="style"||r==="css"||r==="value"&&(t.tagName.toLowerCase()==="input"||t.tagName.toLowerCase()==="select")||r==="checked"&&t.tagName.toLowerCase()==="input"||r==="model"&&t.tagName.toLowerCase()==="input"||/^xlink:.+$/.exec(r)){return this.getObserver(t,r)}if(/^\w+:|^data-|^aria-/.test(r)||t instanceof P.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,r)||t.tagName.toLowerCase()==="img"&&r==="src"||t.tagName.toLowerCase()==="a"&&r==="href"){return xn}}return mn};e.prototype.getArrayObserver=function e(t){return We(this.taskQueue,t)};e.prototype.getMapObserver=function e(t){return Zr(this.taskQueue,t)};e.prototype.getSetObserver=function e(t){return li(this.taskQueue,t)};return e}(),C.inject=[R.TaskQueue,hn,pn,Un,_t],_);var Qn=t.ObjectObservationAdapter=function(){function e(){}e.prototype.getObserver=function e(t,r,n){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")};return e}();var Wn=t.BindingExpression=function(){function e(e,t,r,n,i,o){this.observerLocator=e;this.targetProperty=t;this.sourceExpression=r;this.mode=n;this.lookupFunctions=i;this.attribute=o;this.discrete=false}e.prototype.createBinding=function e(t){return new Gn(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.mode,this.lookupFunctions)};return e}();var Gn=t.Binding=(E=Y(),E(S=function(){function e(e,t,r,n,i,o){this.observerLocator=e;this.sourceExpression=t;this.target=r;this.targetProperty=n;this.mode=i;this.lookupFunctions=o}e.prototype.updateTarget=function e(t){this.targetObserver.setValue(t,this.target,this.targetProperty)};e.prototype.updateSource=function e(t){this.sourceExpression.assign(this.source,t,this.lookupFunctions)};e.prototype.call=function e(t,r,n){if(!this.isBound){return}if(t===I){n=this.targetObserver.getValue(this.target,this.targetProperty);r=this.sourceExpression.evaluate(this.source,this.lookupFunctions);if(r!==n){this.updateTarget(r)}if(this.mode!==Ct.oneTime){this._version++;this.sourceExpression.connect(this,this.source);this.unobserve(false)}return}if(t===N){if(r!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)){this.updateSource(r)}return}throw new Error("Unexpected call context "+t)};e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;if(this.sourceExpression.bind){this.sourceExpression.bind(this,t,this.lookupFunctions)}var r=this.mode;if(!this.targetObserver){var n=r===Ct.twoWay||r===Ct.fromView?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[n](this.target,this.targetProperty)}if("bind"in this.targetObserver){this.targetObserver.bind()}if(this.mode!==Ct.fromView){var i=this.sourceExpression.evaluate(t,this.lookupFunctions);this.updateTarget(i)}if(r===Ct.oneTime){return}else if(r===Ct.toView){ae(this)}else if(r===Ct.twoWay){this.sourceExpression.connect(this,t);this.targetObserver.subscribe(N,this)}else if(r===Ct.fromView){this.targetObserver.subscribe(N,this)}};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;if(this.sourceExpression.unbind){this.sourceExpression.unbind(this,this.source)}this.source=null;if("unbind"in this.targetObserver){this.targetObserver.unbind()}if(this.targetObserver.unsubscribe){this.targetObserver.unsubscribe(N,this)}this.unobserve(true)};e.prototype.connect=function e(t){if(!this.isBound){return}if(t){var r=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(r)}this.sourceExpression.connect(this,this.source)};return e}())||S);var Kn=t.CallExpression=function(){function e(e,t,r,n){this.observerLocator=e;this.targetProperty=t;this.sourceExpression=r;this.lookupFunctions=n}e.prototype.createBinding=function e(t){return new Xn(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.lookupFunctions)};return e}();var Xn=t.Call=function(){function e(e,t,r,n,i){this.sourceExpression=t;this.target=r;this.targetProperty=e.getObserver(r,n);this.lookupFunctions=i}e.prototype.callSource=function e(t){var r=this.source.overrideContext;Object.assign(r,t);r.$event=t;var n=true;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,n);delete r.$event;for(var o in t){delete r[o]}return i};e.prototype.bind=function e(t){var r=this;if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;if(this.sourceExpression.bind){this.sourceExpression.bind(this,t,this.lookupFunctions)}this.targetProperty.setValue((function(e){return r.callSource(e)}))};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;if(this.sourceExpression.unbind){this.sourceExpression.unbind(this,this.source)}this.source=null;this.targetProperty.setValue(null)};return e}();var Yn=t.ValueConverterResource=function(){function e(e){this.name=e}e.convention=function t(r){if(r.endsWith("ValueConverter")){return new e(D(r.substring(0,r.length-14)))}};e.prototype.initialize=function e(t,r){this.instance=t.get(r)};e.prototype.register=function e(t,r){t.registerValueConverter(r||this.name,this.instance)};e.prototype.load=function e(t,r){};return e}();function Jn(e){if(e===undefined||typeof e==="string"){return function(t){T.metadata.define(T.metadata.resource,new Yn(e),t)}}T.metadata.define(T.metadata.resource,new Yn,e)}var Zn=t.BindingBehaviorResource=function(){function e(e){this.name=e}e.convention=function t(r){if(r.endsWith("BindingBehavior")){return new e(D(r.substring(0,r.length-15)))}};e.prototype.initialize=function e(t,r){this.instance=t.get(r)};e.prototype.register=function e(t,r){t.registerBindingBehavior(r||this.name,this.instance)};e.prototype.load=function e(t,r){};return e}();function ei(e){if(e===undefined||typeof e==="string"){return function(t){T.metadata.define(T.metadata.resource,new Zn(e),t)}}T.metadata.define(T.metadata.resource,new Zn,e)}var ti=t.ListenerExpression=function(){function e(e,t,r,n,i,o){this.eventManager=e;this.targetEvent=t;this.sourceExpression=r;this.delegationStrategy=n;this.discrete=true;this.preventDefault=i;this.lookupFunctions=o}e.prototype.createBinding=function e(t){return new ri(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,t,this.preventDefault,this.lookupFunctions)};return e}();var ri=t.Listener=function(){function e(e,t,r,n,i,o,a){this.eventManager=e;this.targetEvent=t;this.delegationStrategy=r;this.sourceExpression=n;this.target=i;this.preventDefault=o;this.lookupFunctions=a}e.prototype.callSource=function e(t){var r=this.source.overrideContext;r.$event=t;var n=true;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,n);delete r.$event;if(i!==true&&this.preventDefault){t.preventDefault()}return i};e.prototype.handleEvent=function e(t){this.callSource(t)};e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;if(this.sourceExpression.bind){this.sourceExpression.bind(this,t,this.lookupFunctions)}this._handler=this.eventManager.addEventListener(this.target,this.targetEvent,this,this.delegationStrategy,true)};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;if(this.sourceExpression.unbind){this.sourceExpression.unbind(this,this.source)}this.source=null;this._handler.dispose();this._handler=null};return e}();function ni(e){var t=e.au;if(t===undefined){throw new Error('No Aurelia APIs are defined for the element: "'+e.tagName+'".')}return t}var ii=t.NameExpression=function(){function e(e,t,r){this.sourceExpression=e;this.apiName=t;this.lookupFunctions=r;this.discrete=true}e.prototype.createBinding=function t(r){return new oi(this.sourceExpression,e.locateAPI(r,this.apiName),this.lookupFunctions)};e.locateAPI=function e(t,r){switch(r){case"element":return t;case"controller":return ni(t).controller;case"view-model":return ni(t).controller.viewModel;case"view":return ni(t).controller.view;default:var n=ni(t)[r];if(n===undefined){throw new Error('Attempted to reference "'+r+"\", but it was not found amongst the target's API.")}return n.viewModel}};return e}();var oi=function(){function e(e,t,r){this.sourceExpression=e;this.target=t;this.lookupFunctions=r}e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;if(this.sourceExpression.bind){this.sourceExpression.bind(this,t,this.lookupFunctions)}this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;if(this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target){this.sourceExpression.assign(this.source,null,this.lookupFunctions)}if(this.sourceExpression.unbind){this.sourceExpression.unbind(this,this.source)}this.source=null};return e}();var ai={bindingBehaviors:function e(t){return null},valueConverters:function e(t){return null}};var si=t.BindingEngine=(k=O=function(){function e(e,t){this.observerLocator=e;this.parser=t}e.prototype.createBindingExpression=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Ct.toView;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:ai;return new Wn(this.observerLocator,t,this.parser.parse(r),n,i)};e.prototype.propertyObserver=function e(t,r){var n=this;return{subscribe:function e(i){var o=n.observerLocator.getObserver(t,r);o.subscribe(i);return{dispose:function e(){return o.unsubscribe(i)}}}}};e.prototype.collectionObserver=function e(t){var r=this;return{subscribe:function e(n){var i=void 0;if(t instanceof Array){i=r.observerLocator.getArrayObserver(t)}else if(t instanceof Map){i=r.observerLocator.getMapObserver(t)}else if(t instanceof Set){i=r.observerLocator.getSetObserver(t)}else{throw new Error("collection must be an instance of Array, Map or Set.")}i.subscribe(n);return{dispose:function e(){return i.unsubscribe(n)}}}}};e.prototype.expressionObserver=function e(t,r){var n={bindingContext:t,overrideContext:F(t)};return new we(n,this.parser.parse(r),this.observerLocator,ai)};e.prototype.parseExpression=function e(t){return this.parser.parse(t)};e.prototype.registerAdapter=function e(t){this.observerLocator.addAdapter(t)};return e}(),O.inject=[$n,_t],k);var ui=Set.prototype;function li(e,t){return ci.for(e,t)}t.getSetObserver=li;var ci=function(e){V(t,e);function t(t,r){return L(this,e.call(this,t,r))}t.for=function e(r,n){if(!("__set_observer__"in n)){Reflect.defineProperty(n,"__set_observer__",{value:t.create(r,n),enumerable:false,configurable:false})}return n.__set_observer__};t.create=function e(r,n){var i=new t(r,n);var o=ui;if(o.add!==n.add||o.delete!==n.delete||o.clear!==n.clear){o={add:n.add,delete:n.delete,clear:n.clear}}n.add=function(){var e="add";var t=n.size;var r=o.add.apply(n,arguments);var a=n.size===t;if(!a){i.addChangeRecord({type:e,object:n,value:Array.from(n).pop()})}return r};n.delete=function(){var e=n.has(arguments[0]);var t=o.delete.apply(n,arguments);if(e){i.addChangeRecord({type:"delete",object:n,value:arguments[0]})}return t};n.clear=function(){var e=o.clear.apply(n,arguments);i.addChangeRecord({type:"clear",object:n});return e};return i};return t}(Ie);function fi(e,t,r){function n(e,t,r,n){var i=t===undefined;if(i){e=e.prototype;t=typeof n==="string"?n:n.name}var o="_"+t;var a={configurable:true,enumerable:false,writable:true};var s=n&&n.changeHandler||t+"Changed";if(r){if(typeof r.initializer==="function"){a.value=r.initializer()}}else{r={}}if(!("enumerable"in r)){r.enumerable=true}delete r.value;delete r.writable;delete r.initializer;Reflect.defineProperty(e,o,a);r.get=function(){return this[o]};r.set=function(e){var r=this[o];if(e===r){return}this[o]=e;Reflect.defineProperty(this,o,{enumerable:false});if(this[s]){this[s](e,r,t)}};r.get.dependencies=[o];if(i){Reflect.defineProperty(e,t,r)}else{return r}}if(t===undefined){return function(t,r,i){return n(t,r,i,e)}}return n(e,t,r)}var hi={};function di(e,t){if(!hi.hasOwnProperty(t)){hi[t]=0}e.observeProperty(hi,t)}function pi(e){if(hi.hasOwnProperty(e)){hi[e]++}}}));define("aurelia-bootstrapper/dist/commonjs/aurelia-bootstrapper",["require","exports","module","aurelia-polyfills","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.starting=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.bootstrap=g;e("aurelia-polyfills");var i=e("aurelia-pal");var o=[];var a=void 0;var s=new Promise((function(e){return a=e}));var u=i.PLATFORM.global;var l=typeof process!=="undefined"&&!process.browser;function c(){if(!u.document||u.document.readyState==="complete"){return Promise.resolve()}return new Promise((function(e){u.document.addEventListener("DOMContentLoaded",t);u.addEventListener("load",t);function t(){u.document.removeEventListener("DOMContentLoaded",t);u.removeEventListener("load",t);e()}}))}function f(){if(i.PLATFORM.Loader){return Promise.resolve(new i.PLATFORM.Loader)}if(typeof AURELIA_WEBPACK_2_0==="undefined"){if(typeof __webpack_require__!=="undefined"){var t=__webpack_require__(e.resolve("aurelia-loader-webpack"));return Promise.resolve(new t.WebpackLoader)}if(u.System&&typeof u.System.config==="function"){return u.System.normalize("aurelia-bootstrapper").then((function(e){return u.System.normalize("aurelia-loader-default",e)})).then((function(e){return u.System.import(e).then((function(e){return new e.DefaultLoader}))}))}if(typeof u.require==="function"&&typeof u.define==="function"&&n(u.define.amd)==="object"){return new Promise((function(e,t){return u.require(["aurelia-loader-default"],(function(t){return e(new t.DefaultLoader)}),t)}))}if(l&&typeof r!=="undefined"&&typeof r.require!=="undefined"){var o=r.require("aurelia-loader-nodejs");return Promise.resolve(new o.NodeJsLoader)}}return Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function h(e){if(i.isInitialized)return Promise.resolve();var t=void 0;var r=l&&(process.type==="renderer"||process.versions["node-webkit"]);if(l&&!r){t="nodejs"}else if(typeof window!=="undefined"){t="browser"}else if(typeof self!=="undefined"){t="worker"}else{throw new Error("Could not determine platform implementation to load.")}return e.loadModule("aurelia-pal-"+t).then((function(e){return t==="nodejs"&&!i.isInitialized&&e.globalize()||e.initialize()}))}function d(e){var t=function t(r,n){return e.normalize(r,n).then((function(t){e.map(r,t);return t}))};return h(e).then((function(){return e.normalize("aurelia-bootstrapper")})).then((function(e){var r=t(i.PLATFORM.moduleName("aurelia-framework",{exports:["Aurelia"]}),e);return Promise.all([r,r.then((function(e){return t("aurelia-dependency-injection",e)})),t("aurelia-router",e),t("aurelia-logging-console",e)])})).then((function(t){var r=t[0];return e.loadModule(r)})).then((function(t){return a((function(){return new t.Aurelia(e)}))}))}function p(e,t,r){r.host=e;r.configModuleId=t||null;if(t){return r.loader.loadModule(t).then((function(e){if(!e.configure){throw new Error("Cannot initialize module '"+t+"' without a configure function.")}return e.configure(r)}))}r.use.standardConfiguration().developmentLogging();return r.start().then((function(){return r.setRoot()}))}function v(){return c().then(f).then(d).then((function(){var e=u.document.querySelectorAll("[aurelia-app],[data-aurelia-app]");for(var t=0,r=e.length;t<r;++t){var n=e[t];var i=n.getAttribute("aurelia-app")||n.getAttribute("data-aurelia-app");g(p.bind(null,n,i))}var a=console.error.bind(console);var s=o.map((function(e){return e.catch(a)}));o=null;return Promise.all(s)}))}function g(e){var t=s.then((function(t){return e(t())}));if(o)o.push(t);return t}var m=t.starting=v()}));define("aurelia-dependency-injection/dist/commonjs/aurelia-dependency-injection",["require","exports","module","aurelia-metadata","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=e("aurelia-metadata");var i=e("aurelia-pal");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function o(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}function a(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function s(e){return!!e}function u(e){var t=function(e){if(!e.hasOwnProperty("inject")){e.inject=(n.metadata.getOwn(n.metadata.paramTypes,e)||k).slice();if(e.inject&&e.inject.length>0){if(e.inject[e.inject.length-1]===Object){e.inject.splice(-1,1)}}}};if(s(e)){return t(e)}return t}function l(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return function(t,r,n){if(typeof n==="number"){u(t);if(e.length===1){t.inject[n]=e[0]}return}if(n){var i=n.value;i.inject=e}else{t.inject=e}}}var c=n.protocol.create("aurelia:resolver",(function(e){if(!(typeof e.get==="function")){return"Resolvers must implement: get(container: Container, key: any): any"}return true}));(function(e){e[e["instance"]=0]="instance";e[e["singleton"]=1]="singleton";e[e["transient"]=2]="transient";e[e["function"]=3]="function";e[e["array"]=4]="array";e[e["alias"]=5]="alias"})(t.Strategy||(t.Strategy={}));function f(e,t,r){return e===t}var h=function(){function e(e,t){this.strategy=e;this.state=t}e.prototype.get=function(e,r){if(f(this.strategy,t.Strategy.instance,this.state)){return this.state}if(f(this.strategy,t.Strategy.singleton,this.state)){var n=e.invoke(this.state);this.state=n;this.strategy=0;return n}if(f(this.strategy,t.Strategy.transient,this.state)){return e.invoke(this.state)}if(f(this.strategy,t.Strategy.function,this.state)){return this.state(e,r,this)}if(f(this.strategy,t.Strategy.array,this.state)){return this.state[0].get(e,r)}if(f(this.strategy,t.Strategy.alias,this.state)){return e.get(this.state)}throw new Error("Invalid strategy: "+this.strategy)};e=o([c(),a("design:paramtypes",[Number,Object])],e);return e}();var d=function(){function e(e){this._key=e}t=e;e.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}};e.of=function(e){return new t(e)};var t;e=t=o([c(),a("design:paramtypes",[Object])],e);return e}();var p=function(){function e(e){this._key=e}t=e;e.prototype.get=function(e){return e.getAll(this._key)};e.of=function(e){return new t(e)};var t;e=t=o([c(),a("design:paramtypes",[Object])],e);return e}();var v=function(){function e(e,t){if(t===void 0){t=true}this._key=e;this._checkParent=t}t=e;e.prototype.get=function(e){if(e.hasResolver(this._key,this._checkParent)){return e.get(this._key)}return null};e.of=function(e,r){if(r===void 0){r=true}return new t(e,r)};var t;e=t=o([c(),a("design:paramtypes",[Object,Boolean])],e);return e}();var g=function(){function e(e){this._key=e}t=e;e.prototype.get=function(e){return e.parent?e.parent.get(this._key):null};e.of=function(e){return new t(e)};var t;e=t=o([c(),a("design:paramtypes",[Object])],e);return e}();var m=function(){function e(e){this._key=e}r=e;e.prototype.get=function(e){var r=this._key;var n=e.getResolver(r);if(n&&n.strategy===t.Strategy.function){r=n.state}return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}return e.invoke(r,t)}};e.of=function(e){return new r(e)};var r;e=r=o([c(),a("design:paramtypes",[Object])],e);return e}();var y=function(){function e(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}this.key=e;this.asKey=e;this.dynamicDependencies=t}t=e;e.prototype.get=function(e){var t=this.dynamicDependencies.length>0?this.dynamicDependencies.map((function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)})):undefined;var r=this.key;var n=e.getResolver(r);if(n&&n.strategy===3){r=n.state}var i=e.invoke(r,t);e.registerInstance(this.asKey,i);return i};e.prototype.as=function(e){this.asKey=e;return this};e.of=function(e){var r=[];for(var n=1;n<arguments.length;n++){r[n-1]=arguments[n]}return new(t.bind.apply(t,[void 0,e].concat(r)))};var t;e=t=o([c(),a("design:paramtypes",[Object,Object])],e);return e}();function b(e){u(e);return e.inject}function w(e){return function(t,r,n){var i=b(t);i[n]=d.of(e)}}function x(e){return function(t,r,n){var i=b(t);i[n]=p.of(e)}}function C(e){if(e===void 0){e=true}var t=function(e){return function(t,r,n){var i=b(t);i[n]=v.of(i[n],e)}};if(typeof e==="boolean"){return t(e)}return t(true)}function _(e,t,r){var n=b(e);n[r]=g.of(n[r])}function E(e){return function(t,r,n){var i=b(t);i[n]=m.of(e)}}function S(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}var n=function(e){return function(r,n,i){var o=b(r);o[i]=y.of.apply(y,[o[i]].concat(t));if(!!e){o[i].as(e)}}};if(arguments.length>=1){return n(e)}return n()}function O(e){if(e===null||e===undefined){throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}}var k=Object.freeze([]);n.metadata.registration="aurelia:registration";n.metadata.invoker="aurelia:invoker";var A=c.decorates;var M=function(){function e(e,t,r){this.fn=e;this.invoker=t;this.dependencies=r}e.prototype.invoke=function(e,t){return t!==undefined?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)};return e}();function P(e,t,r,n){var i=r.length;var o=new Array(i);var a;while(i--){a=r[i];if(a===null||a===undefined){throw new Error("Constructor Parameter with index "+i+" cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}else{o[i]=e.get(a)}}if(n!==undefined){o=o.concat(n)}return Reflect.construct(t,o)}var R={invoke:function(e,t,r){var n=r.map((function(t){return e.get(t)}));return Reflect.construct(t,n)},invokeWithDynamicDependencies:P};function T(e){if(!e.hasOwnProperty("inject")){return[]}if(typeof e.inject==="function"){return e.inject()}return e.inject}var j=function(){function e(e){if(e===undefined){e={}}this._configuration=e;this._onHandlerCreated=e.onHandlerCreated;this._handlers=e.handlers||(e.handlers=new Map);this._resolvers=new Map;this.root=this;this.parent=null}e.prototype.makeGlobal=function(){e.instance=this;return this};e.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e;this._configuration.onHandlerCreated=e};e.prototype.registerInstance=function(e,t){return this.registerResolver(e,new h(0,t===undefined?e:t))};e.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new h(1,t===undefined?e:t))};e.prototype.registerTransient=function(e,t){return this.registerResolver(e,new h(2,t===undefined?e:t))};e.prototype.registerHandler=function(e,t){return this.registerResolver(e,new h(3,t))};e.prototype.registerAlias=function(e,t){return this.registerResolver(t,new h(5,e))};e.prototype.registerResolver=function(e,t){O(e);var r=this._resolvers;var n=r.get(e);if(n===undefined){r.set(e,t)}else if(n.strategy===4){n.state.push(t)}else{r.set(e,new h(4,[n,t]))}return t};e.prototype.autoRegister=function(e,t){t=t===undefined?e:t;if(typeof t==="function"){var r=n.metadata.get(n.metadata.registration,t);if(r===undefined){return this.registerResolver(e,new h(1,t))}return r.registerResolver(this,e,t)}return this.registerResolver(e,new h(0,t))};e.prototype.autoRegisterAll=function(e){var t=e.length;while(t--){this.autoRegister(e[t])}};e.prototype.unregister=function(e){this._resolvers.delete(e)};e.prototype.hasResolver=function(e,t){if(t===void 0){t=false}O(e);return this._resolvers.has(e)||t&&this.parent!==null&&this.parent.hasResolver(e,t)};e.prototype.getResolver=function(e){return this._resolvers.get(e)};e.prototype.get=function(t){O(t);if(t===e){return this}if(A(t)){return t.get(this,t)}var r=this._resolvers.get(t);if(r===undefined){if(this.parent===null){return this.autoRegister(t).get(this,t)}var i=n.metadata.get(n.metadata.registration,t);if(i===undefined){return this.parent._get(t)}return i.registerResolver(this,t,t).get(this,t)}return r.get(this,t)};e.prototype._get=function(e){var t=this._resolvers.get(e);if(t===undefined){if(this.parent===null){return this.autoRegister(e).get(this,e)}return this.parent._get(e)}return t.get(this,e)};e.prototype.getAll=function(e){O(e);var t=this._resolvers.get(e);if(t===undefined){if(this.parent===null){return k}return this.parent.getAll(e)}if(t.strategy===4){var r=t.state;var n=r.length;var i=new Array(n);while(n--){i[n]=r[n].get(this,e)}return i}return[t.get(this,e)]};e.prototype.createChild=function(){var t=new e(this._configuration);t.root=this.root;t.parent=this;return t};e.prototype.invoke=function(e,t){try{var r=this._handlers.get(e);if(r===undefined){r=this._createInvocationHandler(e);this._handlers.set(e,r)}return r.invoke(this,t)}catch(t){throw new i.AggregateError("Error invoking "+e.name+". Check the inner error for details.",t,true)}};e.prototype._createInvocationHandler=function(e){var t;if(e.inject===undefined){t=n.metadata.getOwn(n.metadata.paramTypes,e)||k}else{t=[];var r=e;while(typeof r==="function"){t.push.apply(t,T(r));r=Object.getPrototypeOf(r)}}var i=n.metadata.getOwn(n.metadata.invoker,e)||R;var o=new M(e,i,t);return this._onHandlerCreated!==undefined?this._onHandlerCreated(o):o};return e}();function L(e){return function(t){n.metadata.define(n.metadata.invoker,e,t)}}function V(e){var t=function(e){n.metadata.define(n.metadata.invoker,N.instance,e)};return e?t(e):t}var N=function(){function e(){}e.prototype.invoke=function(e,t,r){var n=r.length;var i=new Array(n);while(n--){i[n]=e.get(r[n])}return t.apply(undefined,i)};e.prototype.invokeWithDynamicDependencies=function(e,t,r,n){var i=r.length;var o=new Array(i);while(i--){o[i]=e.get(r[i])}if(n!==undefined){o=o.concat(n)}return t.apply(undefined,o)};return e}();N.instance=new N;function I(e){return function(t){n.metadata.define(n.metadata.registration,e,t)}}function B(e){return I(new F(e))}function D(e,t){if(t===void 0){t=false}return I(new q(e,t))}var F=function(){function e(e){this._key=e}e.prototype.registerResolver=function(e,t,r){var n=e.getResolver(this._key||t);return n===undefined?e.registerTransient(this._key||t,r):n};return e}();var q=function(){function e(e,t){if(t===void 0){t=false}if(typeof e==="boolean"){this._registerInChild=e}else{this._key=e;this._registerInChild=t}}e.prototype.registerResolver=function(e,t,r){var n=this._registerInChild?e:e.root;var i=n.getResolver(this._key||t);return i===undefined?n.registerSingleton(this._key||t,r):i};return e}();t._emptyParameters=k;t.InvocationHandler=M;t.Container=j;t.autoinject=u;t.inject=l;t.invoker=L;t.invokeAsFactory=V;t.FactoryInvoker=N;t.registration=I;t.transient=B;t.singleton=D;t.TransientRegistration=F;t.SingletonRegistration=q;t.resolver=c;t.StrategyResolver=h;t.Lazy=d;t.All=p;t.Optional=v;t.Parent=g;t.Factory=m;t.NewInstance=y;t.getDecoratorDependencies=b;t.lazy=w;t.all=x;t.optional=C;t.parent=_;t.factory=E;t.newInstance=S}));(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("aurelia-pal"),require("aurelia-dependency-injection"),require("aurelia-templating")):typeof define==="function"&&define.amd?define("aurelia-dialog/dist/umd/aurelia-dialog",["exports","aurelia-pal","aurelia-dependency-injection","aurelia-templating"],t):(e=e||self,t((e.au=e.au||{},e.au.dialog={}),e.au,e.au,e.au))})(this,(function(e,t,r,n){"use strict";var i=function(){function e(){}e.prototype.getDialogContainer=function(){throw new Error("DialogRenderer must implement getDialogContainer().")};e.prototype.showDialog=function(e){throw new Error("DialogRenderer must implement showDialog().")};e.prototype.hideDialog=function(e){throw new Error("DialogRenderer must implement hideDialog().")};return e}();var o=function(){function e(){this.lock=true;this.startingZIndex=1e3;this.centerHorizontalOnly=false;this.rejectOnCancel=false;this.ignoreTransitions=false;this.restoreFocus=function(e){return e.focus()}}return e}();var a={ux:function(){return Promise.resolve().then((function(){return O})).then((function(e){return e.DialogRenderer}))},native:function(){return Promise.resolve().then((function(){return R})).then((function(e){return e.NativeDialogRenderer}))}};var s={"ux-dialog":function(){return Promise.resolve().then((function(){return j})).then((function(e){return e.UxDialog}))},"ux-dialog-header":function(){return Promise.resolve().then((function(){return V})).then((function(e){return e.UxDialogHeader}))},"ux-dialog-body":function(){return Promise.resolve().then((function(){return I})).then((function(e){return e.UxDialogBody}))},"ux-dialog-footer":function(){return Promise.resolve().then((function(){return D})).then((function(e){return e.UxDialogFooter}))},"attach-focus":function(){return Promise.resolve().then((function(){return q})).then((function(e){return e.AttachFocus}))}};var u=function(){return Promise.resolve().then((function(){return H})).then((function(e){return e["default"]}))};var l=function(){function e(e,t){var r=this;this.renderer="ux";this.cssText=u;this.resources=[];this.fwConfig=e;this.settings=e.container.get(o);t((function(){return r._apply()}))}e.prototype._apply=function(){var e=this;var r=this.renderer;var n=this.cssText;return Promise.all([typeof r==="string"?a[r]():r,n?typeof n==="string"?n:n():""]).then((function(r){var n=r[0],o=r[1];var a=e.fwConfig;a.transient(i,n);if(o){t.DOM.injectStyles(o)}return Promise.all(e.resources.map((function(e){return s[e]()}))).then((function(e){a.globalResources(e)}))}))};e.prototype.useDefaults=function(){return this.useRenderer("ux").useCSS(u).useStandardResources()};e.prototype.useStandardResources=function(){Object.keys(s).forEach(this.useResource,this);return this};e.prototype.useResource=function(e){this.resources.push(e);return this};e.prototype.useRenderer=function(e,t){this.renderer=e;if(t){Object.assign(this.settings,t)}return this};e.prototype.useCSS=function(e){this.cssText=e;return this};return e}();function c(e){var t=new Error("Operation cancelled.");t.wasCancelled=true;t.output=e;return t}function f(e){var t=new Error;t.wasCancelled=false;t.output=e;return t}function h(e,t,r){if(typeof e[t]==="function"){return new Promise((function(n){n(e[t](r))})).then((function(e){if(e!==null&&e!==undefined){return e}return true}))}return Promise.resolve(true)}var d=function(){function e(e,t,r,n){this.resolve=r;this.reject=n;this.settings=t;this.renderer=e}e.prototype.releaseResources=function(e){var t=this;return h(this.controller.viewModel||{},"deactivate",e).then((function(){return t.renderer.hideDialog(t)})).then((function(){t.controller.unbind()}))};e.prototype.cancelOperation=function(){if(!this.settings.rejectOnCancel){return{wasCancelled:true}}throw c()};e.prototype.ok=function(e){return this.close(true,e)};e.prototype.cancel=function(e){return this.close(false,e)};e.prototype.error=function(e){var t=this;var r=f(e);return this.releaseResources(r).then((function(){t.reject(r)}))};e.prototype.close=function(e,t){var r=this;if(this.closePromise){return this.closePromise}var n={wasCancelled:!e,output:t};return this.closePromise=h(this.controller.viewModel||{},"canDeactivate",n).catch((function(e){r.closePromise=undefined;return Promise.reject(e)})).then((function(i){if(!i){r.closePromise=undefined;return r.cancelOperation()}return r.releaseResources(n).then((function(){if(!r.settings.rejectOnCancel||e){r.resolve(n)}else{r.reject(c(t))}return{wasCancelled:false}})).catch((function(e){r.closePromise=undefined;return Promise.reject(e)}))}))};e.inject=[i];return e}();function p(e,t){return this.then((function(e){return e.wasCancelled?e:e.closeResult})).then(e,t)}function v(e){e.whenClosed=p;return e}var g=function(){function e(e,t,r){this.controllers=[];this.hasOpenDialog=false;this.hasActiveDialog=false;this.container=e;this.compositionEngine=t;this.defaultSettings=r}e.prototype.validateSettings=function(e){if(!e.viewModel&&!e.view){throw new Error('Invalid Dialog Settings. You must provide "viewModel", "view" or both.')}};e.prototype.createCompositionContext=function(e,t,r){return{container:e.parent,childContainer:e,bindingContext:null,viewResources:null,model:r.model,view:r.view,viewModel:r.viewModel,viewSlot:new n.ViewSlot(t,true),host:t}};e.prototype.ensureViewModel=function(e){if(typeof e.viewModel==="object"){return Promise.resolve(e)}return this.compositionEngine.ensureViewModel(e)};e.prototype._cancelOperation=function(e){if(!e){return{wasCancelled:true}}throw c()};e.prototype.composeAndShowDialog=function(e,t){var r=this;if(!e.viewModel){e.bindingContext={controller:t}}return this.compositionEngine.compose(e).then((function(e){t.controller=e;return t.renderer.showDialog(t).then((function(){r.controllers.push(t);r.hasActiveDialog=r.hasOpenDialog=!!r.controllers.length}),(function(t){if(e.viewModel){h(e.viewModel,"deactivate")}return Promise.reject(t)}))}))};e.prototype.createSettings=function(e){e=Object.assign({},this.defaultSettings,e);if(typeof e.keyboard!=="boolean"&&!e.keyboard){e.keyboard=!e.lock}if(typeof e.overlayDismiss!=="boolean"){e.overlayDismiss=!e.lock}Object.defineProperty(e,"rejectOnCancel",{writable:false,configurable:true,enumerable:true});this.validateSettings(e);return e};e.prototype.open=function(e){var t=this;if(e===void 0){e={}}e=this.createSettings(e);var r=e.childContainer||this.container.createChild();var n;var i;var o=new Promise((function(e,t){n=e;i=t}));var a=r.invoke(d,[e,n,i]);r.registerInstance(d,a);o.then((function(){m(t,a)}),(function(){m(t,a)}));var s=this.createCompositionContext(r,a.renderer.getDialogContainer(),a.settings);var u=this.ensureViewModel(s).then((function(e){if(!e.viewModel){return true}return h(e.viewModel,"canActivate",a.settings.model)})).then((function(e){if(!e){return t._cancelOperation(a.settings.rejectOnCancel)}return t.composeAndShowDialog(s,a).then((function(){return{controller:a,closeResult:o,wasCancelled:false}}))}));return v(u)};e.prototype.closeAll=function(){return Promise.all(this.controllers.slice(0).map((function(e){if(!e.settings.rejectOnCancel){return e.cancel().then((function(t){if(t.wasCancelled){return e}return null}))}return e.cancel().then((function(){return null})).catch((function(t){if(t.wasCancelled){return e}throw t}))}))).then((function(e){return e.filter((function(e){return!!e}))}))};e.inject=[r.Container,n.CompositionEngine,o];return e}();function m(e,t){var r=e.controllers.indexOf(t);if(r!==-1){e.controllers.splice(r,1);e.hasActiveDialog=e.hasOpenDialog=!!e.controllers.length}}function y(e,t){var r=null;var n=new l(e,(function(e){r=e}));if(typeof t==="function"){t(n)}else{n.useDefaults()}return r()}var b="ux-dialog-container";var w="ux-dialog-overlay";var x=function(){var e;return function(){if(e){return e}var r=t.DOM.createElement("fakeelement");var n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in n){if(r.style[i]!==undefined){e=n[i];return e}}return""}}();var C=function(){var e="transitionDuration";var r=["webkitTransitionDuration","oTransitionDuration"];var n;var i;return function(o){if(!n){n=t.DOM.createElement("fakeelement");if(e in n.style){i=e}else{i=r.find((function(e){return e in n.style}))}}return!!i&&!!t.DOM.getComputedStyle(o)[i].split(",").find((function(e){return!!parseFloat(e)}))}}();var _;function E(e){if((e.code||e.key)==="Escape"||e.keyCode===27){return"Escape"}if((e.code||e.key)==="Enter"||e.keyCode===13){return"Enter"}return undefined}var S=function(){function e(){}e.keyboardEventHandler=function(t){var r=E(t);if(!r){return}var n=e.dialogControllers[e.dialogControllers.length-1];if(!n||!n.settings.keyboard){return}var i=n.settings.keyboard;if(r==="Escape"&&(i===true||i===r||Array.isArray(i)&&i.indexOf(r)>-1)){n.cancel()}else if(r==="Enter"&&(i===r||Array.isArray(i)&&i.indexOf(r)>-1)){n.ok()}};e.trackController=function(r){var n=e.dialogControllers;if(!n.length){t.DOM.addEventListener(r.settings.keyEvent||"keyup",e.keyboardEventHandler,false)}n.push(r)};e.untrackController=function(r){var n=e.dialogControllers;var i=n.indexOf(r);if(i!==-1){n.splice(i,1)}if(!n.length){t.DOM.removeEventListener(r.settings.keyEvent||"keyup",e.keyboardEventHandler,false)}};e.prototype.getOwnElements=function(e,t){var r=e.querySelectorAll(t);var n=[];for(var i=0;i<r.length;i++){if(r[i].parentElement===e){n.push(r[i])}}return n};e.prototype.attach=function(e){if(e.settings.restoreFocus){this.lastActiveElement=t.DOM.activeElement}var r=t.DOM.createElement("div");r.appendChild(this.anchor);var n=this.dialogContainer=t.DOM.createElement(b);n.appendChild(r);var i=this.dialogOverlay=t.DOM.createElement(w);var o=typeof e.settings.startingZIndex==="number"?e.settings.startingZIndex+"":"auto";i.style.zIndex=o;n.style.zIndex=o;var a=this.host;var s=this.getOwnElements(a,b).pop();if(s&&s.parentElement){a.insertBefore(n,s.nextSibling);a.insertBefore(i,s.nextSibling)}else{a.insertBefore(n,a.firstChild);a.insertBefore(i,a.firstChild)}e.controller.attached();a.classList.add("ux-dialog-open")};e.prototype.detach=function(t){var r=this.host;r.removeChild(this.dialogOverlay);r.removeChild(this.dialogContainer);t.controller.detached();if(!e.dialogControllers.length){r.classList.remove("ux-dialog-open")}if(t.settings.restoreFocus){t.settings.restoreFocus(this.lastActiveElement)}};e.prototype.setAsActive=function(){this.dialogOverlay.classList.add("active");this.dialogContainer.classList.add("active")};e.prototype.setAsInactive=function(){this.dialogOverlay.classList.remove("active");this.dialogContainer.classList.remove("active")};e.prototype.setupEventHandling=function(e){this.stopPropagation=function(e){e._aureliaDialogHostClicked=true};this.closeDialogClick=function(t){if(e.settings.overlayDismiss&&!t._aureliaDialogHostClicked){e.cancel()}};var t=e.settings.mouseEvent||"click";this.dialogContainer.addEventListener(t,this.closeDialogClick);this.anchor.addEventListener(t,this.stopPropagation)};e.prototype.clearEventHandling=function(e){var t=e.settings.mouseEvent||"click";this.dialogContainer.removeEventListener(t,this.closeDialogClick);this.anchor.removeEventListener(t,this.stopPropagation)};e.prototype.centerDialog=function(){var e=this.dialogContainer.children[0];var r=Math.max(t.DOM.querySelectorAll("html")[0].clientHeight,window.innerHeight||0);e.style.marginTop=Math.max((r-e.offsetHeight)/2,30)+"px";e.style.marginBottom=Math.max((r-e.offsetHeight)/2,30)+"px"};e.prototype.awaitTransition=function(e,t){var r=this;return new Promise((function(n){var i=r;var o=x();function a(e){if(e.target!==i.dialogContainer){return}i.dialogContainer.removeEventListener(o,a);n()}if(t||!C(r.dialogContainer)){n()}else{r.dialogContainer.addEventListener(o,a)}e()}))};e.prototype.getDialogContainer=function(){return this.anchor||(this.anchor=t.DOM.createElement("div"))};e.prototype.showDialog=function(r){var n=this;if(!_){_=t.DOM.querySelector("body")}if(r.settings.host){this.host=r.settings.host}else{this.host=_}var i=r.settings;this.attach(r);if(typeof i.position==="function"){i.position(this.dialogContainer,this.dialogOverlay)}else if(!i.centerHorizontalOnly){this.centerDialog()}e.trackController(r);this.setupEventHandling(r);return this.awaitTransition((function(){return n.setAsActive()}),r.settings.ignoreTransitions)};e.prototype.hideDialog=function(t){var r=this;this.clearEventHandling(t);e.untrackController(t);return this.awaitTransition((function(){return r.setAsInactive()}),t.settings.ignoreTransitions).then((function(){r.detach(t)}))};e.dialogControllers=[];return e}();r.transient()(S);var O=Object.freeze({transitionEvent:x,hasTransition:C,DialogRenderer:S,UxDialogRenderer:S});
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */function k(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}var A="dialog";var M;var P=function(){function e(){}n=e;e.keyboardEventHandler=function(e){var t=(e.code||e.key)==="Enter"||e.keyCode===13?"Enter":undefined;if(!t){return}var r=n.dialogControllers[n.dialogControllers.length-1];if(!r||!r.settings.keyboard){return}var i=r.settings.keyboard;if(t==="Enter"&&(i===t||Array.isArray(i)&&i.indexOf(t)>-1)){r.ok()}};e.trackController=function(e){if(!n.dialogControllers.length){t.DOM.addEventListener("keyup",n.keyboardEventHandler,false)}n.dialogControllers.push(e)};e.untrackController=function(e){var r=n.dialogControllers.indexOf(e);if(r!==-1){n.dialogControllers.splice(r,1)}if(!n.dialogControllers.length){t.DOM.removeEventListener("keyup",n.keyboardEventHandler,false)}};e.prototype.getOwnElements=function(e,t){var r=e.querySelectorAll(t);var n=[];for(var i=0;i<r.length;i++){if(r[i].parentElement===e){n.push(r[i])}}return n};e.prototype.attach=function(e){if(e.settings.restoreFocus){this.lastActiveElement=t.DOM.activeElement}var r=t.DOM.createElement("div");r.appendChild(this.anchor);this.dialogContainer=t.DOM.createElement(A);if(window.dialogPolyfill){window.dialogPolyfill.registerDialog(this.dialogContainer)}this.dialogContainer.appendChild(r);var n=this.getOwnElements(this.host,A).pop();if(n&&n.parentElement){this.host.insertBefore(this.dialogContainer,n.nextSibling)}else{this.host.insertBefore(this.dialogContainer,this.host.firstChild)}e.controller.attached();this.host.classList.add("ux-dialog-open")};e.prototype.detach=function(e){if(this.dialogContainer.hasAttribute("open")){this.dialogContainer.close()}this.host.removeChild(this.dialogContainer);e.controller.detached();if(!n.dialogControllers.length){this.host.classList.remove("ux-dialog-open")}if(e.settings.restoreFocus){e.settings.restoreFocus(this.lastActiveElement)}};e.prototype.setAsActive=function(){this.dialogContainer.showModal();this.dialogContainer.classList.add("active")};e.prototype.setAsInactive=function(){this.dialogContainer.classList.remove("active")};e.prototype.setupEventHandling=function(e){this.stopPropagation=function(e){e._aureliaDialogHostClicked=true};this.closeDialogClick=function(t){if(e.settings.overlayDismiss&&!t._aureliaDialogHostClicked){e.cancel()}};this.dialogCancel=function(t){var r=e.settings.keyboard;var n="Escape";if(r===true||r===n||Array.isArray(r)&&r.indexOf(n)>-1){e.cancel()}else{t.preventDefault()}};var t=e.settings.mouseEvent||"click";this.dialogContainer.addEventListener(t,this.closeDialogClick);this.dialogContainer.addEventListener("cancel",this.dialogCancel);this.anchor.addEventListener(t,this.stopPropagation)};e.prototype.clearEventHandling=function(e){var t=e.settings.mouseEvent||"click";this.dialogContainer.removeEventListener(t,this.closeDialogClick);this.dialogContainer.removeEventListener("cancel",this.dialogCancel);this.anchor.removeEventListener(t,this.stopPropagation)};e.prototype.awaitTransition=function(e,t){var r=this;return new Promise((function(n){var i=r;var o=x();function a(e){if(e.target!==i.dialogContainer){return}i.dialogContainer.removeEventListener(o,a);n()}if(t||!C(r.dialogContainer)){n()}else{r.dialogContainer.addEventListener(o,a)}e()}))};e.prototype.getDialogContainer=function(){return this.anchor||(this.anchor=t.DOM.createElement("div"))};e.prototype.showDialog=function(e){var r=this;if(!M){M=t.DOM.querySelector("body")}if(e.settings.host){this.host=e.settings.host}else{this.host=M}var i=e.settings;this.attach(e);if(typeof i.position==="function"){i.position(this.dialogContainer)}n.trackController(e);this.setupEventHandling(e);return this.awaitTransition((function(){return r.setAsActive()}),e.settings.ignoreTransitions)};e.prototype.hideDialog=function(e){var t=this;this.clearEventHandling(e);n.untrackController(e);return this.awaitTransition((function(){return t.setAsInactive()}),e.settings.ignoreTransitions).then((function(){t.detach(e)}))};var n;e.dialogControllers=[];e=n=k([r.transient()],e);return e}();var R=Object.freeze({NativeDialogRenderer:P});var T=function(){function e(){}e.$view="<template><slot></slot></template>";e.$resource="ux-dialog";return e}();var j=Object.freeze({UxDialog:T});var L=function(){function e(e){this.controller=e}e.prototype.bind=function(){if(typeof this.showCloseButton!=="boolean"){this.showCloseButton=!this.controller.settings.lock}};e.inject=[d];e.$view='<template>\n  <button\n    type="button"\n    class="dialog-close"\n    aria-label="Close"\n    if.bind="showCloseButton"\n    click.trigger="controller.cancel()">\n    <span aria-hidden="true">&times;</span>\n  </button>\n\n  <div class="dialog-header-content">\n    <slot></slot>\n  </div>\n</template>';e.$resource={name:"ux-dialog-header",bindables:["showCloseButton"]};return e}();var V=Object.freeze({UxDialogHeader:L});var N=function(){function e(){}e.$view="<template><slot></slot></template>";e.$resource="ux-dialog-body";return e}();var I=Object.freeze({UxDialogBody:N});var B=function(){function e(e){this.controller=e;this.buttons=[];this.useDefaultButtons=false}e.isCancelButton=function(e){return e==="Cancel"};e.prototype.close=function(t){if(e.isCancelButton(t)){this.controller.cancel(t)}else{this.controller.ok(t)}};e.prototype.useDefaultButtonsChanged=function(e){if(e){this.buttons=["Cancel","Ok"]}};e.inject=[d];e.$view='<template>\n  <slot></slot>\n  <template if.bind="buttons.length > 0">\n    <button type="button"\n      class="btn btn-default"\n      repeat.for="button of buttons"\n      click.trigger="close(button)">\n      ${button}\n    </button>\n  </template>\n</template>';e.$resource={name:"ux-dialog-footer",bindables:["buttons","useDefaultButtons"]};return e}();var D=Object.freeze({UxDialogFooter:B});var F=function(){function e(e){this.element=e;this.value=true}e.inject=function(){return[t.DOM.Element]};e.prototype.attached=function(){if(this.value===""||this.value&&this.value!=="false"){this.element.focus()}};e.$resource={type:"attribute",name:"attach-focus"};return e}();var q=Object.freeze({AttachFocus:F});var z="ux-dialog-overlay{bottom:0;left:0;position:fixed;top:0;right:0;opacity:0}ux-dialog-overlay.active{opacity:1}ux-dialog-container{display:block;transition:opacity .2s linear;opacity:0;overflow-x:hidden;overflow-y:auto;position:fixed;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch}ux-dialog-container.active{opacity:1}ux-dialog-container>div{padding:30px}ux-dialog-container>div>div{width:100%;display:block;min-width:300px;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto}ux-dialog-container,ux-dialog-container>div,ux-dialog-container>div>div{outline:0}ux-dialog{width:100%;display:table;box-shadow:0 5px 15px rgba(0,0,0,.5);border:1px solid rgba(0,0,0,.2);border-radius:5px;padding:3;min-width:300px;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;border-image-source:none;border-image-slice:100%;border-image-width:1;border-image-outset:0;border-image-repeat:initial;background:#fff}ux-dialog>ux-dialog-header{display:block;padding:16px;border-bottom:1px solid #e5e5e5}ux-dialog>ux-dialog-header>button{float:right;border:none;display:block;width:32px;height:32px;background:none;font-size:22px;line-height:16px;margin:-14px -16px 0 0;padding:0;cursor:pointer}ux-dialog>ux-dialog-body{display:block;padding:16px}ux-dialog>ux-dialog-footer{display:block;padding:6px;border-top:1px solid #e5e5e5;text-align:right}ux-dialog>ux-dialog-footer button{color:#333;background-color:#fff;padding:6px 12px;font-size:14px;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid #ccc;border-radius:4px;margin:5px 0 5px 5px}ux-dialog>ux-dialog-footer button:disabled{cursor:default;opacity:.45}ux-dialog>ux-dialog-footer button:hover:enabled{color:#333;background-color:#e6e6e6;border-color:#adadad}.ux-dialog-open{overflow:hidden}";var H=Object.freeze({default:z});e.DefaultDialogSettings=o;e.DialogConfiguration=l;e.DialogController=d;e.DialogService=g;e.Renderer=i;e.configure=y;e.createDialogCancelError=c;e.createDialogCloseError=f}));define("aurelia-event-aggregator/dist/commonjs/aurelia-event-aggregator",["require","exports","module","aurelia-logging"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EventAggregator=undefined;t.includeEventsIn=f;t.configure=h;var n=e("aurelia-logging");var i=o(n);function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var a=i.getLogger("event-aggregator");var s=function(){function e(e,t){this.messageType=e;this.callback=t}e.prototype.handle=function e(t){if(t instanceof this.messageType){this.callback.call(null,t)}};return e}();function u(e,t,r){try{e(t,r)}catch(e){a.error(e)}}function l(e,t){try{e.handle(t)}catch(e){a.error(e)}}var c=t.EventAggregator=function(){function e(){this.eventLookup={};this.messageHandlers=[]}e.prototype.publish=function e(t,r){var n=void 0;var i=void 0;if(!t){throw new Error("Event was invalid.")}if(typeof t==="string"){n=this.eventLookup[t];if(n){n=n.slice();i=n.length;while(i--){u(n[i],r,t)}}}else{n=this.messageHandlers.slice();i=n.length;while(i--){l(n[i],t)}}};e.prototype.subscribe=function e(t,r){var n=void 0;var i=void 0;if(!t){throw new Error("Event channel/type was invalid.")}if(typeof t==="string"){n=r;i=this.eventLookup[t]||(this.eventLookup[t]=[])}else{n=new s(t,r);i=this.messageHandlers}i.push(n);return{dispose:function e(){var t=i.indexOf(n);if(t!==-1){i.splice(t,1)}}}};e.prototype.subscribeOnce=function e(t,r){var n=this.subscribe(t,(function(e,t){n.dispose();return r(e,t)}));return n};return e}();function f(e){var t=new c;e.subscribeOnce=function(e,r){return t.subscribeOnce(e,r)};e.subscribe=function(e,r){return t.subscribe(e,r)};e.publish=function(e,r){t.publish(e,r)};return t}function h(e){e.instance(c,f(e.aurelia))}}));(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("aurelia-pal")):typeof define==="function"&&define.amd?define("aurelia-fetch-client/dist/umd/aurelia-fetch-client",["exports","aurelia-pal"],t):(e=e||self,t((e.au=e.au||{},e.au.fetchClient={}),e.au))})(this,(function(e,t){"use strict";function r(e,t){return JSON.stringify(e!==undefined?e:{},t)}var n={fixed:0,incremental:1,exponential:2,random:3};var i={maxRetries:3,interval:1e3,strategy:n.fixed};var o=function(){function e(e){this.retryConfig=Object.assign({},i,e||{});if(this.retryConfig.strategy===n.exponential&&this.retryConfig.interval<=1e3){throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}}e.prototype.request=function(e){var t=e;if(!t.retryConfig){t.retryConfig=Object.assign({},this.retryConfig);t.retryConfig.counter=0}t.retryConfig.requestClone=e.clone();return e};e.prototype.response=function(e,t){delete t.retryConfig;return e};e.prototype.responseError=function(e,r,n){var i=r.retryConfig;var o=i.requestClone;return Promise.resolve().then((function(){if(i.counter<i.maxRetries){var s=i.doRetry?i.doRetry(e,r):true;return Promise.resolve(s).then((function(s){if(s){i.counter++;return new Promise((function(e){return t.PLATFORM.global.setTimeout(e,a(i)||0)})).then((function(){var e=o.clone();if(typeof i.beforeRetry==="function"){return i.beforeRetry(e,n)}return e})).then((function(e){return n.fetch(Object.assign(e,{retryConfig:i}))}))}delete r.retryConfig;throw e}))}delete r.retryConfig;throw e}))};return e}();function a(e){var t=e.interval,r=e.strategy,i=e.minRandomInterval,o=e.maxRandomInterval,a=e.counter;if(typeof r==="function"){return e.strategy(a)}switch(r){case n.fixed:return s[n.fixed](t);case n.incremental:return s[n.incremental](a,t);case n.exponential:return s[n.exponential](a,t);case n.random:return s[n.random](a,t,i,o);default:throw new Error("Unrecognized retry strategy")}}var s=[function(e){return e},function(e,t){return t*e},function(e,t){return e===1?t:Math.pow(t,e)/1e3},function(e,t,r,n){if(r===void 0){r=0}if(n===void 0){n=6e4}return Math.random()*(n-r)+r}];var u=function(){function e(){this.baseUrl="";this.defaults={};this.interceptors=[]}e.prototype.withBaseUrl=function(e){this.baseUrl=e;return this};e.prototype.withDefaults=function(e){this.defaults=e;return this};e.prototype.withInterceptor=function(e){this.interceptors.push(e);return this};e.prototype.useStandardConfiguration=function(){var e={credentials:"same-origin"};Object.assign(this.defaults,e,this.defaults);return this.rejectErrorResponses()};e.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:l})};e.prototype.withRetry=function(e){var t=new o(e);return this.withInterceptor(t)};return e}();function l(e){if(!e.ok){throw e}return e}var c=function(){function e(){this.activeRequestCount=0;this.isRequesting=false;this.isConfigured=false;this.baseUrl="";this.defaults=null;this.interceptors=[];if(typeof fetch==="undefined"){throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}}e.prototype.configure=function(e){var t;if(typeof e==="object"){t={defaults:e}}else if(typeof e==="function"){t=new u;t.baseUrl=this.baseUrl;t.defaults=Object.assign({},this.defaults);t.interceptors=this.interceptors;var r=e(t);if(u.prototype.isPrototypeOf(r)){t=r}}else{throw new Error("invalid config")}var n=t.defaults;if(n&&Headers.prototype.isPrototypeOf(n.headers)){throw new Error("Default headers must be a plain object.")}var i=t.interceptors;if(i&&i.length){if(i.filter((function(e){return o.prototype.isPrototypeOf(e)})).length>1){throw new Error("Only one RetryInterceptor is allowed.")}var a=i.findIndex((function(e){return o.prototype.isPrototypeOf(e)}));if(a>=0&&a!==i.length-1){throw new Error("The retry interceptor must be the last interceptor defined.")}}this.baseUrl=t.baseUrl;this.defaults=n;this.interceptors=t.interceptors||[];this.isConfigured=true;return this};e.prototype.fetch=function(e,t){var r=this;h(this);var n=this.buildRequest(e,t);return m(n,this.interceptors,this).then((function(e){var t=null;if(Response.prototype.isPrototypeOf(e)){t=Promise.resolve(e)}else if(Request.prototype.isPrototypeOf(e)){n=e;t=fetch(e)}else{throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+e+"]")}return y(t,r.interceptors,n,r)})).then((function(e){if(Request.prototype.isPrototypeOf(e)){return r.fetch(e)}return e})).then((function(e){d(r);return e}),(function(e){d(r);throw e}))};e.prototype.buildRequest=function(e,t){var r=this.defaults||{};var n;var i;var o;var a=p(r.headers);if(Request.prototype.isPrototypeOf(e)){n=e;o=new Headers(n.headers).get("Content-Type")}else{if(!t){t={}}i=t.body;var s=i?{body:i}:null;var u=Object.assign({},r,{headers:{}},t,s);o=new Headers(u.headers).get("Content-Type");n=new Request(v(this.baseUrl,e),u)}if(!o){if(new Headers(a).has("content-type")){n.headers.set("Content-Type",new Headers(a).get("content-type"))}else if(i&&w(i)){n.headers.set("Content-Type","application/json")}}g(n.headers,a);if(i&&Blob.prototype.isPrototypeOf(i)&&i.type){n.headers.set("Content-Type",i.type)}return n};e.prototype.get=function(e,t){return this.fetch(e,t)};e.prototype.post=function(e,t,r){return _(this,e,t,r,"POST")};e.prototype.put=function(e,t,r){return _(this,e,t,r,"PUT")};e.prototype.patch=function(e,t,r){return _(this,e,t,r,"PATCH")};e.prototype.delete=function(e,t,r){return _(this,e,t,r,"DELETE")};return e}();var f=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function h(e){e.isRequesting=!!++e.activeRequestCount;if(e.isRequesting){var r=t.DOM.createCustomEvent("aurelia-fetch-client-request-started",{bubbles:true,cancelable:true});setTimeout((function(){return t.DOM.dispatchEvent(r)}),1)}}function d(e){e.isRequesting=!!--e.activeRequestCount;if(!e.isRequesting){var r=t.DOM.createCustomEvent("aurelia-fetch-client-requests-drained",{bubbles:true,cancelable:true});setTimeout((function(){return t.DOM.dispatchEvent(r)}),1)}}function p(e){var t={};for(var r in e||{}){if(e.hasOwnProperty(r)){t[r]=typeof e[r]==="function"?e[r]():e[r]}}return t}function v(e,t){if(f.test(t)){return t}return(e||"")+t}function g(e,t){for(var r in t||{}){if(t.hasOwnProperty(r)&&!e.has(r)){e.set(r,t[r])}}}function m(e,t,r){return b(e,t,"request","requestError",r)}function y(e,t,r,n){return b(e,t,"response","responseError",r,n)}function b(e,t,r,n){var i=[];for(var o=4;o<arguments.length;o++){i[o-4]=arguments[o]}return(t||[]).reduce((function(e,t){var o=t[r];var a=t[n];return e.then(o&&function(e){return o.call.apply(o,[t,e].concat(i))}||x,a&&function(e){return a.call.apply(a,[t,e].concat(i))}||C)}),Promise.resolve(e))}function w(e){try{JSON.parse(e)}catch(e){return false}return true}function x(e){return e}function C(e){throw e}function _(e,t,r,n,i){if(!n){n={}}n.method=i;if(r){n.body=r}return e.fetch(t,n)}e.json=r;e.retryStrategy=n;e.RetryInterceptor=o;e.HttpClientConfiguration=u;e.HttpClient=c;Object.defineProperty(e,"__esModule",{value:true})}));define("aurelia-framework/dist/commonjs/aurelia-framework",["require","exports","module","aurelia-dependency-injection","aurelia-binding","aurelia-metadata","aurelia-templating","aurelia-loader","aurelia-task-queue","aurelia-path","aurelia-pal","aurelia-logging"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LogManager=t.FrameworkConfiguration=t.Aurelia=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=e("aurelia-dependency-injection");Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return i[e]}})}));var o=e("aurelia-binding");Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return o[e]}})}));var a=e("aurelia-metadata");Object.keys(a).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return a[e]}})}));var s=e("aurelia-templating");Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return s[e]}})}));var u=e("aurelia-loader");Object.keys(u).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return u[e]}})}));var l=e("aurelia-task-queue");Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return l[e]}})}));var c=e("aurelia-path");Object.keys(c).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return c[e]}})}));var f=e("aurelia-pal");Object.keys(f).forEach((function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return f[e]}})}));var h=e("aurelia-logging");var d=p(h);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function v(){f.DOM.addEventListener("submit",(function(e){var t=e.target;var r=t.action;if(t.tagName.toLowerCase()==="form"&&!r){e.preventDefault()}}))}var g=t.Aurelia=function(){function e(t,r,n){this.loader=t||new f.PLATFORM.Loader;this.container=r||(new i.Container).makeGlobal();this.resources=n||new s.ViewResources;this.use=new O(this);this.logger=d.getLogger("aurelia");this.hostConfigured=false;this.host=null;this.use.instance(e,this);this.use.instance(u.Loader,this.loader);this.use.instance(s.ViewResources,this.resources)}e.prototype.start=function e(){var t=this;if(this._started){return this._started}this.logger.info("Aurelia Starting");return this._started=this.use.apply().then((function(){v();if(!t.container.hasResolver(s.BindingLanguage)){var e="You must configure Aurelia with a BindingLanguage implementation.";t.logger.error(e);throw new Error(e)}t.logger.info("Aurelia Started");var r=f.DOM.createCustomEvent("aurelia-started",{bubbles:true,cancelable:true});f.DOM.dispatchEvent(r);return t}))};e.prototype.enhance=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._configureHost(n||f.DOM.querySelectorAll("body")[0]);return new Promise((function(e){var n=t.container.get(s.TemplatingEngine);t.root=n.enhance({container:t.container,element:t.host,resources:t.resources,bindingContext:r});t.root.attached();t._onAureliaComposed();e(t)}))};e.prototype.setRoot=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i={};if(this.root&&this.root.viewModel&&this.root.viewModel.router){this.root.viewModel.router.deactivate();this.root.viewModel.router.reset()}this._configureHost(n);var o=this.container.get(s.TemplatingEngine);var a=this.container.get(s.CompositionTransaction);delete a.initialComposition;if(!r){if(this.configModuleId){r=(0,c.relativeToFile)("./app",this.configModuleId)}else{r="app"}}i.viewModel=r;i.container=i.childContainer=this.container;i.viewSlot=this.hostSlot;i.host=this.host;return o.compose(i).then((function(e){t.root=e;i.viewSlot.attached();t._onAureliaComposed();return t}))};e.prototype._configureHost=function e(t){if(this.hostConfigured){return}t=t||this.host;if(!t||typeof t==="string"){this.host=f.DOM.getElementById(t||"applicationHost")}else{this.host=t}if(!this.host){throw new Error("No applicationHost was specified.")}this.hostConfigured=true;this.host.aurelia=this;this.hostSlot=new s.ViewSlot(this.host,true);this.hostSlot.transformChildNodesIntoView();this.container.registerInstance(f.DOM.boundary,this.host)};e.prototype._onAureliaComposed=function e(){var t=f.DOM.createCustomEvent("aurelia-composed",{bubbles:true,cancelable:true});setTimeout((function(){return f.DOM.dispatchEvent(t)}),1)};return e}();var m=d.getLogger("aurelia");var y=/\.[^/.]+$/;function b(e,t){var r=void 0;var n=function n(){r=t.shift();if(r){return Promise.resolve(r(e)).then(n)}return Promise.resolve()};return n()}function w(e,t,r){m.debug("Loading plugin "+r.moduleId+".");if(typeof r.moduleId==="string"){e.resourcesRelativeTo=r.resourcesRelativeTo;var n=r.moduleId;if(r.resourcesRelativeTo.length>1){return t.normalize(r.moduleId,r.resourcesRelativeTo[1]).then((function(e){return i(e)}))}return i(n)}else if(typeof r.configure==="function"){if(e.configuredPlugins.indexOf(r.configure)!==-1){return Promise.resolve()}e.configuredPlugins.push(r.configure);return Promise.resolve(r.configure.call(null,e,r.config||{}))}throw new Error(S(r.moduleId||r.configure,"plugin"));function i(n){return t.loadModule(n).then((function(t){if("configure"in t){if(e.configuredPlugins.indexOf(t.configure)!==-1){return Promise.resolve()}return Promise.resolve(t.configure(e,r.config||{})).then((function(){e.configuredPlugins.push(t.configure);e.resourcesRelativeTo=null;m.debug("Configured plugin "+r.moduleId+".")}))}e.resourcesRelativeTo=null;m.debug("Loaded plugin "+r.moduleId+".")}))}}function x(e,t,r){if(Object.keys(t).length===0){return Promise.resolve()}var n=e.container.get(s.ViewEngine);return Promise.all(Object.keys(t).map((function(e){return i(t[e])}))).then((function(e){var t=[];var i=[];e.forEach((function(e){t.push(undefined);i.push(e.importId)}));return n.importViewResources(i,t,r)}));function i(t){var r=t.moduleId;var n=C(r);if(o(r)){r=a(r)}return e.loader.normalize(r,t.relativeTo).then((function(e){return{name:t.moduleId,importId:o(t.moduleId)?u(e,n):e}}))}function o(e){var t=C(e);if(!t)return false;if(t==="")return false;if(t===".js"||t===".ts")return false;return true}function a(e){return e.replace(y,"")}function u(e,t){return a(e)+"."+t}}function C(e){var t=e.match(y);if(t&&t.length>0){return t[0].split(".")[1]}}function _(e){return Promise.all(e.behaviorsToLoad.map((function(t){return t.load(e.container,t.target)}))).then((function(){e.behaviorsToLoad=null}))}function E(e){if(e.processed){throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}}function S(e,t){return"Invalid "+t+" ["+e+"], "+t+" must be specified as functions or relative module IDs."}var O=function(){function e(e){var t=this;this.aurelia=e;this.container=e.container;this.info=[];this.processed=false;this.preTasks=[];this.postTasks=[];this.behaviorsToLoad=[];this.configuredPlugins=[];this.resourcesToLoad={};this.preTask((function(){return e.loader.normalize("aurelia-bootstrapper").then((function(e){return t.bootstrapperName=e}))}));this.postTask((function(){return x(e,t.resourcesToLoad,e.resources)}))}e.prototype.instance=function e(t,r){this.container.registerInstance(t,r);return this};e.prototype.singleton=function e(t,r){this.container.registerSingleton(t,r);return this};e.prototype.transient=function e(t,r){this.container.registerTransient(t,r);return this};e.prototype.preTask=function e(t){E(this);this.preTasks.push(t);return this};e.prototype.postTask=function e(t){E(this);this.postTasks.push(t);return this};e.prototype.feature=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(typeof t==="undefined"?"undefined":n(t)){case"string":var i=/\/index$/i.test(t);var o=i||C(t)?t:t+"/index";var a=i?t.substr(0,t.length-6):t;this.info.push({moduleId:o,resourcesRelativeTo:[a,""],config:r});break;case"function":this.info.push({configure:t,config:r||{}});break;default:throw new Error(S(t,"feature"))}return this};e.prototype.globalResources=function e(t){var r=this;E(this);var i=Array.isArray(t)?t:arguments;var o=void 0;var a=this.resourcesRelativeTo||["",""];for(var u=0,l=i.length;u<l;++u){o=i[u];switch(typeof o==="undefined"?"undefined":n(o)){case"string":var f=a[0];var h=a[1];var d=o;if((o.startsWith("./")||o.startsWith("../"))&&f!==""){d=(0,c.join)(f,o)}this.resourcesToLoad[d]={moduleId:d,relativeTo:h};break;case"function":var p=this.aurelia.resources.autoRegister(this.container,o);if(p instanceof s.HtmlBehaviorResource&&p.elementName!==null){if(this.behaviorsToLoad.push(p)===1){this.postTask((function(){return _(r)}))}}break;default:throw new Error(S(o,"resource"))}}return this};e.prototype.globalName=function e(t,r){E(this);this.resourcesToLoad[t]={moduleId:r,relativeTo:""};return this};e.prototype.plugin=function e(t,r){E(this);var i=void 0;switch(typeof t==="undefined"?"undefined":n(t)){case"string":i={moduleId:t,resourcesRelativeTo:[t,""],config:r||{}};break;case"function":i={configure:t,config:r||{}};break;default:throw new Error(S(t,"plugin"))}this.info.push(i);return this};e.prototype._addNormalizedPlugin=function e(t,r){var n=this;var i={moduleId:t,resourcesRelativeTo:[t,""],config:r||{}};this.info.push(i);this.preTask((function(){var e=[t,n.bootstrapperName];i.moduleId=t;i.resourcesRelativeTo=e;return Promise.resolve()}));return this};e.prototype.defaultBindingLanguage=function e(){return this._addNormalizedPlugin("aurelia-templating-binding")};e.prototype.router=function e(){return this._addNormalizedPlugin("aurelia-templating-router")};e.prototype.history=function e(){return this._addNormalizedPlugin("aurelia-history-browser")};e.prototype.defaultResources=function e(){return this._addNormalizedPlugin("aurelia-templating-resources")};e.prototype.eventAggregator=function e(){return this._addNormalizedPlugin("aurelia-event-aggregator")};e.prototype.basicConfiguration=function e(){return this.defaultBindingLanguage().defaultResources().eventAggregator()};e.prototype.standardConfiguration=function e(){return this.basicConfiguration().history().router()};e.prototype.developmentLogging=function e(t){var r=this;var n=t?d.logLevel[t]:undefined;if(n===undefined){n=d.logLevel.debug}this.preTask((function(){return r.aurelia.loader.normalize("aurelia-logging-console",r.bootstrapperName).then((function(e){return r.aurelia.loader.loadModule(e).then((function(e){d.addAppender(new e.ConsoleAppender);d.setLevel(n)}))}))}));return this};e.prototype.apply=function e(){var t=this;if(this.processed){return Promise.resolve()}return b(this,this.preTasks).then((function(){var e=t.aurelia.loader;var r=t.info;var n=void 0;var i=function i(){n=r.shift();if(n){return w(t,e,n).then(i)}t.processed=true;t.configuredPlugins=null;return Promise.resolve()};return i().then((function(){return b(t,t.postTasks)}))}))};return e}();t.FrameworkConfiguration=O;var k=t.LogManager=d}));define("aurelia-history-browser/dist/commonjs/aurelia-history-browser",["require","exports","module","aurelia-history","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=e("aurelia-history");var i=e("aurelia-pal");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var o=function(e,t){o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return o(e,t)};function a(e,t){o(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){function e(){}e.prototype.activate=function(e){};e.prototype.deactivate=function(){};return e}();var u=function(e){a(t,e);function t(){var r=e.call(this)||this;r.handler=function(e){var n=t.getEventInfo(e),i=n.shouldHandleEvent,o=n.href;if(i){e.preventDefault();r.history.navigate(o)}};return r}t.prototype.activate=function(e){if(e._hasPushState){this.history=e;i.DOM.addEventListener("click",this.handler,true)}};t.prototype.deactivate=function(){i.DOM.removeEventListener("click",this.handler,true)};t.getEventInfo=function(e){var r=e;var n={shouldHandleEvent:false,href:null,anchor:null};var i=t.findClosestAnchor(r.target);if(!i||!t.targetIsThisWindow(i)){return n}if(l(i,"download")||l(i,"router-ignore")||l(i,"data-router-ignore")){return n}if(r.altKey||r.ctrlKey||r.metaKey||r.shiftKey){return n}var o=i.getAttribute("href");n.anchor=i;n.href=o;var a=r.which===1;var s=o&&!(o.charAt(0)==="#"||/^[a-z]+:/i.test(o));n.shouldHandleEvent=a&&s;return n};t.findClosestAnchor=function(e){while(e){if(e.tagName==="A"){return e}e=e.parentNode}};t.targetIsThisWindow=function(e){var t=e.getAttribute("target");var r=i.PLATFORM.global;return!t||t===r.name||t==="_self"};return t}(s);var l=function(e,t){return e.hasAttribute(t)};var c=function(e){a(t,e);function t(t){var r=e.call(this)||this;r._isActive=false;r._checkUrlCallback=r._checkUrl.bind(r);r.location=i.PLATFORM.location;r.history=i.PLATFORM.history;r.linkHandler=t;return r}t.prototype.activate=function(e){if(this._isActive){throw new Error("History has already been activated.")}var t=this.history;var r=!!e.pushState;this._isActive=true;var n=this.options=Object.assign({},{root:"/"},this.options,e);var o=this.root=("/"+n.root+"/").replace(h,"/");var a=this._wantsHashChange=n.hashChange!==false;var s=this._hasPushState=!!(n.pushState&&t&&t.pushState);var u;if(s){u="popstate"}else if(a){u="hashchange"}i.PLATFORM.addEventListener(u,this._checkUrlCallback);if(a&&r){var l=this.location;var c=l.pathname.replace(/[^\/]$/,"$&/")===o;if(!s&&!c){var d=this.fragment=this._getFragment(null,true);l.replace(o+l.search+"#"+d);return true}else if(s&&c&&l.hash){var d=this.fragment=this._getHash().replace(f,"");t.replaceState({},i.DOM.title,o+d+l.search)}}if(!this.fragment){this.fragment=this._getFragment("")}this.linkHandler.activate(this);if(!n.silent){return this._loadUrl("")}};t.prototype.deactivate=function(){var e=this._checkUrlCallback;i.PLATFORM.removeEventListener("popstate",e);i.PLATFORM.removeEventListener("hashchange",e);this._isActive=false;this.linkHandler.deactivate()};t.prototype.getAbsoluteRoot=function(){var e=this.location;var t=g(e.protocol,e.hostname,e.port);return""+t+this.root};t.prototype.navigate=function(e,t){var r=t===void 0?{}:t,n=r.trigger,o=n===void 0?true:n,a=r.replace,s=a===void 0?false:a;var u=this.location;if(e&&p.test(e)){u.href=e;return true}if(!this._isActive){return false}e=this._getFragment(e||"");if(this.fragment===e&&!s){return false}this.fragment=e;var l=this.root+e;if(e===""&&l!=="/"){l=l.slice(0,-1)}if(this._hasPushState){l=l.replace("//","/");this.history[s?"replaceState":"pushState"]({},i.DOM.title,l)}else if(this._wantsHashChange){v(u,e,s)}else{u.assign(l)}if(o){return this._loadUrl(e)}return true};t.prototype.navigateBack=function(){this.history.back()};t.prototype.setTitle=function(e){i.DOM.title=e};t.prototype.setState=function(e,t){var r=this.history;var n=Object.assign({},r.state);var i=this.location,o=i.pathname,a=i.search,s=i.hash;n[e]=t;r.replaceState(n,null,""+o+a+s)};t.prototype.getState=function(e){var t=Object.assign({},this.history.state);return t[e]};t.prototype.getHistoryIndex=function(){var e=this.getState("HistoryIndex");if(e===undefined){e=this.history.length-1;this.setState("HistoryIndex",e)}return e};t.prototype.go=function(e){this.history.go(e)};t.prototype._getHash=function(){return this.location.hash.substr(1)};t.prototype._getFragment=function(e,t){var r;if(!e){if(this._hasPushState||!this._wantsHashChange||t){var n=this.location;e=n.pathname+n.search;r=this.root.replace(d,"");if(!e.indexOf(r)){e=e.substr(r.length)}}else{e=this._getHash()}}return"/"+e.replace(f,"")};t.prototype._checkUrl=function(){var e=this._getFragment("");if(e!==this.fragment){this._loadUrl("")}};t.prototype._loadUrl=function(e){var t=this.fragment=this._getFragment(e);return this.options.routeHandler?this.options.routeHandler(t):false};t.inject=[s];return t}(n.History);var f=/^#?\/*|\s+$/g;var h=/^\/+|\/+$/g;var d=/\/$/;var p=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function v(e,t,r){if(r){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else{e.hash="#"+t}}function g(e,t,r){return e+"//"+t+(r?":"+r:"")}function m(e){var t=e;t.singleton(n.History,c);t.transient(s,u)}t.BrowserHistory=c;t.DefaultLinkHandler=u;t.LinkHandler=s;t.configure=m}));define("aurelia-history/dist/commonjs/aurelia-history",["require","exports","module"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){throw new Error("History must implement "+e+"().")}var i=t.History=function(){function e(){}e.prototype.activate=function e(t){n("activate")};e.prototype.deactivate=function e(){n("deactivate")};e.prototype.getAbsoluteRoot=function e(){n("getAbsoluteRoot")};e.prototype.navigate=function e(t,r){n("navigate")};e.prototype.navigateBack=function e(){n("navigateBack")};e.prototype.setTitle=function e(t){n("setTitle")};e.prototype.setState=function e(t,r){n("setState")};e.prototype.getState=function e(t){n("getState")};e.prototype.getHistoryIndex=function e(){n("getHistoryIndex")};e.prototype.go=function e(t){n("go")};return e}()}));define("aurelia-loader-default/dist/commonjs/aurelia-loader-default",["require","exports","module","aurelia-loader","aurelia-pal","aurelia-metadata"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DefaultLoader=t.TextTemplateLoader=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=e("aurelia-loader");var o=e("aurelia-pal");var a=e("aurelia-metadata");function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=t.TextTemplateLoader=function(){function e(){}e.prototype.loadTemplate=function e(t,r){return t.loadText(r.address).then((function(e){r.template=o.DOM.createTemplateFromMarkup(e)}))};return e}();function c(e,t){var r=e;var n=void 0;var i=void 0;if(r.__useDefault){r=r["default"]}a.Origin.set(r,new a.Origin(t,"default"));for(n in r){i=r[n];if(typeof i==="function"){a.Origin.set(i,new a.Origin(t,n))}}return e}var f=t.DefaultLoader=function(e){u(t,e);function t(){var t=s(this,e.call(this));t.textPluginName="text";t.moduleRegistry=Object.create(null);t.useTemplateLoader(new l);var r=t;t.addPlugin("template-registry-entry",{fetch:function e(t){var n=r.getOrCreateTemplateRegistryEntry(t);return n.templateIsLoaded?n:r.templateLoader.loadTemplate(r,n).then((function(e){return n}))}});return t}t.prototype.useTemplateLoader=function e(t){this.templateLoader=t};t.prototype.loadAllModules=function e(t){var r=[];for(var n=0,i=t.length;n<i;++n){r.push(this.loadModule(t[n]))}return Promise.all(r)};t.prototype.loadTemplate=function e(t){return this._import(this.applyPluginToUrl(t,"template-registry-entry"))};t.prototype.loadText=function e(t){return this._import(this.applyPluginToUrl(t,this.textPluginName)).then((function(e){if(typeof e==="string"){return e}return e["default"]}))};return t}(i.Loader);o.PLATFORM.Loader=f;if(!o.PLATFORM.global.System||!o.PLATFORM.global.System.import){if(o.PLATFORM.global.requirejs){var h=void 0;if(n(o.PLATFORM.global.requirejs.s)==="object"){h=function e(){return o.PLATFORM.global.requirejs.s.contexts._.defined}}else if(n(o.PLATFORM.global.requirejs.contexts)==="object"){h=function e(){return o.PLATFORM.global.requirejs.contexts._.defined}}else if(typeof o.PLATFORM.global.requirejs.definedValues==="function"){h=function e(){return o.PLATFORM.global.requirejs.definedValues()}}else{h=function e(){return{}}}o.PLATFORM.eachModule=function(e){var t=h();for(var r in t){try{if(e(r,t[r]))return}catch(e){}}}}else{o.PLATFORM.eachModule=function(e){}}f.prototype._import=function(e){return new Promise((function(t,r){o.PLATFORM.global.require([e],t,r)}))};f.prototype.loadModule=function(e){var t=this;var r=this.moduleRegistry[e];if(r!==undefined){return Promise.resolve(r)}return new Promise((function(r,n){o.PLATFORM.global.require([e],(function(n){t.moduleRegistry[e]=n;r(c(n,e))}),n)}))};f.prototype.map=function(e,t){};f.prototype.normalize=function(e,t){return Promise.resolve(e)};f.prototype.normalizeSync=function(e,t){return e};f.prototype.applyPluginToUrl=function(e,t){return t+"!"+e};f.prototype.addPlugin=function(e,t){var r=define;r(e,[],{load:function e(r,n,i){var o=t.fetch(r);Promise.resolve(o).then(i)}})}}else{o.PLATFORM.eachModule=function(e){if(System.registry){var t=Array.from(System.registry.keys());for(var r=0;r<t.length;r++){try{var n=t[r];if(e(n,System.registry.get(n))){return}}catch(e){}}return}var i=System._loader.modules;for(var o in i){try{if(e(o,i[o].module))return}catch(e){}}};f.prototype._import=function(e){return System.import(e)};f.prototype.loadModule=function(e){var t=this;return System.normalize(e).then((function(e){var r=t.moduleRegistry[e];if(r!==undefined){return Promise.resolve(r)}return System.import(e).then((function(r){t.moduleRegistry[e]=r;return c(r,e)}))}))};f.prototype.map=function(e,t){var r;System.config({map:(r={},r[e]=t,r)})};f.prototype.normalizeSync=function(e,t){return System.normalizeSync(e,t)};f.prototype.normalize=function(e,t){return System.normalize(e,t)};f.prototype.applyPluginToUrl=function(e,t){return e+"!"+t};f.prototype.addPlugin=function(e,t){System.set(e,System.newModule({fetch:function e(r,n){var i=t.fetch(r.address);return Promise.resolve(i).then((function(e){r.metadata.result=e;return""}))},instantiate:function e(t){return t.metadata.result}}))}}}));define("aurelia-loader/dist/commonjs/aurelia-loader",["require","exports","module","aurelia-path","aurelia-metadata"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Loader=t.TemplateRegistryEntry=t.TemplateDependency=undefined;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=e("aurelia-path");var o=e("aurelia-metadata");var a=t.TemplateDependency=function e(t,r){this.src=t;this.name=r};var s=t.TemplateRegistryEntry=function(){function e(e){this.templateIsLoaded=false;this.factoryIsReady=false;this.resources=null;this.dependencies=null;this.address=e;this.onReady=null;this._template=null;this._factory=null}e.prototype.addDependency=function e(t,r){var n=typeof t==="string"?(0,i.relativeToFile)(t,this.address):o.Origin.get(t).moduleId;this.dependencies.push(new a(n,r))};n(e,[{key:"template",get:function e(){return this._template},set:function e(t){var r=this.address;var n=void 0;var o=void 0;var s=void 0;var u=void 0;this._template=t;this.templateIsLoaded=true;n=t.content.querySelectorAll("require");u=this.dependencies=new Array(n.length);for(var l=0,c=n.length;l<c;++l){o=n[l];s=o.getAttribute("from");if(!s){throw new Error("<require> element in "+r+' has no "from" attribute.')}u[l]=new a((0,i.relativeToFile)(s,r),o.getAttribute("as"));if(o.parentNode){o.parentNode.removeChild(o)}}}},{key:"factory",get:function e(){return this._factory},set:function e(t){this._factory=t;this.factoryIsReady=true}}]);return e}();var u=t.Loader=function(){function e(){this.templateRegistry={}}e.prototype.map=function e(t,r){throw new Error("Loaders must implement map(id, source).")};e.prototype.normalizeSync=function e(t,r){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")};e.prototype.normalize=function e(t,r){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")};e.prototype.loadModule=function e(t){throw new Error("Loaders must implement loadModule(id).")};e.prototype.loadAllModules=function e(t){throw new Error("Loader must implement loadAllModules(ids).")};e.prototype.loadTemplate=function e(t){throw new Error("Loader must implement loadTemplate(url).")};e.prototype.loadText=function e(t){throw new Error("Loader must implement loadText(url).")};e.prototype.applyPluginToUrl=function e(t,r){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")};e.prototype.addPlugin=function e(t,r){throw new Error("Loader must implement addPlugin(pluginName, implementation).")};e.prototype.getOrCreateTemplateRegistryEntry=function e(t){return this.templateRegistry[t]||(this.templateRegistry[t]=new s(t))};return e}()}));define("aurelia-logging-console/dist/commonjs/aurelia-logging-console",["require","exports","module"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.ConsoleAppender=function(){function e(){}e.prototype.debug=function e(t){var r;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}(r=console).debug.apply(r,["DEBUG ["+t.id+"]"].concat(i))};e.prototype.info=function e(t){var r;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}(r=console).info.apply(r,["INFO ["+t.id+"]"].concat(i))};e.prototype.warn=function e(t){var r;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}(r=console).warn.apply(r,["WARN ["+t.id+"]"].concat(i))};e.prototype.error=function e(t){var r;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}(r=console).error.apply(r,["ERROR ["+t.id+"]"].concat(i))};return e}()}));define("aurelia-logging/dist/commonjs/aurelia-logging",["require","exports","module"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getLogger=p;t.addAppender=v;t.removeAppender=g;t.getAppenders=m;t.clearAppenders=y;t.addCustomLevel=b;t.removeCustomLevel=w;t.setLevel=x;t.getLevel=C;var n=t.logLevel={none:0,error:10,warn:20,info:30,debug:40};var i={};var o=[];var a=n.none;var s=["none","error","warn","info","debug"];function u(e){return s.filter((function(t){return t===e})).length>0}function l(){return[this].concat(Array.prototype.slice.call(arguments))}function c(e){var t=n[e];return function(){if(this.level<t){return}var r=l.apply(this,arguments);var n=o.length;while(n--){var i;(i=o[n])[e].apply(i,r)}}}function f(e){var t=n[e];return function(){if(this.level<t){return}var r=l.apply(this,arguments);var n=o.length;while(n--){var i=o[n];if(i[e]!==undefined){i[e].apply(i,r)}}}}function h(){var e=_.prototype;for(var t in n){if(u(t)){if(t!=="none"){e[t]=c(t)}}else{e[t]=f(t)}}}function d(){var e=_.prototype;for(var t in n){if(t!=="none"){e[t]=function(){}}}}function p(e){return i[e]||new _(e)}function v(e){if(o.push(e)===1){h()}}function g(e){o=o.filter((function(t){return t!==e}))}function m(){return[].concat(o)}function y(){o=[];d()}function b(e,t){if(n[e]!==undefined){throw Error('Log level "'+e+'" already exists.')}if(isNaN(t)){throw Error("Value must be a number.")}n[e]=t;if(o.length>0){h()}else{_.prototype[e]=function(){}}}function w(e){if(n[e]===undefined){return}if(u(e)){throw Error('Built-in log level "'+e+'" cannot be removed.')}delete n[e];delete _.prototype[e]}function x(e){a=e;for(var t in i){i[t].setLevel(e)}}function C(){return a}var _=t.Logger=function(){function e(e){var t=i[e];if(t){return t}i[e]=this;this.id=e;this.level=a}e.prototype.debug=function e(t){};e.prototype.info=function e(t){};e.prototype.warn=function e(t){};e.prototype.error=function e(t){};e.prototype.setLevel=function e(t){this.level=t};e.prototype.isDebugEnabled=function e(){return this.level===n.debug};return e}()}));define("aurelia-metadata/dist/commonjs/aurelia-metadata",["require","exports","module","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Origin=t.metadata=undefined;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.decorators=f;t.deprecated=h;t.mixin=d;t.protocol=b;var o=e("aurelia-pal");function a(e){return e&&(typeof e==="function"||(typeof e==="undefined"?"undefined":i(e))==="object")}var s=t.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function e(t,r,n){if(!a(r)){return undefined}var i=s.getOwn(t,r,n);return i===undefined?s.get(t,Object.getPrototypeOf(r),n):i},getOwn:function e(t,r,n){if(!a(r)){return undefined}return Reflect.getOwnMetadata(t,r,n)},define:function e(t,r,n,i){Reflect.defineMetadata(t,r,n,i)},getOrCreateOwn:function e(t,r,n,i){var o=s.getOwn(t,n,i);if(o===undefined){o=new r;Reflect.defineMetadata(t,o,n,i)}return o}};var u=new Map;var l=Object.freeze({moduleId:undefined,moduleMember:undefined});var c=t.Origin=function(){function e(e,t){this.moduleId=e;this.moduleMember=t}e.get=function t(r){var n=u.get(r);if(n===undefined){o.PLATFORM.eachModule((function(t,o){if((typeof o==="undefined"?"undefined":i(o))==="object"){for(var a in o){try{var s=o[a];if(s===r){u.set(r,n=new e(t,a));return true}}catch(e){}}}if(o===r){u.set(r,n=new e(t,"default"));return true}return false}))}return n||l};e.set=function e(t,r){u.set(t,r)};return e}();function f(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=function e(r,n,i){var o=t.length;if(n){i=i||{value:r[n],writable:true,configurable:true,enumerable:true};while(o--){i=t[o](r,n,i)||i}Object.defineProperty(r,n,i)}else{while(o--){r=t[o](r)||r}}return r};n.on=n;return n}function h(e,t,r){function i(r,i,o){var a=r.constructor.name+"#"+i;var s=t?{}:e||{};var u="DEPRECATION - "+a;if(typeof o.value!=="function"){throw new SyntaxError("Only methods can be marked as deprecated.")}if(s.message){u+=" - "+s.message}return n({},o,{value:function e(){if(s.error){throw new Error(u)}else{console.warn(u)}return o.value.apply(this,arguments)}})}return t?i(e,t,r):i}function d(e){var t=Object.keys(e);function r(r){var n=function r(n){var i=typeof n==="function"?n.prototype:n;var o=t.length;while(o--){var a=t[o];Object.defineProperty(i,a,{value:e[a],writable:true})}};return r?n(r):n}return r}function p(){return true}function v(){}function g(e){if(e===undefined){e={}}else if(typeof e==="function"){e={validate:e}}if(!e.validate){e.validate=p}if(!e.compose){e.compose=v}return e}function m(e){return function(t){var r=e(t);return r===true}}function y(e,t){return function(r){var n=t(r);if(n!==true){throw new Error(n||e+" was not correctly implemented.")}}}function b(e,t){t=g(t);var r=function r(n){var i=typeof n==="function"?n.prototype:n;t.compose(i);r.assert(i);Object.defineProperty(i,"protocol:"+e,{enumerable:false,configurable:false,writable:false,value:true})};r.validate=m(t.validate);r.assert=y(e,t.validate);return r}b.create=function(e,t){t=g(t);var r="protocol:"+e;var n=function r(n){var i=b(e,t);return n?i(n):i};n.decorates=function(e){return e[r]===true};n.validate=m(t.validate);n.assert=y(e,t.validate);return n}}));define("aurelia-pal-browser/dist/commonjs/aurelia-pal-browser",["require","exports","module","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t._DOM=t._FEATURE=t._PLATFORM=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.initialize=V;var i=e("aurelia-pal");var o=t._PLATFORM={location:window.location,history:window.history,addEventListener:function e(t,r,n){this.global.addEventListener(t,r,n)},removeEventListener:function e(t,r,n){this.global.removeEventListener(t,r,n)},performance:window.performance,requestAnimationFrame:function e(t){return this.global.requestAnimationFrame(t)}};if(typeof FEATURE_NO_IE==="undefined"){var a=function e(){};if(a.name===undefined){Object.defineProperty(Function.prototype,"name",{get:function e(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];Object.defineProperty(this,"name",{value:t});return t}})}}if(typeof FEATURE_NO_IE==="undefined"){if(!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var s="prototype";var u=String.prototype.trim;var l=Array.prototype.indexOf;var c=[];var f=function e(t,r){this.name=t;this.code=DOMException[t];this.message=r};var h=function e(t,r){if(r===""){throw new f("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(r)){throw new f("INVALID_CHARACTER_ERR","String contains an invalid character")}return l.call(t,r)};var d=function e(t){var r=u.call(t.getAttribute("class")||"");var n=r?r.split(/\s+/):c;for(var i=0,o=n.length;i<o;++i){this.push(n[i])}this._updateClassName=function(){t.setAttribute("class",this.toString())}};var p=d[s]=[];f[s]=Error[s];p.item=function(e){return this[e]||null};p.contains=function(e){e+="";return h(this,e)!==-1};p.add=function(){var e=arguments;var t=0;var r=e.length;var n=void 0;var i=false;do{n=e[t]+"";if(h(this,n)===-1){this.push(n);i=true}}while(++t<r);if(i){this._updateClassName()}};p.remove=function(){var e=arguments;var t=0;var r=e.length;var n=void 0;var i=false;var o=void 0;do{n=e[t]+"";o=h(this,n);while(o!==-1){this.splice(o,1);i=true;o=h(this,n)}}while(++t<r);if(i){this._updateClassName()}};p.toggle=function(e,t){e+="";var r=this.contains(e);var n=r?t!==true&&"remove":t!==false&&"add";if(n){this[n](e)}if(t===true||t===false){return t}return!r};p.toString=function(){return this.join(" ")};Object.defineProperty(Element.prototype,"classList",{get:function e(){return new d(this)},enumerable:true,configurable:true})}else{var v=document.createElement("_");v.classList.add("c1","c2");if(!v.classList.contains("c2")){var g=function e(t){var r=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(e){for(var t=0,n=arguments.length;t<n;++t){e=arguments[t];r.call(this,e)}}};g("add");g("remove")}v.classList.toggle("c3",false);if(v.classList.contains("c3")){var m=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){if(1 in arguments&&!this.contains(e)===!t){return t}return m.call(this,e)}}v=null}}if(typeof FEATURE_NO_IE==="undefined"){var y=function e(t,r){var n=0,i=C.length,o=[];for(;n<i;n++){if(C[n][t]==r){o.push(C[n])}}return o};var b=function e(t,r){var n=C.length,i;while(n--){i=C[n];if(i.entryType==t&&(r===void 0||i.name==r)){C.splice(n,1)}}};
// @license http://opensource.org/licenses/MIT
if("performance"in window===false){window.performance={}}if("now"in window.performance===false){var w=Date.now();if(performance.timing&&performance.timing.navigationStart){w=performance.timing.navigationStart}window.performance.now=function e(){return Date.now()-w}}var x=Date.now?Date.now():+new Date;var C=[];var _={};if(!window.performance.mark){window.performance.mark=window.performance.webkitMark||function(e){var t={name:e,entryType:"mark",startTime:window.performance.now(),duration:0};C.push(t);_[e]=t}}if(!window.performance.measure){window.performance.measure=window.performance.webkitMeasure||function(e,t,r){t=_[t].startTime;r=_[r].startTime;C.push({name:e,entryType:"measure",startTime:t,duration:r-t})}}if(!window.performance.getEntriesByType){window.performance.getEntriesByType=window.performance.webkitGetEntriesByType||function(e){return y("entryType",e)}}if(!window.performance.getEntriesByName){window.performance.getEntriesByName=window.performance.webkitGetEntriesByName||function(e){return y("name",e)}}if(!window.performance.clearMarks){window.performance.clearMarks=window.performance.webkitClearMarks||function(e){b("mark",e)}}if(!window.performance.clearMeasures){window.performance.clearMeasures=window.performance.webkitClearMeasures||function(e){b("measure",e)}}o.performance=window.performance}if(typeof FEATURE_NO_IE==="undefined"){var E=window.console=window.console||{};var S=function e(){};if(!E.memory)E.memory={};("assert,clear,count,debug,dir,dirxml,error,exception,group,"+"groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,"+"show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn").split(",").forEach((function(e){if(!E[e])E[e]=S}));if(n(E.log)==="object"){"log,info,warn,error,assert,dir,clear,profile,profileEnd".split(",").forEach((function(e){console[e]=this.bind(console[e],console)}),Function.prototype.call)}}if(typeof FEATURE_NO_IE==="undefined"){if(!window.CustomEvent||typeof window.CustomEvent!=="function"){var O=function e(t,r){r=r||{bubbles:false,cancelable:false,detail:undefined};var n=document.createEvent("CustomEvent");n.initCustomEvent(t,r.bubbles,r.cancelable,r.detail);return n};O.prototype=window.Event.prototype;window.CustomEvent=O}}if(Element&&!Element.prototype.matches){var k=Element.prototype;k.matches=k.matchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector||k.webkitMatchesSelector}var A=t._FEATURE={shadowDOM:!!HTMLElement.prototype.attachShadow,scopedCSS:"scoped"in document.createElement("style"),htmlTemplateElement:function(){var e=document.createElement("div");e.innerHTML="<template></template>";return"content"in e.children[0]}(),mutationObserver:!!(window.MutationObserver||window.WebKitMutationObserver),ensureHTMLTemplateElement:function e(t){return t}};if(typeof FEATURE_NO_IE==="undefined"){var M=function e(t){return t.tagName==="template"&&t.namespaceURI==="http://www.w3.org/2000/svg"};var P=function e(t){var r=t.ownerDocument.createElement("template");var n=t.attributes;var i=n.length;var o=void 0;t.parentNode.insertBefore(r,t);while(i-- >0){o=n[i];r.setAttribute(o.name,o.value);t.removeAttribute(o.name)}t.parentNode.removeChild(t);return R(r)};var R=function e(t){var r=t.content=document.createDocumentFragment();var n=void 0;while(n=t.firstChild){r.appendChild(n)}return t};var T=function e(t){var r=R(t).content;var n=r.querySelectorAll("template");for(var i=0,o=n.length;i<o;++i){var a=n[i];if(M(a)){P(a)}else{R(a)}}return t};if(!A.htmlTemplateElement){A.ensureHTMLTemplateElement=T}}var j=window.ShadowDOMPolyfill||null;var L=t._DOM={Element:Element,NodeList:NodeList,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function e(t,r,n){document.addEventListener(t,r,n)},removeEventListener:function e(t,r,n){document.removeEventListener(t,r,n)},adoptNode:function e(t){return document.adoptNode(t)},createAttribute:function e(t){return document.createAttribute(t)},createElement:function e(t){return document.createElement(t)},createTextNode:function e(t){return document.createTextNode(t)},createComment:function e(t){return document.createComment(t)},createDocumentFragment:function e(){return document.createDocumentFragment()},createTemplateElement:function e(){var t=document.createElement("template");return A.ensureHTMLTemplateElement(t)},createMutationObserver:function e(t){return new(window.MutationObserver||window.WebKitMutationObserver)(t)},createCustomEvent:function e(t,r){return new window.CustomEvent(t,r)},dispatchEvent:function e(t){document.dispatchEvent(t)},getComputedStyle:function e(t){return window.getComputedStyle(t)},getElementById:function e(t){return document.getElementById(t)},querySelector:function e(t){return document.querySelector(t)},querySelectorAll:function e(t){return document.querySelectorAll(t)},nextElementSibling:function e(t){if(t.nextElementSibling){return t.nextElementSibling}do{t=t.nextSibling}while(t&&t.nodeType!==1);return t},createTemplateFromMarkup:function e(t){var r=document.createElement("div");r.innerHTML=t;var n=r.firstElementChild;if(!n||n.nodeName!=="TEMPLATE"){throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>")}return A.ensureHTMLTemplateElement(n)},appendNode:function e(t,r){(r||document.body).appendChild(t)},replaceNode:function e(t,r,n){if(r.parentNode){r.parentNode.replaceChild(t,r)}else if(j!==null){j.unwrap(n).replaceChild(j.unwrap(t),j.unwrap(r))}else{n.replaceChild(t,r)}},removeNode:function e(t,r){if(t.parentNode){t.parentNode.removeChild(t)}else if(r){if(j!==null){j.unwrap(r).removeChild(j.unwrap(t))}else{r.removeChild(t)}}},injectStyles:function e(t,r,n,i){if(i){var o=document.getElementById(i);if(o){var a=o.tagName.toLowerCase()==="style";if(a){o.innerHTML=t;return}throw new Error("The provided id does not indicate a style tag.")}}var s=document.createElement("style");s.innerHTML=t;s.type="text/css";if(i){s.id=i}r=r||document.head;if(n&&r.childNodes.length>0){r.insertBefore(s,r.childNodes[0])}else{r.appendChild(s)}return s}};function V(){if(i.isInitialized){return}(0,i.initializePAL)((function(e,t,r){Object.assign(e,o);Object.assign(t,A);Object.assign(r,L);Object.defineProperty(r,"title",{get:function e(){return document.title},set:function e(t){document.title=t}});Object.defineProperty(r,"activeElement",{get:function e(){return document.activeElement}});Object.defineProperty(e,"XMLHttpRequest",{get:function t(){return e.global.XMLHttpRequest}})}))}}));define("aurelia-pal/dist/commonjs/aurelia-pal",["require","exports","module"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AggregateError=n;t.initializePAL=u;t.reset=l;function n(e,t,r){if(t){if(t.innerError&&r){return t}var n="\n------------------------------------------------\n";e+=n+"Inner Error:\n";if(typeof t==="string"){e+="Message: "+t}else{if(t.message){e+="Message: "+t.message}else{e+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(t,null,"  ")}if(t.stack){e+="\nInner Error Stack:\n"+t.stack;e+="\nEnd Inner Error Stack"}}e+=n}var i=new Error(e);if(t){i.innerError=t}return i}var i=t.FEATURE={};var o=t.PLATFORM={noop:function e(){},eachModule:function e(){},moduleName:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return e}))};o.global=function(){if(typeof self!=="undefined"){return self}if(typeof global!=="undefined"){return global}return new Function("return this")()}();var a=t.DOM={};var s=t.isInitialized=false;function u(e){if(s){return}t.isInitialized=s=true;if(typeof Object.getPropertyDescriptor!=="function"){Object.getPropertyDescriptor=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);var n=Object.getPrototypeOf(e);while(typeof r==="undefined"&&n!==null){r=Object.getOwnPropertyDescriptor(n,t);n=Object.getPrototypeOf(n)}return r}}e(o,i,a)}function l(){t.isInitialized=s=false}}));define("aurelia-path/dist/commonjs/aurelia-path",["require","exports","module"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.relativeToFile=o;t.join=a;t.buildQueryString=c;t.parseQueryString=d;function i(e){for(var t=0;t<e.length;++t){var r=e[t];if(r==="."){e.splice(t,1);t-=1}else if(r===".."){if(t===0||t===1&&e[2]===".."||e[t-1]===".."){continue}else if(t>0){e.splice(t-1,2);t-=2}}}}function o(e,t){var r=t&&t.split("/");var n=e.trim().split("/");if(n[0].charAt(0)==="."&&r){var o=r.slice(0,r.length-1);n.unshift.apply(n,o)}i(n);return n.join("/")}function a(e,t){if(!e){return t}if(!t){return e}var r=e.match(/^([^/]*?:)\//);var n=r&&r.length>0?r[1]:"";e=e.substr(n.length);var i=void 0;if(e.indexOf("///")===0&&n==="file:"){i="///"}else if(e.indexOf("//")===0){i="//"}else if(e.indexOf("/")===0){i="/"}else{i=""}var o=t.slice(-1)==="/"?"/":"";var a=e.split("/");var s=t.split("/");var u=[];for(var l=0,c=a.length;l<c;++l){if(a[l]===".."){if(u.length&&u[u.length-1]!==".."){u.pop()}else{u.push(a[l])}}else if(a[l]==="."||a[l]===""){continue}else{u.push(a[l])}}for(var f=0,h=s.length;f<h;++f){if(s[f]===".."){if(u.length&&u[u.length-1]!==".."){u.pop()}else{u.push(s[f])}}else if(s[f]==="."||s[f]===""){continue}else{u.push(s[f])}}return n+i+u.join("/")+o}var s=encodeURIComponent;var u=function e(t){return s(t).replace("%24","$")};function l(e,t,r){var i=[];if(t===null||t===undefined){return i}if(Array.isArray(t)){for(var o=0,a=t.length;o<a;o++){if(r){i.push(u(e)+"="+s(t[o]))}else{var c=e+"["+(n(t[o])==="object"&&t[o]!==null?o:"")+"]";i=i.concat(l(c,t[o]))}}}else if((typeof t==="undefined"?"undefined":n(t))==="object"&&!r){for(var f in t){i=i.concat(l(e+"["+f+"]",t[f]))}}else{i.push(u(e)+"="+s(t))}return i}function c(e,t){var r=[];var n=Object.keys(e||{}).sort();for(var i=0,o=n.length;i<o;i++){var a=n[i];r=r.concat(l(a,e[a],t))}if(r.length===0){return""}return r.join("&")}function f(e,t){if(Array.isArray(e)){e.push(t);return e}if(e!==undefined){return[e,t]}return t}function h(e,t,r){var i=e;var o=t.length-1;for(var a=0;a<=o;a++){var s=t[a]===""?i.length:t[a];if(a<o){var u=!i[s]||n(i[s])==="object"?i[s]:[i[s]];i=i[s]=u||(isNaN(t[a+1])?{}:[])}else{i=i[s]=r}}}function d(e){var t={};if(!e||typeof e!=="string"){return t}var r=e;if(r.charAt(0)==="?"){r=r.substr(1)}var n=r.replace(/\+/g," ").split("&");for(var i=0;i<n.length;i++){var o=n[i].split("=");var a=decodeURIComponent(o[0]);if(!a){continue}var s=a.split("][");var u=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[u])){s[u]=s[u].replace(/\]$/,"");s=s.shift().split("[").concat(s);u=s.length-1}else{u=0}if(o.length>=2){var l=o[1]?decodeURIComponent(o[1]):"";if(u){h(t,s,l)}else{t[a]=f(t[a],l)}}else{t[a]=true}}return t}}));define("aurelia-polyfills/dist/commonjs/aurelia-polyfills",["require","exports","module","aurelia-pal"],(function(e,t,r){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=e("aurelia-pal");if(typeof FEATURE_NO_ES2015==="undefined"){(function(e,t){"use strict";if(t in e)return;var r,o=i.PLATFORM.global,a=0,s=""+Math.random(),u="__symbol:",l=u.length,c="__symbol@@"+s,f="defineProperty",h="defineProperties",d="getOwnPropertyNames",p="getOwnPropertyDescriptor",v="propertyIsEnumerable",g=e[d],m=e[p],y=e.create,b=e.keys,w=e[f],x=e[h],C=m(e,d),_=e.prototype,E=_.hasOwnProperty,S=_[v],O=_.toString,k=Array.prototype.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;){}return t},A=function e(t,r,n){if(!E.call(t,c)){w(t,c,{enumerable:false,configurable:false,writable:false,value:{}})}t[c]["@@"+r]=n},M=function e(t,r){var i=y(t);if(r!==null&&(typeof r==="undefined"?"undefined":n(r))==="object"){g(r).forEach((function(e){if(L.call(r,e)){F(i,e,r[e])}}))}return i},P=function e(t){var r=y(t);r.enumerable=false;return r},R=function e(){},T=function e(t){return t!=c&&!E.call(I,t)},j=function e(t){return t!=c&&E.call(I,t)},L=function e(t){var r=""+t;return j(r)?E.call(this,r)&&this[c]&&this[c]["@@"+r]:S.call(this,t)},V=function t(n){var i={enumerable:false,configurable:true,get:R,set:function e(t){r(this,n,{enumerable:false,configurable:true,writable:true,value:t});A(this,n,true)}};w(_,n,i);return I[n]=w(e(n),"constructor",B)},N=function e(t){if(this&&this!==o){throw new TypeError("Symbol is not a constructor")}return V(u.concat(t||"",s,++a))},I=y(null),B={value:N},D=function e(t){return I[t]},F=function e(t,n,i){var o=""+n;if(j(o)){r(t,o,i.enumerable?P(i):i);A(t,o,!!i.enumerable)}else{w(t,n,i)}return t},q=function t(r){var n=O.call(r);r=n==="[object String]"?r.split(""):e(r);return g(r).filter(j).map(D)};C.value=F;w(e,f,C);C.value=q;w(e,t,C);var z=(typeof window==="undefined"?"undefined":n(window))==="object"?e.getOwnPropertyNames(window):[];var H=e.getOwnPropertyNames;C.value=function e(t){if(O.call(t)==="[object Window]"){try{return H(t)}catch(e){return[].concat([],z)}}return g(t).filter(T)};w(e,d,C);C.value=function e(t,r){var n=q(r);if(n.length){b(r).concat(n).forEach((function(e){if(L.call(r,e)){F(t,e,r[e])}}))}else{x(t,r)}return t};w(e,h,C);C.value=L;w(_,v,C);C.value=N;w(o,"Symbol",C);C.value=function(e){var t=u.concat(u,e,s);return t in _?I[t]:V(t)};w(N,"for",C);C.value=function(e){return E.call(I,e)?e.slice(l*2,-s.length):void 0};w(N,"keyFor",C);C.value=function e(t,r){var n=m(t,r);if(n&&j(r)){n.enumerable=L.call(t,r)}return n};w(e,p,C);C.value=function(e,t){return arguments.length===1?y(e):M(e,t)};w(e,"create",C);C.value=function(){var e=O.call(this);return e==="[object String]"&&j(this)?"[object Symbol]":e};w(_,"toString",C);try{r=y(w({},u,{get:function e(){return w(this,u,{value:false})[u]}}))[u]||w}catch(e){r=function e(t,r,n){var i=m(_,r);delete _[r];w(t,r,n);w(_,r,i)}}})(Object,"getOwnPropertySymbols");(function(e,t){var r=e.defineProperty,n=e.prototype,i=n.toString,o="toStringTag",a;["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",o].forEach((function(t){if(!(t in Symbol)){r(Symbol,t,{value:Symbol(t)});switch(t){case o:a=e.getOwnPropertyDescriptor(n,"toString");a.value=function(){var e=i.call(this),t=typeof this==="undefined"||this===null?undefined:this[Symbol.toStringTag];return typeof t==="undefined"?e:"[object "+t+"]"};r(n,"toString",a);break}}}))})(Object,Symbol);(function(e,t,r){function n(){return this}if(!t[e])t[e]=function(){var t=0,r=this,i={next:function e(){var n=r.length<=t;return n?{done:n}:{done:n,value:r[t++]}}};i[e]=n;return i};if(!r[e])r[e]=function(){var t=String.fromCodePoint,r=this,i=0,o=r.length,a={next:function e(){var n=o<=i,a=n?"":t(r.codePointAt(i));i+=a.length;return n?{done:n}:{done:n,value:a}}};a[e]=n;return a}})(Symbol.iterator,Array.prototype,String.prototype)}if(typeof FEATURE_NO_ES2015==="undefined"){Number.isNaN=Number.isNaN||function(e){return e!==e};Number.isFinite=Number.isFinite||function(e){return typeof e==="number"&&isFinite(e)}}if(!String.prototype.endsWith||function(){try{return!"ab".endsWith("a",1)}catch(e){return true}}()){String.prototype.endsWith=function(e,t){var r=this.toString();if(typeof t!=="number"||!isFinite(t)||Math.floor(t)!==t||t>r.length){t=r.length}t-=e.length;var n=r.indexOf(e,t);return n!==-1&&n===t}}if(!String.prototype.startsWith||function(){try{return!"ab".startsWith("b",1)}catch(e){return true}}()){String.prototype.startsWith=function(e,t){t=t||0;return this.substr(t,e.length)===e}}if(typeof FEATURE_NO_ES2015==="undefined"){if(!Array.from){Array.from=function(){var e=function e(t){return isNaN(t=+t)?0:(t>0?Math.floor:Math.ceil)(t)};var t=function t(r){return r>0?Math.min(e(r),9007199254740991):0};var r=function e(t,r,n,i){try{return r(n,i)}catch(e){if(typeof t.return=="function")t.return();throw e}};return function e(n){var i=Object(n),o=typeof this=="function"?this:Array,a=arguments.length,s=a>1?arguments[1]:undefined,u=s!==undefined,l=0,c=i[Symbol.iterator],f,h,d,p;if(u)s=s.bind(a>2?arguments[2]:undefined);if(c!=undefined&&!Array.isArray(n)){for(p=c.call(i),h=new o;!(d=p.next()).done;l++){h[l]=u?r(p,s,d.value,l):d.value}}else{f=t(i.length);for(h=new o(f);f>l;l++){h[l]=u?s(i[l],l):i[l]}}h.length=l;return h}}()}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{configurable:true,writable:true,enumerable:false,value:function e(t){if(this===null){throw new TypeError("Array.prototype.find called on null or undefined")}if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var r=Object(this);var n=r.length>>>0;var i=arguments[1];var e;for(var o=0;o<n;o++){e=r[o];if(t.call(i,e,o,r)){return e}}return undefined}})}if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{configurable:true,writable:true,enumerable:false,value:function e(t){if(this===null){throw new TypeError("Array.prototype.findIndex called on null or undefined")}if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var r=Object(this);var n=r.length>>>0;var i=arguments[1];var e;for(var o=0;o<n;o++){e=r[o];if(t.call(i,e,o,r)){return o}}return-1}})}}if(typeof FEATURE_NO_ES2016==="undefined"&&!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{configurable:true,writable:true,enumerable:false,value:function e(t){var r=Object(this);var n=parseInt(r.length)||0;if(n===0){return false}var i=parseInt(arguments[1])||0;var o;if(i>=0){o=i}else{o=n+i;if(o<0){o=0}}var a;while(o<n){a=r[o];if(t===a||t!==t&&a!==a){return true}o++}return false}})}if(typeof FEATURE_NO_ES2015==="undefined"){(function(){var e=false;try{var t=Object.keys("a");e=t.length!==1||t[0]!=="0"}catch(t){e=true}if(e){Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(i){if(i===undefined||i===null){throw TypeError("Cannot convert undefined or null to object")}i=Object(i);var o=[],a,s;for(a in i){if(e.call(i,a)){o.push(a)}}if(t){for(s=0;s<n;s++){if(e.call(i,r[s])){o.push(r[s])}}}return o}}()}})();(function(e){if("assign"in e){return}e.defineProperty(e,"assign",{configurable:true,writable:true,value:function(){var t=e.getOwnPropertySymbols,r=e.propertyIsEnumerable,n=t?function(e){return t(e).filter(r,e)}:function(){return Array.prototype};return function r(i){if(t&&!(i instanceof e)){console.warn("problematic Symbols",i)}function o(e){i[e]=u[e]}for(var a=1,s=arguments.length;a<s;++a){var u=arguments[a];if(u===null||u===undefined){continue}e.keys(u).concat(n(u)).forEach(o)}return i}}()})})(Object);if(!Object.is){Object.is=function(e,t){if(e===t){return e!==0||1/e===1/t}else{return e!==e&&t!==t}}}}if(typeof FEATURE_NO_ES2015==="undefined"){(function(e){var t;var r=Object.defineProperty,n=function e(t,r){return t===r||t!==t&&r!==r};if(typeof WeakMap=="undefined"){e.WeakMap=a({delete:u,clear:v,get:l,has:h,set:d},true)}if(typeof Map=="undefined"||typeof(new Map).values!=="function"||!(new Map).values().next){var i;e.Map=a((i={delete:u,has:h,get:l,set:d,keys:g,values:m,entries:y,forEach:C,clear:v},i[Symbol.iterator]=y,i))}if(typeof Set=="undefined"||typeof(new Set).values!=="function"||!(new Set).values().next){var o;e.Set=a((o={has:f,add:p,delete:u,clear:v,keys:m,values:m,entries:b,forEach:C},o[Symbol.iterator]=m,o))}if(typeof WeakSet=="undefined"){e.WeakSet=a({delete:u,add:p,clear:v,has:f},true)}function a(e,t){function n(e){if(!this||this.constructor!==n)return new n(e);this._keys=[];this._values=[];this._itp=[];this.objectOnly=t;if(e)s.call(this,e)}if(!t){r(e,"size",{get:x})}e.constructor=n;n.prototype=e;return n}function s(e){var t;if(this.add)e.forEach(this.add,this);else e.forEach((function(e){this.set(e[0],e[1])}),this)}function u(e){if(this.has(e)){this._keys.splice(t,1);this._values.splice(t,1);this._itp.forEach((function(e){if(t<e[0])e[0]--}))}return-1<t}function l(e){return this.has(e)?this._values[t]:undefined}function c(e,r){if(this.objectOnly&&r!==Object(r))throw new TypeError("Invalid value used as weak collection key");if(r!=r||r===0)for(t=e.length;t--&&!n(e[t],r);){}else t=e.indexOf(r);return-1<t}function f(e){return c.call(this,this._values,e)}function h(e){return c.call(this,this._keys,e)}function d(e,r){this.has(e)?this._values[t]=r:this._values[this._keys.push(e)-1]=r;return this}function p(e){if(!this.has(e))this._values.push(e);return this}function v(){(this._keys||0).length=this._values.length=0}function g(){return w(this._itp,this._keys)}function m(){return w(this._itp,this._values)}function y(){return w(this._itp,this._keys,this._values)}function b(){return w(this._itp,this._values,this._values)}function w(e,t,r){var n;var i=[0],o=false;e.push(i);return n={},n[Symbol.iterator]=function(){return this},n.next=function n(){var a,s=i[0];if(!o&&s<t.length){a=r?[t[s],r[s]]:t[s];i[0]++}else{o=true;e.splice(e.indexOf(i),1)}return{done:o,value:a}},n}function x(){return this._values.length}function C(e,t){var r=this.entries();for(;;){var n=r.next();if(n.done)break;e.call(t,n.value[1],n.value[0],this)}}})(i.PLATFORM.global)}if(typeof FEATURE_NO_ES2015==="undefined"){var o=Function.prototype.bind;if(typeof i.PLATFORM.global.Reflect==="undefined"){i.PLATFORM.global.Reflect={}}if(typeof Reflect.defineProperty!=="function"){Reflect.defineProperty=function(e,t,r){if((typeof e==="undefined"?"undefined":n(e))==="object"?e===null:typeof e!=="function"){throw new TypeError("Reflect.defineProperty called on non-object")}try{Object.defineProperty(e,t,r);return true}catch(e){return false}}}if(typeof Reflect.construct!=="function"){Reflect.construct=function(e,t){if(t){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}}var r=[null];r.push.apply(r,t);return new(o.apply(e,r))}}if(typeof Reflect.ownKeys!=="function"){Reflect.ownKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}}}if(typeof FEATURE_NO_ESNEXT==="undefined"){var a=Object.freeze({});var s="__metadata__";if(typeof Reflect.getOwnMetadata!=="function"){Reflect.getOwnMetadata=function(e,t,r){if(t.hasOwnProperty(s)){return(t[s][r]||a)[e]}}}if(typeof Reflect.defineMetadata!=="function"){Reflect.defineMetadata=function(e,t,r,n){var i=r.hasOwnProperty(s)?r[s]:r[s]={};var o=i[n]||(i[n]={});o[e]=t}}if(typeof Reflect.metadata!=="function"){Reflect.metadata=function(e,t){return function(r,n){Reflect.defineMetadata(e,t,r,n)}}}}}));define("aurelia-route-recognizer/dist/commonjs/aurelia-route-recognizer",["require","exports","module","aurelia-path"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RouteRecognizer=t.EpsilonSegment=t.StarSegment=t.DynamicSegment=t.StaticSegment=t.State=undefined;var n=e("aurelia-path");var i=t.State=function(){function e(e){this.charSpec=e;this.nextStates=[]}e.prototype.get=function e(t){for(var r=this.nextStates,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{i=r.next();if(i.done)break;o=i.value}var a=o;var s=a.charSpec.validChars===t.validChars&&a.charSpec.invalidChars===t.invalidChars;if(s){return a}}return undefined};e.prototype.put=function t(r){var n=this.get(r);if(n){return n}n=new e(r);this.nextStates.push(n);if(r.repeat){n.nextStates.push(n)}return n};e.prototype.match=function e(t){var r=this.nextStates;var n=[];for(var i=0,o=r.length;i<o;i++){var a=r[i];var s=a.charSpec;if(s.validChars!==undefined){if(s.validChars.indexOf(t)!==-1){n.push(a)}}else if(s.invalidChars!==undefined){if(s.invalidChars.indexOf(t)===-1){n.push(a)}}}return n};return e}();var o=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];var a=new RegExp("(\\"+o.join("|\\")+")","g");var s=t.StaticSegment=function(){function e(e,t){this.string=e;this.caseSensitive=t}e.prototype.eachChar=function e(t){var r=this.string;for(var n=0,i=r.length;n<i;++n){var o=r[n];t({validChars:this.caseSensitive?o:o.toUpperCase()+o.toLowerCase()})}};e.prototype.regex=function e(){return this.string.replace(a,"\\$1")};e.prototype.generate=function e(){return this.string};return e}();var u=t.DynamicSegment=function(){function e(e,t){this.name=e;this.optional=t}e.prototype.eachChar=function e(t){t({invalidChars:"/",repeat:true})};e.prototype.regex=function e(){return"([^/]+)"};e.prototype.generate=function e(t,r){r[this.name]=true;return t[this.name]};return e}();var l=t.StarSegment=function(){function e(e){this.name=e}e.prototype.eachChar=function e(t){t({invalidChars:"",repeat:true})};e.prototype.regex=function e(){return"(.+)"};e.prototype.generate=function e(t,r){r[this.name]=true;return t[this.name]};return e}();var c=t.EpsilonSegment=function(){function e(){}e.prototype.eachChar=function e(){};e.prototype.regex=function e(){return""};e.prototype.generate=function e(){return""};return e}();var f=t.RouteRecognizer=function(){function e(){this.rootState=new i;this.names={};this.routes=new Map}e.prototype.add=function e(t){var r=this;if(Array.isArray(t)){t.forEach((function(e){return r.add(e)}));return undefined}var n=this.rootState;var i=[];var o="^";var a={statics:0,dynamics:0,stars:0};var s=[];var u=t.handler.name;var l=true;var f=d(t.path,s,a,t.caseSensitive);for(var h=0,p=f.length;h<p;h++){var v=f[h];if(v instanceof c){continue}var g=m(n,v),y=g[0],b=g[1];for(var w=0,x=i.length;w<x;w++){i[w].nextStates.push(y)}if(v.optional){i.push(b);o+="(?:/"+v.regex()+")?"}else{n=b;o+="/"+v.regex();i.length=0;l=false}}if(l){n=n.put({validChars:"/"});o+="/?"}var C=[{handler:t.handler,names:s}];this.routes.set(t.handler,{segments:f,handlers:C});if(u){var _=Array.isArray(u)?u:[u];for(var E=0;E<_.length;E++){if(!(_[E]in this.names)){this.names[_[E]]={segments:f,handlers:C}}}}for(var S=0;S<i.length;S++){var O=i[S];O.handlers=C;O.regex=new RegExp(o+"$",t.caseSensitive?"":"i");O.types=a}n.handlers=C;n.regex=new RegExp(o+"$",t.caseSensitive?"":"i");n.types=a;return n};e.prototype.getRoute=function e(t){return typeof t==="string"?this.names[t]:this.routes.get(t)};e.prototype.handlersFor=function e(t){var r=this.getRoute(t);if(!r){throw new Error("There is no route named "+t)}return[].concat(r.handlers)};e.prototype.hasRoute=function e(t){return!!this.getRoute(t)};e.prototype.generate=function e(t,r){var i=this.getRoute(t);if(!i){throw new Error("There is no route named "+t)}var o=i.handlers[0].handler;if(o.generationUsesHref){return o.href}var a=Object.assign({},r);var s=i.segments;var u={};var l="";for(var f=0,h=s.length;f<h;f++){var d=s[f];if(d instanceof c){continue}var p=d.generate(a,u);if(p===null||p===undefined){if(!d.optional){throw new Error("A value is required for route parameter '"+d.name+"' in route '"+t+"'.")}}else{l+="/";l+=p}}if(l.charAt(0)!=="/"){l="/"+l}for(var v in u){delete a[v]}var g=(0,n.buildQueryString)(a);l+=g?"?"+g:"";return l};e.prototype.recognize=function e(t){var r=[this.rootState];var i={};var o=false;var a=t;var s=a.indexOf("?");if(s!==-1){var u=a.substr(s+1,a.length);a=a.substr(0,s);i=(0,n.parseQueryString)(u)}a=decodeURI(a);if(a.charAt(0)!=="/"){a="/"+a}var l=a.length;if(l>1&&a.charAt(l-1)==="/"){a=a.substr(0,l-1);o=true}for(var c=0,f=a.length;c<f;c++){r=v(r,a.charAt(c));if(!r.length){break}}var h=[];for(var d=0,m=r.length;d<m;d++){if(r[d].handlers){h.push(r[d])}}r=p(h);var y=h[0];if(y&&y.handlers){if(o&&y.regex.source.slice(-5)==="(.+)$"){a=a+"/"}return g(y,a,i)}};return e}();var h=function e(t){this.splice=Array.prototype.splice;this.slice=Array.prototype.slice;this.push=Array.prototype.push;this.length=0;this.queryParams=t||{}};function d(e,t,r,n){var i=e;if(e.charAt(0)==="/"){i=e.substr(1)}var o=[];var a=i.split("/");for(var f=0,h=a.length;f<h;++f){var d=a[f];var p=d.match(/^:([^?]+)(\?)?$/);if(p){var v=p,g=v[1],m=v[2];if(g.indexOf("=")!==-1){throw new Error("Parameter "+g+" in route "+e+" has a default value, which is not supported.")}o.push(new u(g,!!m));t.push(g);r.dynamics++;continue}p=d.match(/^\*(.+)$/);if(p){o.push(new l(p[1]));t.push(p[1]);r.stars++}else if(d===""){o.push(new c)}else{o.push(new s(d,n));r.statics++}}return o}function p(e){return e.sort((function(e,t){if(e.types.stars!==t.types.stars){return e.types.stars-t.types.stars}if(e.types.stars){if(e.types.statics!==t.types.statics){return t.types.statics-e.types.statics}if(e.types.dynamics!==t.types.dynamics){return t.types.dynamics-e.types.dynamics}}if(e.types.dynamics!==t.types.dynamics){return e.types.dynamics-t.types.dynamics}if(e.types.statics!==t.types.statics){return t.types.statics-e.types.statics}return 0}))}function v(e,t){var r=[];for(var n=0,i=e.length;n<i;n++){var o=e[n];r.push.apply(r,o.match(t))}return r}function g(e,t,r){var n=e.handlers;var i=e.regex;var o=t.match(i);var a=1;var s=new h(r);for(var u=0,l=n.length;u<l;u++){var c=n[u];var f=c.names;var d={};for(var p=0,v=f.length;p<v;p++){d[f[p]]=o[a++]}s.push({handler:c.handler,params:d,isDynamic:!!f.length})}return s}function m(e,t){var r=e.put({validChars:"/"});var n=r;t.eachChar((function(e){n=n.put(e)}));return[r,n]}}));define("aurelia-router/dist/commonjs/aurelia-router",["require","exports","module","aurelia-logging","aurelia-dependency-injection","aurelia-history","aurelia-route-recognizer","aurelia-event-aggregator"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=e("aurelia-logging");var i=e("aurelia-dependency-injection");var o=e("aurelia-history");var a=e("aurelia-route-recognizer");var s=e("aurelia-event-aggregator");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var u=function(e,t){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return u(e,t)};function l(e,t){u(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){function e(e){this.plan=null;this.options={};Object.assign(this,e);this.params=this.params||{};this.viewPortInstructions={};var t=[];var r=this;do{var n=Object.assign({},r.params);if(r.config&&r.config.hasChildRouter){delete n[r.getWildCardName()]}t.unshift(n);r=r.parentInstruction}while(r);var i=Object.assign.apply(Object,[{},this.queryParams].concat(t));this.lifecycleArgs=[i,this.config,this]}e.prototype.getAllInstructions=function(){var e=[this];var t=this.viewPortInstructions;for(var r in t){var n=t[r].childNavigationInstruction;if(n){e.push.apply(e,n.getAllInstructions())}}return e};e.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map((function(e){return e.previousInstruction})).filter((function(e){return e}))};e.prototype.addViewPortInstruction=function(e,t,r,n){var i;var o=typeof e==="string"?e:e.name;var a=this.lifecycleArgs;var s=Object.assign({},a[1],{currentViewPort:o});if(typeof e==="string"){i={name:e,strategy:t,moduleId:r,component:n,childRouter:n.childRouter,lifecycleArgs:[a[0],s,a[2]]}}else{i={name:o,strategy:e.strategy,component:e.component,moduleId:e.moduleId,childRouter:e.component.childRouter,lifecycleArgs:[a[0],s,a[2]]}}return this.viewPortInstructions[o]=i};e.prototype.getWildCardName=function(){var e=this.config.route;var t=e.lastIndexOf("*");return e.substr(t+1)};e.prototype.getWildcardPath=function(){var e=this.getWildCardName();var t=this.params[e]||"";var r=this.queryString;if(r){t+="?"+r}return t};e.prototype.getBaseUrl=function(){var e=this;var t=encodeURI;var r=decodeURI(this.fragment);if(r===""){var n=this.router.routes.find((function(t){return t.name===e.config.name&&t.route!==""}));if(n){r=n.route}}if(!this.params){return t(r)}var i=this.getWildCardName();var o=this.params[i]||"";if(!o){return t(r)}return t(r.substr(0,r.lastIndexOf(o)))};e.prototype._commitChanges=function(e){var t=this;var r=this.router;r.currentInstruction=this;var n=this.previousInstruction;if(n){n.config.navModel.isActive=false}this.config.navModel.isActive=true;r.refreshNavigation();var i=[];var o=[];var a=this.viewPortInstructions;var s=function(t){var n=a[t];var s=r.viewPorts[t];if(!s){throw new Error("There was no router-view found in the view for "+n.moduleId+".")}var u=n.childNavigationInstruction;if(n.strategy==="replace"){if(u&&u.parentCatchHandler){i.push(u._commitChanges(e))}else{if(e){o.push({viewPort:s,viewPortInstruction:n})}i.push(s.process(n,e).then((function(){return u?u._commitChanges(e):Promise.resolve()})))}}else{if(u){i.push(u._commitChanges(e))}}};for(var u in a){s(u)}return Promise.all(i).then((function(){o.forEach((function(e){return e.viewPort.swap(e.viewPortInstruction)}));return null})).then((function(){return f(t)}))};e.prototype._updateTitle=function(){var e=this.router;var t=this._buildTitle(e.titleSeparator);if(t){e.history.setTitle(t)}};e.prototype._buildTitle=function(e){if(e===void 0){e=" | "}var t="";var r=[];var n=this.config.navModel.title;var i=this.router;var o=this.viewPortInstructions;if(n){t=i.transformTitle(n)}for(var a in o){var s=o[a];var u=s.childNavigationInstruction;if(u){var l=u._buildTitle(e);if(l){r.push(l)}}}if(r.length){t=r.join(e)+(t?e:"")+t}if(i.title){t+=(t?e:"")+i.transformTitle(i.title)}return t};return e}();var f=function(e){e.previousInstruction=null;e.plan=null};var h=function(){function e(e,t){this.isActive=false;this.title=null;this.href=null;this.relativeHref=null;this.settings={};this.config=null;this.router=e;this.relativeHref=t}e.prototype.setTitle=function(e){this.title=e;if(this.isActive){this.router.updateTitle()}};return e}();function d(e,t,r){if(r===void 0){r=false}if(!t&&e[0]!=="#"){e="#"+e}if(t&&r){e=e.substring(1,e.length)}return e}function p(e,t,r,n){if(y.test(e)){return e}var i="";if(t.length&&t[0]!=="/"){i+="/"}i+=t;if((!i.length||i[i.length-1]!=="/")&&e[0]!=="/"){i+="/"}if(i.length&&i[i.length-1]==="/"&&e[0]==="/"){i=i.substring(0,i.length-1)}return d(i+e,r,n)}function v(e,t,r){if(m.test(e)){return d(e,r)}return p(e,t,r)}function g(e){var t=[];if(Array.isArray(e.route)){for(var r=0,n=e.route.length;r<n;++r){var i=Object.assign({},e);i.route=e.route[r];t.push(i)}}else{t.push(Object.assign({},e))}return t}var m=/^#?\//;var y=/^([a-z][a-z0-9+\-.]*:)?\/\//i;var b=function(){function e(){this.instructions=[];this.options={};this.pipelineSteps=[]}e.prototype.addPipelineStep=function(e,t){if(t===null||t===undefined){throw new Error("Pipeline step cannot be null or undefined.")}this.pipelineSteps.push({name:e,step:t});return this};e.prototype.addAuthorizeStep=function(e){return this.addPipelineStep("authorize",e)};e.prototype.addPreActivateStep=function(e){return this.addPipelineStep("preActivate",e)};e.prototype.addPreRenderStep=function(e){return this.addPipelineStep("preRender",e)};e.prototype.addPostRenderStep=function(e){return this.addPipelineStep("postRender",e)};e.prototype.fallbackRoute=function(e){this._fallbackRoute=e;return this};e.prototype.map=function(e){var t=this;if(Array.isArray(e)){e.forEach((function(e){return t.map(e)}));return this}return this.mapRoute(e)};e.prototype.useViewPortDefaults=function(e){this.viewPortDefaults=e;return this};e.prototype.mapRoute=function(e){this.instructions.push((function(t){var r=g(e);var n;for(var i=0,o=r.length;i<o;++i){var a=r[i];a.settings=a.settings||{};if(!n){n=t.createNavModel(a)}t.addRoute(a,n)}}));return this};e.prototype.mapUnknownRoutes=function(e){this.unknownRouteConfig=e;return this};e.prototype.exportToRouter=function(e){var t=this.instructions;for(var r=0,n=t.length;r<n;++r){t[r](e)}var i=this,o=i.title,a=i.titleSeparator,s=i.unknownRouteConfig,u=i._fallbackRoute,l=i.viewPortDefaults;if(o){e.title=o}if(a){e.titleSeparator=a}if(s){e.handleUnknownRoutes(s)}if(u){e.fallbackRoute=u}if(l){e.useViewPortDefaults(l)}Object.assign(e.options,this.options);var c=this.pipelineSteps;var f=c.length;if(f){if(!e.isRoot){throw new Error("Pipeline steps can only be added to the root router")}var h=e.pipelineProvider;for(var r=0,n=f;r<n;++r){var d=c[r],p=d.name,v=d.step;h.addStep(p,v)}}};return e}();var w=function(){function e(e,t){var r=this;this.parent=null;this.options={};this.viewPortDefaults={};this.transformTitle=function(e){if(r.parent){return r.parent.transformTitle(e)}return e};this.container=e;this.history=t;this.reset()}e.prototype.reset=function(){var e=this;this.viewPorts={};this.routes=[];this.baseUrl="";this.isConfigured=false;this.isNavigating=false;this.isExplicitNavigation=false;this.isExplicitNavigationBack=false;this.isNavigatingFirst=false;this.isNavigatingNew=false;this.isNavigatingRefresh=false;this.isNavigatingForward=false;this.isNavigatingBack=false;this.couldDeactivate=false;this.navigation=[];this.currentInstruction=null;this.viewPortDefaults={};this._fallbackOrder=100;this._recognizer=new a.RouteRecognizer;this._childRecognizer=new a.RouteRecognizer;this._configuredPromise=new Promise((function(t){e._resolveConfiguredPromise=t}))};Object.defineProperty(e.prototype,"isRoot",{get:function(){return!this.parent},enumerable:true,configurable:true});e.prototype.registerViewPort=function(e,t){t=t||"default";this.viewPorts[t]=e};e.prototype.ensureConfigured=function(){return this._configuredPromise};e.prototype.configure=function(e){var t=this;this.isConfigured=true;var r=e;var n;if(typeof e==="function"){n=new b;r=e(n)}return Promise.resolve(r).then((function(e){if(e&&e.exportToRouter){n=e}n.exportToRouter(t);t.isConfigured=true;t._resolveConfiguredPromise()}))};e.prototype.navigate=function(e,t){if(!this.isConfigured&&this.parent){return this.parent.navigate(e,t)}this.isExplicitNavigation=true;return this.history.navigate(v(e,this.baseUrl,this.history._hasPushState),t)};e.prototype.navigateToRoute=function(e,t,r){var n=this.generate(e,t);return this.navigate(n,r)};e.prototype.navigateBack=function(){this.isExplicitNavigationBack=true;this.history.navigateBack()};e.prototype.createChild=function(t){var r=new e(t||this.container.createChild(),this.history);r.parent=this;return r};e.prototype.generate=function(e,t,r){if(t===void 0){t={}}if(r===void 0){r={}}var n="childRoute"in t?this._childRecognizer:this._recognizer;var i=n.hasRoute(e);if(!i){if(this.parent){return this.parent.generate(e,t,r)}throw new Error("A route with name '"+e+"' could not be found. Check that `name: '"+e+"'` was specified in the route's config.")}var o=n.generate(e,t);var a=p(o,this.baseUrl,this.history._hasPushState,r.absolute);return r.absolute?""+this.history.getAbsoluteRoot()+a:a};e.prototype.createNavModel=function(e){var t=new h(this,"href"in e?e.href:e.route);t.title=e.title;t.order=e.nav;t.href=e.href;t.settings=e.settings;t.config=e;return t};e.prototype.addRoute=function(e,t){if(Array.isArray(e.route)){var r=g(e);r.forEach(this.addRoute.bind(this));return}C(e);if(!("viewPorts"in e)&&!e.navigationStrategy){e.viewPorts={default:{moduleId:e.moduleId,view:e.view}}}if(!t){t=this.createNavModel(e)}this.routes.push(e);var n=e.route;if(n.charAt(0)==="/"){n=n.substr(1)}var i=e.caseSensitive===true;var o=this._recognizer.add({path:n,handler:e,caseSensitive:i});if(n){var a=e.settings;delete e.settings;var s=JSON.parse(JSON.stringify(e));e.settings=a;s.route=n+"/*childRoute";s.hasChildRouter=true;this._childRecognizer.add({path:s.route,handler:s,caseSensitive:i});s.navModel=t;s.settings=e.settings;s.navigationStrategy=e.navigationStrategy}e.navModel=t;var u=this.navigation;if((t.order||t.order===0)&&u.indexOf(t)===-1){if(!t.href&&t.href!==""&&(o.types.dynamics||o.types.stars)){throw new Error('Invalid route config for "'+e.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.')}if(typeof t.order!=="number"){t.order=++this._fallbackOrder}u.push(t);u.sort((function(e,t){return e.order-t.order}))}};e.prototype.hasRoute=function(e){return!!(this._recognizer.hasRoute(e)||this.parent&&this.parent.hasRoute(e))};e.prototype.hasOwnRoute=function(e){return this._recognizer.hasRoute(e)};e.prototype.handleUnknownRoutes=function(e){var t=this;if(!e){throw new Error("Invalid unknown route handler")}this.catchAllHandler=function(r){return t._createRouteConfig(e,r).then((function(e){r.config=e;return r}))}};e.prototype.updateTitle=function(){var e=this.parent;if(e){return e.updateTitle()}var t=this.currentInstruction;if(t){t._updateTitle()}return undefined};e.prototype.refreshNavigation=function(){var e=this.navigation;for(var t=0,r=e.length;t<r;t++){var n=e[t];if(!n.config.href){n.href=p(n.relativeHref,this.baseUrl,this.history._hasPushState)}else{n.href=d(n.config.href,this.history._hasPushState)}}};e.prototype.useViewPortDefaults=function(e){var t=e;for(var r in t){var n=t[r];this.viewPortDefaults[r]={moduleId:n.moduleId}}};e.prototype._refreshBaseUrl=function(){var e=this.parent;if(e){this.baseUrl=x(e,e.currentInstruction)}};e.prototype._createNavigationInstruction=function(e,t){if(e===void 0){e=""}if(t===void 0){t=null}var r=e;var n="";var i=e.indexOf("?");if(i!==-1){r=e.substr(0,i);n=e.substr(i+1)}var o=this._recognizer.recognize(e);if(!o||!o.length){o=this._childRecognizer.recognize(e)}var a={fragment:r,queryString:n,config:null,parentInstruction:t,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};var s;if(o&&o.length){var u=o[0];var l=new c(Object.assign({},a,{params:u.params,queryParams:u.queryParams||o.queryParams,config:u.config||u.handler}));if(typeof u.handler==="function"){s=_(l,u.handler,u)}else if(u.handler&&typeof u.handler.navigationStrategy==="function"){s=_(l,u.handler.navigationStrategy,u.handler)}else{s=Promise.resolve(l)}}else if(this.catchAllHandler){var l=new c(Object.assign({},a,{params:{path:r},queryParams:o?o.queryParams:{},config:null}));s=_(l,this.catchAllHandler)}else if(this.parent){var f=this._parentCatchAllHandler(this.parent);if(f){var h=this._findParentInstructionFromRouter(f,t);var l=new c(Object.assign({},a,{params:{path:r},queryParams:o?o.queryParams:{},router:f,parentInstruction:h,parentCatchHandler:true,config:null}));s=_(l,f.catchAllHandler)}}if(s&&t){this.baseUrl=x(this.parent,t)}return s||Promise.reject(new Error("Route not found: "+e))};e.prototype._findParentInstructionFromRouter=function(e,t){if(t.router===e){t.fragment=e.baseUrl;return t}else if(t.parentInstruction){return this._findParentInstructionFromRouter(e,t.parentInstruction)}return undefined};e.prototype._parentCatchAllHandler=function(e){if(e.catchAllHandler){return e}else if(e.parent){return this._parentCatchAllHandler(e.parent)}return false};e.prototype._createRouteConfig=function(e,t){var r=this;return Promise.resolve(e).then((function(e){if(typeof e==="string"){return{moduleId:e}}else if(typeof e==="function"){return e(t)}return e})).then((function(e){return typeof e==="string"?{moduleId:e}:e})).then((function(e){e.route=t.params.path;C(e);if(!e.navModel){e.navModel=r.createNavModel(e)}return e}))};return e}();var x=function(e,t){return""+(e.baseUrl||"")+(t.getBaseUrl()||"")};var C=function(e){if(typeof e!=="object"){throw new Error("Invalid Route Config")}if(typeof e.route!=="string"){var t=e.name||"(no name)";throw new Error('Invalid Route Config for "'+t+'": You must specify a "route:" pattern.')}if(!("redirect"in e||e.moduleId||e.navigationStrategy||e.viewPorts)){throw new Error('Invalid Route Config for "'+e.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}};var _=function(e,t,r){return Promise.resolve(t.call(r,e)).then((function(){if(!("viewPorts"in e.config)){e.config.viewPorts={default:{moduleId:e.config.moduleId}}}return e}))};var E=function(e,t){var r=-1;var n=function(){r++;if(r<t.length){var i=t[r];try{return i(e,n)}catch(e){return n.reject(e)}}else{return n.complete()}};n.complete=S(n,"completed");n.cancel=S(n,"canceled");n.reject=S(n,"rejected");return n};var S=function(e,t){return function(e){return Promise.resolve({status:t,output:e,completed:t==="completed"})}};var O=function(){function e(){this.steps=[]}e.prototype.addStep=function(e){var t;if(typeof e==="function"){t=e}else if(typeof e.getSteps==="function"){var r=e.getSteps();for(var n=0,i=r.length;n<i;n++){this.addStep(r[n])}return this}else{t=e.run.bind(e)}this.steps.push(t);return this};e.prototype.run=function(e){var t=E(e,this.steps);return t()};return e}();function k(e){return e&&typeof e.navigate==="function"}var A=function(){function e(e,t){if(t===void 0){t={}}this.url=e;this.options=Object.assign({trigger:true,replace:true},t);this.shouldContinueProcessing=false}e.prototype.setRouter=function(e){this.router=e};e.prototype.navigate=function(e){var t=this.options.useAppRouter?e:this.router||e;t.navigate(this.url,this.options)};return e}();var M=function(){function e(e,t,r){if(t===void 0){t={}}if(r===void 0){r={}}this.route=e;this.params=t;this.options=Object.assign({trigger:true,replace:true},r);this.shouldContinueProcessing=false}e.prototype.setRouter=function(e){this.router=e};e.prototype.navigate=function(e){var t=this.options.useAppRouter?e:this.router||e;t.navigateToRoute(this.route,this.params,this.options)};return e}();function P(e,t){var r=e.config;if("redirect"in r){return R(e)}var n=e.previousInstruction;var i=e.router.viewPortDefaults;if(n){return T(e,n,i,t)}var o={};var a=r.viewPorts;for(var s in a){var u=a[s];if(u.moduleId===null&&s in i){u=i[s]}o[s]={name:s,strategy:"replace",config:u}}return Promise.resolve(o)}var R=function(e){var t=e.config;var r=e.router;return r._createNavigationInstruction(t.redirect).then((function(t){var n={};var i=e.params;var o=t.params;for(var a in o){var s=o[a];if(typeof s==="string"&&s[0]===":"){s=s.slice(1);if(s in i){n[a]=i[s]}}else{n[a]=o[a]}}var u=r.generate(t.config,n,e.options);for(var a in i){u=u.replace(":"+a,i[a])}var l=e.queryString;if(l){u+="?"+l}return Promise.resolve(new A(u))}))};var T=function(e,t,r,n){var i={};var o=e.config;var a=L(t,e);var s=[];var u=t.viewPortInstructions;var l=function(t){var l=u[t];var c=l.component;var f=o.viewPorts;var h=t in f?f[t]:l;if(h.moduleId===null&&t in r){h=r[t]}var d=j(e,l,h,a,n);var p=i[t]={name:t,config:h,prevComponent:c,prevModuleId:l.moduleId,strategy:d};if(d!=="replace"&&l.childRouter){var v=e.getWildcardPath();var g=l.childRouter._createNavigationInstruction(v,e).then((function(e){p.childNavigationInstruction=e;return P(e,p.strategy==="invoke-lifecycle").then((function(t){if(t instanceof A){return Promise.reject(t)}e.plan=t;return null}))}));s.push(g)}};for(var c in u){l(c)}return Promise.all(s).then((function(){return i}))};var j=function(e,t,r,n,i){var o=e.config;var a=t.component.viewModel;var s;if(t.moduleId!==r.moduleId){s="replace"}else if("determineActivationStrategy"in a){s=a.determineActivationStrategy.apply(a,e.lifecycleArgs)}else if(o.activationStrategy){s=o.activationStrategy}else if(n||i){s="invoke-lifecycle"}else{s="no-change"}return s};var L=function(e,t){var r=e.params;var n=t.params;var i=t.config.hasChildRouter?t.getWildCardName():null;for(var o in n){if(o===i){continue}if(r[o]!==n[o]){return true}}for(var o in r){if(o===i){continue}if(r[o]!==n[o]){return true}}if(!t.options.compareQueryParams){return false}var a=e.queryParams;var s=t.queryParams;for(var o in s){if(a[o]!==s[o]){return true}}for(var o in a){if(a[o]!==s[o]){return true}}return false};var V=function(){function e(){}e.prototype.run=function(e,t){return P(e).then((function(r){if(r instanceof A){return t.cancel(r)}e.plan=r;return t()})).catch(t.cancel)};return e}();var N=function(e,t){var r=I(t);var n=r.map((function(t){return B(e,t.navigationInstruction,t.viewPortPlan)}));return Promise.all(n)};var I=function(e,t){if(t===void 0){t=[]}var r=e.plan;for(var n in r){var i=r[n];var o=i.childNavigationInstruction;if(i.strategy==="replace"){t.push({viewPortPlan:i,navigationInstruction:e});if(o){I(o,t)}}else{var a=e.addViewPortInstruction({name:n,strategy:i.strategy,moduleId:i.prevModuleId,component:i.prevComponent});if(o){a.childNavigationInstruction=o;I(o,t)}}}return t};var B=function(e,t,r){var n=r.config;var i=n?n.moduleId:null;return D(e,t,n).then((function(n){var o=t.addViewPortInstruction({name:r.name,strategy:r.strategy,moduleId:i,component:n});var a=n.childRouter;if(a){var s=t.getWildcardPath();return a._createNavigationInstruction(s,t).then((function(t){r.childNavigationInstruction=t;return P(t).then((function(r){if(r instanceof A){return Promise.reject(r)}t.plan=r;o.childNavigationInstruction=t;return N(e,t)}))}))}return void 0}))};var D=function(e,t,r){var n=t.router;var i=t.lifecycleArgs;return Promise.resolve().then((function(){return e.loadRoute(n,r,t)})).then((function(e){var t=e.viewModel,o=e.childContainer;e.router=n;e.config=r;if("configureRouter"in t){var a=o.getChildRouter();e.childRouter=a;return a.configure((function(e){return t.configureRouter(e,a,i[0],i[1],i[2])})).then((function(){return e}))}return e}))};var F=function(){function e(){}e.prototype.loadRoute=function(e,t,r){throw new Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')};return e}();var q=function(){function e(e){this.routeLoader=e}e.inject=function(){return[F]};e.prototype.run=function(e,t){return N(this.routeLoader,e).then(t,t.cancel)};return e}();var z=function(){function e(){}e.prototype.run=function(e,t){return e._commitChanges(true).then((function(){e._updateTitle();return t()}))};return e}();var H;(function(e){e["NoChange"]="no-change";e["InvokeLifecycle"]="invoke-lifecycle";e["Replace"]="replace"})(H||(H={}));var U={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"};var $=function(e,t,r,n){var i=e.plan;var o=Q(i,t);var a=o.length;function s(e){if(n||X(e)){return u()}return r.cancel(e)}function u(){if(a--){try{var n=o[a];var i=n[t](e);return J(i,s,r.cancel)}catch(e){return r.cancel(e)}}e.router.couldDeactivate=true;return r()}return u()};var Q=function(e,t,r){if(r===void 0){r=[]}for(var n in e){var i=e[n];var o=i.prevComponent;if((i.strategy===U.invokeLifecycle||i.strategy===U.replace)&&o){var a=o.viewModel;if(t in a){r.push(a)}}if(i.strategy===U.replace&&o){W(o,t,r)}else if(i.childNavigationInstruction){Q(i.childNavigationInstruction.plan,t,r)}}return r};var W=function(e,t,r){var n=e.childRouter;if(n&&n.currentInstruction){var i=n.currentInstruction.viewPortInstructions;for(var o in i){var a=i[o];var s=a.component;var u=s.viewModel;if(t in u){r.push(u)}W(s,t,r)}}};var G=function(e,t,r,n){var i=K(e,t);var o=i.length;var a=-1;function s(e,t){if(n||X(e,t)){return u()}return r.cancel(e)}function u(){var e;a++;if(a<o){try{var n=i[a];var u=(e=n.viewModel)[t].apply(e,n.lifecycleArgs);return J(u,(function(e){return s(e,n.router)}),r.cancel)}catch(e){return r.cancel(e)}}return r()}return u()};var K=function(e,t,r,n){if(r===void 0){r=[]}var i=e.plan;Object.keys(i).forEach((function(o){var a=i[o];var s=e.viewPortInstructions[o];var u=s.component;var l=u.viewModel;if((a.strategy===U.invokeLifecycle||a.strategy===U.replace)&&t in l){r.push({viewModel:l,lifecycleArgs:s.lifecycleArgs,router:n})}var c=a.childNavigationInstruction;if(c){K(c,t,r,u.childRouter||n)}}));return r};var X=function(e,t){if(e instanceof Error){return false}if(k(e)){if(typeof e.setRouter==="function"){e.setRouter(t)}return!!e.shouldContinueProcessing}if(e===undefined){return true}return e};var Y=function(){function e(e){this._subscribed=true;this._subscription=e(this);if(!this._subscribed){this.unsubscribe()}}Object.defineProperty(e.prototype,"subscribed",{get:function(){return this._subscribed},enumerable:true,configurable:true});e.prototype.unsubscribe=function(){if(this._subscribed&&this._subscription){this._subscription.unsubscribe()}this._subscribed=false};return e}();var J=function(e,t,r){if(e&&typeof e.then==="function"){return Promise.resolve(e).then(t).catch(r)}if(e&&typeof e.subscribe==="function"){var n=e;return new Y((function(i){return n.subscribe({next:function(){if(i.subscribed){i.unsubscribe();t(e)}},error:function(e){if(i.subscribed){i.unsubscribe();r(e)}},complete:function(){if(i.subscribed){i.unsubscribe();t(e)}}})}))}try{return t(e)}catch(e){return r(e)}};var Z=function(){function e(){}e.prototype.run=function(e,t){return $(e,"canDeactivate",t)};return e}();var ee=function(){function e(){}e.prototype.run=function(e,t){return G(e,"canActivate",t)};return e}();var te=function(){function e(){}e.prototype.run=function(e,t){return $(e,"deactivate",t,true)};return e}();var re=function(){function e(){}e.prototype.run=function(e,t){return G(e,"activate",t,true)};return e}();var ne=function(){function e(e,t,r){this.steps=[];this.container=e;this.slotName=t;this.slotAlias=r}e.prototype.getSteps=function(){var e=this;return this.steps.map((function(t){return e.container.get(t)}))};return e}();var ie=function(){function e(e){this.container=e;this.steps=[V,Z,q,oe(e,"authorize"),ee,oe(e,"preActivate","modelbind"),te,re,oe(e,"preRender","precommit"),z,oe(e,"postRender","postcomplete")]}e.inject=function(){return[i.Container]};e.prototype.createPipeline=function(e){var t=this;if(e===void 0){e=true}var r=new O;this.steps.forEach((function(n){if(e||n!==Z){r.addStep(t.container.get(n))}}));return r};e.prototype._findStep=function(e){return this.steps.find((function(t){return t.slotName===e||t.slotAlias===e}))};e.prototype.addStep=function(e,t){var r=this._findStep(e);if(r){var n=r.steps;if(!n.includes(t)){n.push(t)}}else{throw new Error("Invalid pipeline slot name: "+e+".")}};e.prototype.removeStep=function(e,t){var r=this._findStep(e);if(r){var n=r.steps;n.splice(n.indexOf(t),1)}};e.prototype._clearSteps=function(e){if(e===void 0){e=""}var t=this._findStep(e);if(t){t.steps=[]}};e.prototype.reset=function(){this._clearSteps("authorize");this._clearSteps("preActivate");this._clearSteps("preRender");this._clearSteps("postRender")};return e}();var oe=function(e,t,r){return new ne(e,t,r)};var ae=n.getLogger("app-router");var se=function(e){l(t,e);function t(t,r,n,i){var o=e.call(this,t,r)||this;o.pipelineProvider=n;o.events=i;return o}t.inject=function(){return[i.Container,o.History,ie,s.EventAggregator]};t.prototype.reset=function(){e.prototype.reset.call(this);this.maxInstructionCount=10;if(!this._queue){this._queue=[]}else{this._queue.length=0}};t.prototype.loadUrl=function(e){var t=this;return this._createNavigationInstruction(e).then((function(e){return t._queueInstruction(e)})).catch((function(e){ae.error(e);ce(t)}))};t.prototype.registerViewPort=function(t,r){var n=this;var i=t;e.prototype.registerViewPort.call(this,i,r);if(!this.isActive){var o=this._findViewModel(i);if("configureRouter"in o){if(!this.isConfigured){var a=this._resolveConfiguredPromise;this._resolveConfiguredPromise=function(){};return this.configure((function(e){return Promise.resolve(o.configureRouter(e,n)).then((function(){return e}))})).then((function(){n.activate();a()}))}}else{this.activate()}}else{this._dequeueInstruction()}return Promise.resolve()};t.prototype.activate=function(e){if(this.isActive){return}this.isActive=true;this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,e);this.history.activate(this.options);this._dequeueInstruction()};t.prototype.deactivate=function(){this.isActive=false;this.history.deactivate()};t.prototype._queueInstruction=function(e){var t=this;return new Promise((function(r){e.resolve=r;t._queue.unshift(e);t._dequeueInstruction()}))};t.prototype._dequeueInstruction=function(e){var t=this;if(e===void 0){e=0}return Promise.resolve().then((function(){if(t.isNavigating&&!e){return void 0}var r=t._queue.shift();t._queue.length=0;if(!r){return void 0}t.isNavigating=true;var n=t.history.getState("NavigationTracker");var i=t.currentNavigationTracker;if(!n&&!i){t.isNavigatingFirst=true;t.isNavigatingNew=true}else if(!n){t.isNavigatingNew=true}else if(!i){t.isNavigatingRefresh=true}else if(i<n){t.isNavigatingForward=true}else if(i>n){t.isNavigatingBack=true}if(!n){n=Date.now();t.history.setState("NavigationTracker",n)}t.currentNavigationTracker=n;r.previousInstruction=t.currentInstruction;var o=t.maxInstructionCount;if(!e){t.events.publish("router:navigation:processing",{instruction:r})}else if(e===o-1){ae.error(e+1+" navigation instructions have been attempted without success. Restoring last known good location.");ce(t);return t._dequeueInstruction(e+1)}else if(e>o){throw new Error("Maximum navigation attempts exceeded. Giving up.")}var a=t.pipelineProvider.createPipeline(!t.couldDeactivate);return a.run(r).then((function(n){return ue(r,n,e,t)})).catch((function(e){return{output:e instanceof Error?e:new Error(e)}})).then((function(n){return le(r,n,!!e,t)}))}))};t.prototype._findViewModel=function(e){if(this.container.viewModel){return this.container.viewModel}if(e.container){var t=e.container;while(t){if(t.viewModel){this.container.viewModel=t.viewModel;return t.viewModel}t=t.parent}}return undefined};return t}(w);var ue=function(e,t,r,n){if(!(t&&"completed"in t&&"output"in t)){t=t||{};t.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(t)+"] instead.")}var i=null;var o=null;if(k(t.output)){o=t.output.navigate(n)}else{i=t;if(!t.completed){if(t.output instanceof Error){ae.error(t.output.toString())}ce(n)}}return Promise.resolve(o).then((function(e){return n._dequeueInstruction(r+1)})).then((function(e){return i||e||t}))};var le=function(e,t,r,n){e.resolve(t);var i=n.events;var o={instruction:e,result:t};if(!r){n.isNavigating=false;n.isExplicitNavigation=false;n.isExplicitNavigationBack=false;n.isNavigatingFirst=false;n.isNavigatingNew=false;n.isNavigatingRefresh=false;n.isNavigatingForward=false;n.isNavigatingBack=false;n.couldDeactivate=false;var a=void 0;if(t.output instanceof Error){a="router:navigation:error"}else if(!t.completed){a="router:navigation:canceled"}else{var s=e.queryString?"?"+e.queryString:"";n.history.previousLocation=e.fragment+s;a="router:navigation:success"}i.publish(a,o);i.publish("router:navigation:complete",o)}else{i.publish("router:navigation:child:complete",o)}return t};var ce=function(e){var t=e.history.previousLocation;if(t){e.navigate(t,{trigger:false,replace:true})}else if(e.fallbackRoute){e.navigate(e.fallbackRoute,{trigger:true,replace:true})}else{ae.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}};(function(e){e["Completed"]="completed";e["Canceled"]="canceled";e["Rejected"]="rejected";e["Running"]="running"})(t.PipelineStatus||(t.PipelineStatus={}));(function(e){e["Processing"]="router:navigation:processing";e["Error"]="router:navigation:error";e["Canceled"]="router:navigation:canceled";e["Complete"]="router:navigation:complete";e["Success"]="router:navigation:success";e["ChildComplete"]="router:navigation:child:complete"})(t.RouterEvent||(t.RouterEvent={}));(function(e){e["Authorize"]="authorize";e["PreActivate"]="preActivate";e["PreRender"]="preRender";e["PostRender"]="postRender"})(t.PipelineSlotName||(t.PipelineSlotName={}));t.ActivateNextStep=re;t.AppRouter=se;t.BuildNavigationPlanStep=V;t.CanActivateNextStep=ee;t.CanDeactivatePreviousStep=Z;t.CommitChangesStep=z;t.DeactivatePreviousStep=te;t.LoadRouteStep=q;t.NavModel=h;t.NavigationInstruction=c;t.Pipeline=O;t.PipelineProvider=ie;t.Redirect=A;t.RedirectToRoute=M;t.RouteLoader=F;t.Router=w;t.RouterConfiguration=b;t.activationStrategy=U;t.isNavigationCommand=k}));define("aurelia-task-queue/dist/commonjs/aurelia-task-queue",["require","exports","module","aurelia-pal"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskQueue=undefined;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=e("aurelia-pal");var o="\nEnqueued in TaskQueue by:\n";var a="\nEnqueued in MicroTaskQueue by:\n";function s(e){var t=i.DOM.createMutationObserver(e);var r="a";var n=i.DOM.createTextNode("a");var o=Object.create(null);o.a="b";o.b="a";t.observe(n,{characterData:true});return function e(){n.data=r=o[r]}}function u(e){return function t(){var r=setTimeout(i,0);var n=setInterval(i,50);function i(){clearTimeout(r);clearInterval(n);e()}}}function l(e,t,r){if(r&&t.stack&&(typeof e==="undefined"?"undefined":n(e))==="object"&&e!==null){e.stack=d(e.stack)+t.stack}if("onError"in t){t.onError(e)}else{setTimeout((function(){throw e}),0)}}var c=t.TaskQueue=function(){function e(){var e=this;this.flushing=false;this.longStacks=false;this.microTaskQueue=[];this.microTaskQueueCapacity=1024;this.taskQueue=[];if(i.FEATURE.mutationObserver){this.requestFlushMicroTaskQueue=s((function(){return e.flushMicroTaskQueue()}))}else{this.requestFlushMicroTaskQueue=u((function(){return e.flushMicroTaskQueue()}))}this.requestFlushTaskQueue=u((function(){return e.flushTaskQueue()}))}e.prototype._flushQueue=function e(t,r){var n=0;var i=void 0;try{this.flushing=true;while(n<t.length){i=t[n];if(this.longStacks){this.stack=typeof i.stack==="string"?i.stack:undefined}i.call();n++;if(n>r){for(var o=0,a=t.length-n;o<a;o++){t[o]=t[o+n]}t.length-=n;n=0}}}catch(e){l(e,i,this.longStacks)}finally{this.flushing=false}};e.prototype.queueMicroTask=function e(t){if(this.microTaskQueue.length<1){this.requestFlushMicroTaskQueue()}if(this.longStacks){t.stack=this.prepareQueueStack(a)}this.microTaskQueue.push(t)};e.prototype.queueTask=function e(t){if(this.taskQueue.length<1){this.requestFlushTaskQueue()}if(this.longStacks){t.stack=this.prepareQueueStack(o)}this.taskQueue.push(t)};e.prototype.flushTaskQueue=function e(){var t=this.taskQueue;this.taskQueue=[];this._flushQueue(t,Number.MAX_VALUE)};e.prototype.flushMicroTaskQueue=function e(){var t=this.microTaskQueue;this._flushQueue(t,this.microTaskQueueCapacity);t.length=0};e.prototype.prepareQueueStack=function e(t){var r=t+h(f());if(typeof this.stack==="string"){r=d(r)+this.stack}return r};return e}();function f(){var e=new Error;if(e.stack){return e.stack}try{throw e}catch(e){return e.stack}}function h(e){return e.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}function d(e){var t=e.lastIndexOf("flushMicroTaskQueue");if(t<0){t=e.lastIndexOf("flushTaskQueue");if(t<0){return e}}t=e.lastIndexOf("\n",t);return t<0?e:e.substr(0,t)}}));define("aurelia-templating-binding/dist/commonjs/aurelia-templating-binding",["require","exports","module","aurelia-logging","aurelia-binding","aurelia-templating"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TemplatingBindingLanguage=t.SyntaxInterpreter=t.LetInterpolationBinding=t.LetInterpolationBindingExpression=t.LetBinding=t.LetExpression=t.ChildInterpolationBinding=t.InterpolationBinding=t.InterpolationBindingExpression=t.AttributeMap=undefined;var n,i,o,a,s,u,l,c,f,h;t.configure=T;var d=e("aurelia-logging");var p=m(d);var v=e("aurelia-binding");var g=e("aurelia-templating");function m(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w=t.AttributeMap=(i=n=function(){function e(e){this.elements=Object.create(null);this.allElements=Object.create(null);this.svg=e;this.registerUniversal("accesskey","accessKey");this.registerUniversal("contenteditable","contentEditable");this.registerUniversal("tabindex","tabIndex");this.registerUniversal("textcontent","textContent");this.registerUniversal("innerhtml","innerHTML");this.registerUniversal("scrolltop","scrollTop");this.registerUniversal("scrollleft","scrollLeft");this.registerUniversal("readonly","readOnly");this.register("label","for","htmlFor");this.register("img","usemap","useMap");this.register("input","maxlength","maxLength");this.register("input","minlength","minLength");this.register("input","formaction","formAction");this.register("input","formenctype","formEncType");this.register("input","formmethod","formMethod");this.register("input","formnovalidate","formNoValidate");this.register("input","formtarget","formTarget");this.register("textarea","maxlength","maxLength");this.register("td","rowspan","rowSpan");this.register("td","colspan","colSpan");this.register("th","rowspan","rowSpan");this.register("th","colspan","colSpan")}e.prototype.register=function e(t,r,n){t=t.toLowerCase();r=r.toLowerCase();var i=this.elements[t]=this.elements[t]||Object.create(null);i[r]=n};e.prototype.registerUniversal=function e(t,r){t=t.toLowerCase();this.allElements[t]=r};e.prototype.map=function e(t,r){if(this.svg.isStandardSvgAttribute(t,r)){return r}t=t.toLowerCase();r=r.toLowerCase();var n=this.elements[t];if(n!==undefined&&r in n){return n[r]}if(r in this.allElements){return this.allElements[r]}if(/(?:^data-)|(?:^aria-)|:/.test(r)){return r}return(0,v.camelCase)(r)};return e}(),n.inject=[v.SVGAnalyzer],i);var x=t.InterpolationBindingExpression=function(){function e(e,t,r,n,i,o){this.observerLocator=e;this.targetProperty=t;this.parts=r;this.mode=n;this.lookupFunctions=i;this.attribute=this.attrToRemove=o;this.discrete=false}e.prototype.createBinding=function e(t){if(this.parts.length===3){return new E(t,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2])}return new _(this.observerLocator,this.parts,t,this.targetProperty,this.mode,this.lookupFunctions)};return e}();function C(e,t){if(t==="style"){p.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.')}else if(e.parentElement&&e.parentElement.nodeName==="TEXTAREA"&&t==="textContent"){throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}}var _=t.InterpolationBinding=function(){function e(e,t,r,n,i,o){C(r,n);this.observerLocator=e;this.parts=t;this.target=r;this.targetProperty=n;this.targetAccessor=e.getAccessor(r,n);this.mode=i;this.lookupFunctions=o}e.prototype.interpolate=function e(){if(this.isBound){var t="";var r=this.parts;for(var n=0,i=r.length;n<i;n++){t+=n%2===0?r[n]:this["childBinding"+n].value}this.targetAccessor.setValue(t,this.target,this.targetProperty)}};e.prototype.updateOneTimeBindings=function e(){for(var t=1,r=this.parts.length;t<r;t+=2){var n=this["childBinding"+t];if(n.mode===v.bindingMode.oneTime){n.call()}}};e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.source=t;var r=this.parts;for(var n=1,i=r.length;n<i;n+=2){var o=new E(this,this.observerLocator,r[n],this.mode,this.lookupFunctions);o.bind(t);this["childBinding"+n]=o}this.isBound=true;this.interpolate()};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;this.source=null;var t=this.parts;for(var r=1,n=t.length;r<n;r+=2){var i="childBinding"+r;this[i].unbind()}};return e}();var E=t.ChildInterpolationBinding=(o=(0,v.connectable)(),o(a=function(){function e(e,t,r,n,i,o,a,s){if(e instanceof _){this.parent=e}else{C(e,o);this.target=e;this.targetProperty=o;this.targetAccessor=t.getAccessor(e,o)}this.observerLocator=t;this.sourceExpression=r;this.mode=n;this.lookupFunctions=i;this.left=a;this.right=s}e.prototype.updateTarget=function e(t){t=t===null||t===undefined?"":t.toString();if(t!==this.value){this.value=t;if(this.parent){this.parent.interpolate()}else{this.targetAccessor.setValue(this.left+t+this.right,this.target,this.targetProperty)}}};e.prototype.call=function e(){if(!this.isBound){return}this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(this.rawValue);if(this.mode!==v.bindingMode.oneTime){this._version++;this.sourceExpression.connect(this,this.source);if(this.rawValue instanceof Array){this.observeArray(this.rawValue)}this.unobserve(false)}};e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;var r=this.sourceExpression;if(r.bind){r.bind(this,t,this.lookupFunctions)}this.rawValue=r.evaluate(t,this.lookupFunctions);this.updateTarget(this.rawValue);if(this.mode===v.bindingMode.oneWay){(0,v.enqueueBindingConnect)(this)}};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;var t=this.sourceExpression;if(t.unbind){t.unbind(this,this.source)}this.source=null;this.value=null;this.rawValue=null;this.unobserve(true)};e.prototype.connect=function e(t){if(!this.isBound){return}if(t){this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(this.rawValue)}this.sourceExpression.connect(this,this.source);if(this.rawValue instanceof Array){this.observeArray(this.rawValue)}};return e}())||a);var S=t.LetExpression=function(){function e(e,t,r,n,i){this.observerLocator=e;this.sourceExpression=r;this.targetProperty=t;this.lookupFunctions=n;this.toBindingContext=i}e.prototype.createBinding=function e(){return new O(this.observerLocator,this.sourceExpression,this.targetProperty,this.lookupFunctions,this.toBindingContext)};return e}();var O=t.LetBinding=(s=(0,v.connectable)(),s(u=function(){function e(e,t,r,n,i){this.observerLocator=e;this.sourceExpression=t;this.targetProperty=r;this.lookupFunctions=n;this.source=null;this.target=null;this.toBindingContext=i}e.prototype.updateTarget=function e(){var t=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.target[this.targetProperty]=t};e.prototype.call=function e(t){if(!this.isBound){return}if(t===v.sourceContext){this.updateTarget();return}throw new Error("Unexpected call context "+t)};e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;this.target=this.toBindingContext?t.bindingContext:t.overrideContext;if(this.sourceExpression.bind){this.sourceExpression.bind(this,t,this.lookupFunctions)}(0,v.enqueueBindingConnect)(this)};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;if(this.sourceExpression.unbind){this.sourceExpression.unbind(this,this.source)}this.source=null;this.target=null;this.unobserve(true)};e.prototype.connect=function e(){if(!this.isBound){return}this.updateTarget();this.sourceExpression.connect(this,this.source)};return e}())||u);var k=t.LetInterpolationBindingExpression=function(){function e(e,t,r,n,i){this.observerLocator=e;this.targetProperty=t;this.parts=r;this.lookupFunctions=n;this.toBindingContext=i}e.prototype.createBinding=function e(){return new A(this.observerLocator,this.targetProperty,this.parts,this.lookupFunctions,this.toBindingContext)};return e}();var A=t.LetInterpolationBinding=function(){function e(e,t,r,n,i){this.observerLocator=e;this.parts=r;this.targetProperty=t;this.lookupFunctions=n;this.toBindingContext=i;this.target=null}e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.unbind()}this.isBound=true;this.source=t;this.target=this.toBindingContext?t.bindingContext:t.overrideContext;this.interpolationBinding=this.createInterpolationBinding();this.interpolationBinding.bind(t)};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;this.source=null;this.target=null;this.interpolationBinding.unbind();this.interpolationBinding=null};e.prototype.createInterpolationBinding=function e(){if(this.parts.length===3){return new E(this.target,this.observerLocator,this.parts[1],v.bindingMode.oneWay,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2])}return new _(this.observerLocator,this.parts,this.target,this.targetProperty,v.bindingMode.oneWay,this.lookupFunctions)};return e}();var M=t.SyntaxInterpreter=(c=l=function(){function e(e,t,r,n){this.parser=e;this.observerLocator=t;this.eventManager=r;this.attributeMap=n}e.prototype.interpret=function e(t,r,n,i,o){if(n.command in this){return this[n.command](t,r,n,i,o)}return this.handleUnknownCommand(t,r,n,i,o)};e.prototype.handleUnknownCommand=function e(t,r,n,i,o){p.getLogger("templating-binding").warn("Unknown binding command.",n);return i};e.prototype.determineDefaultBindingMode=function e(t,r,n){var i=t.tagName.toLowerCase();if(i==="input"&&(r==="value"||r==="files")&&t.type!=="checkbox"&&t.type!=="radio"||i==="input"&&r==="checked"&&(t.type==="checkbox"||t.type==="radio")||(i==="textarea"||i==="select")&&r==="value"||(r==="textcontent"||r==="innerhtml")&&t.contentEditable==="true"||r==="scrolltop"||r==="scrollleft"){return v.bindingMode.twoWay}if(n&&r in n.attributes&&n.attributes[r]&&n.attributes[r].defaultBindingMode>=v.bindingMode.oneTime){return n.attributes[r].defaultBindingMode}return v.bindingMode.oneWay};e.prototype.bind=function e(t,r,n,i,o){var a=i||g.BehaviorInstruction.attribute(n.attrName);a.attributes[n.attrName]=new v.BindingExpression(this.observerLocator,this.attributeMap.map(r.tagName,n.attrName),this.parser.parse(n.attrValue),n.defaultBindingMode===undefined||n.defaultBindingMode===null?this.determineDefaultBindingMode(r,n.attrName,o):n.defaultBindingMode,t.lookupFunctions);return a};e.prototype.trigger=function e(t,r,n){return new v.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),v.delegationStrategy.none,true,t.lookupFunctions)};e.prototype.capture=function e(t,r,n){return new v.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),v.delegationStrategy.capturing,true,t.lookupFunctions)};e.prototype.delegate=function e(t,r,n){return new v.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),v.delegationStrategy.bubbling,true,t.lookupFunctions)};e.prototype.call=function e(t,r,n,i){var o=i||g.BehaviorInstruction.attribute(n.attrName);o.attributes[n.attrName]=new v.CallExpression(this.observerLocator,n.attrName,this.parser.parse(n.attrValue),t.lookupFunctions);return o};e.prototype.options=function e(t,r,n,i,o){var a=i||g.BehaviorInstruction.attribute(n.attrName);var s=n.attrValue;var u=this.language;var l=null;var c="";var f=void 0;var h=void 0;var d=void 0;var p=false;var v=false;var m=false;for(h=0,d=s.length;h<d;++h){f=s[h];if(f===";"&&!p){if(!m){l=this._getPrimaryPropertyName(t,o)}n=u.inspectAttribute(t,"?",l,c.trim());u.createAttributeInstruction(t,r,n,a,o);if(!a.attributes[n.attrName]){a.attributes[n.attrName]=n.attrValue}c="";l=null}else if(f===":"&&l===null){m=true;l=c.trim();c=""}else if(f==="\\"){c+=f;v=true;continue}else{c+=f;if(l!==null&&v===false&&f==="'"){p=!p}}v=false}if(!m){l=this._getPrimaryPropertyName(t,o)}if(l!==null){n=u.inspectAttribute(t,"?",l,c.trim());u.createAttributeInstruction(t,r,n,a,o);if(!a.attributes[n.attrName]){a.attributes[n.attrName]=n.attrValue}}return a};e.prototype._getPrimaryPropertyName=function e(t,r){var n=t.getAttribute(r.attributeName);if(n&&n.primaryProperty){return n.primaryProperty.attribute}return null};e.prototype["for"]=function e(t,r,n,i){var o=void 0;var a=void 0;var s=void 0;var u=void 0;var l=void 0;u=n.attrValue;l=u.match(/^ *[[].+[\]]/);o=l?u.split("of "):u.split(" of ");if(o.length!==2){throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".')}s=i||g.BehaviorInstruction.attribute(n.attrName);if(l){a=o[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" ");s.attributes.key=a[0];s.attributes.value=a[1]}else{s.attributes.local=o[0]}s.attributes.items=new v.BindingExpression(this.observerLocator,"items",this.parser.parse(o[1]),v.bindingMode.oneWay,t.lookupFunctions);return s};e.prototype["two-way"]=function e(t,r,n,i){var o=i||g.BehaviorInstruction.attribute(n.attrName);o.attributes[n.attrName]=new v.BindingExpression(this.observerLocator,this.attributeMap.map(r.tagName,n.attrName),this.parser.parse(n.attrValue),v.bindingMode.twoWay,t.lookupFunctions);return o};e.prototype["to-view"]=function e(t,r,n,i){var o=i||g.BehaviorInstruction.attribute(n.attrName);o.attributes[n.attrName]=new v.BindingExpression(this.observerLocator,this.attributeMap.map(r.tagName,n.attrName),this.parser.parse(n.attrValue),v.bindingMode.toView,t.lookupFunctions);return o};e.prototype["from-view"]=function e(t,r,n,i){var o=i||g.BehaviorInstruction.attribute(n.attrName);o.attributes[n.attrName]=new v.BindingExpression(this.observerLocator,this.attributeMap.map(r.tagName,n.attrName),this.parser.parse(n.attrValue),v.bindingMode.fromView,t.lookupFunctions);return o};e.prototype["one-time"]=function e(t,r,n,i){var o=i||g.BehaviorInstruction.attribute(n.attrName);o.attributes[n.attrName]=new v.BindingExpression(this.observerLocator,this.attributeMap.map(r.tagName,n.attrName),this.parser.parse(n.attrValue),v.bindingMode.oneTime,t.lookupFunctions);return o};return e}(),l.inject=[v.Parser,v.ObserverLocator,v.EventManager,w],c);M.prototype["one-way"]=M.prototype["to-view"];var P={};var R=t.TemplatingBindingLanguage=(h=f=function(e){b(t,e);function t(t,r,n,i){var o=y(this,e.call(this));o.parser=t;o.observerLocator=r;o.syntaxInterpreter=n;o.emptyStringExpression=o.parser.parse("''");n.language=o;o.attributeMap=i;o.toBindingContextAttr="to-binding-context";return o}t.prototype.inspectAttribute=function e(t,r,n,i){var o=n.split(".");P.defaultBindingMode=null;if(o.length===2){P.attrName=o[0].trim();P.attrValue=i;P.command=o[1].trim();if(P.command==="ref"){P.expression=new v.NameExpression(this.parser.parse(i),P.attrName,t.lookupFunctions);P.command=null;P.attrName="ref"}else{P.expression=null}}else if(n==="ref"){P.attrName=n;P.attrValue=i;P.command=null;P.expression=new v.NameExpression(this.parser.parse(i),"element",t.lookupFunctions)}else{P.attrName=n;P.attrValue=i;P.command=null;var a=this.parseInterpolation(t,i);if(a===null){P.expression=null}else{P.expression=new x(this.observerLocator,this.attributeMap.map(r,n),a,v.bindingMode.oneWay,t.lookupFunctions,n)}}return P};t.prototype.createAttributeInstruction=function e(t,r,n,i,o){var a=void 0;if(n.expression){if(n.attrName==="ref"){return n.expression}a=i||g.BehaviorInstruction.attribute(n.attrName);a.attributes[n.attrName]=n.expression}else if(n.command){a=this.syntaxInterpreter.interpret(t,r,n,i,o)}return a};t.prototype.createLetExpressions=function e(t,r){var n=[];var i=r.attributes;var o=void 0;var a=void 0;var s=void 0;var u=void 0;var l=void 0;var c=this.toBindingContextAttr;var f=r.hasAttribute(c);for(var h=0,d=i.length;d>h;++h){o=i[h];s=o.name;u=o.nodeValue;a=s.split(".");if(s===c){continue}if(a.length===2){l=a[1];if(l!=="bind"){p.getLogger("templating-binding-language").warn('Detected invalid let command. Expected "'+a[0]+'.bind", given "'+s+'"');continue}n.push(new S(this.observerLocator,(0,v.camelCase)(a[0]),this.parser.parse(u),t.lookupFunctions,f))}else{s=(0,v.camelCase)(s);a=this.parseInterpolation(t,u);if(a===null){p.getLogger("templating-binding-language").warn('Detected string literal in let bindings. Did you mean "'+s+".bind="+u+'" or "'+s+"=${"+u+'}" ?')}if(a){n.push(new k(this.observerLocator,s,a,t.lookupFunctions,f))}else{n.push(new S(this.observerLocator,s,new v.LiteralString(u),t.lookupFunctions,f))}}}return n};t.prototype.inspectTextContent=function e(t,r){var n=this.parseInterpolation(t,r);if(n===null){return null}return new x(this.observerLocator,"textContent",n,v.bindingMode.oneWay,t.lookupFunctions,"textContent")};t.prototype.parseInterpolation=function e(t,r){var n=r.indexOf("${",0);var i=r.length;var o=void 0;var a=0;var s=0;var u=null;var l=void 0;var c=void 0;var f=0;while(n>=0&&n<i-2){s=1;l=n;n+=2;do{o=r[n];n++;if(o==="'"||o==='"'){if(u===null){u=o}else if(u===o){u=null}continue}if(o==="\\"){n++;continue}if(u!==null){continue}if(o==="{"){s++}else if(o==="}"){s--}}while(s>0&&n<i);if(s===0){c=c||[];if(r[l-1]==="\\"&&r[l-2]!=="\\"){c[f]=r.substring(a,l-1)+r.substring(l,n);f++;c[f]=this.emptyStringExpression;f++}else{c[f]=r.substring(a,l);f++;c[f]=this.parser.parse(r.substring(l+2,n-1));f++}a=n;n=r.indexOf("${",n)}else{break}}if(f===0){return null}c[f]=r.substr(a);return c};return t}(g.BindingLanguage),f.inject=[v.Parser,v.ObserverLocator,M,w],h);function T(e){e.container.registerSingleton(g.BindingLanguage,R);e.container.registerAlias(g.BindingLanguage,R)}}));define("aurelia-templating-resources/dist/commonjs/aurelia-templating-resources",["require","exports","module","aurelia-dependency-injection","aurelia-pal","aurelia-task-queue","aurelia-templating","aurelia-binding","aurelia-logging","aurelia-loader","aurelia-path","aurelia-metadata"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=e("aurelia-dependency-injection");var i=e("aurelia-pal");var o=e("aurelia-task-queue");var a=e("aurelia-templating");var s=e("aurelia-binding");var u=e("aurelia-logging");var l=e("aurelia-loader");var c=e("aurelia-path");var f=e("aurelia-metadata");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var h=function(e,t){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return h(e,t)};function d(e,t){h(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function p(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}var v;(function(e){e["InvokeLifecycle"]="invoke-lifecycle";e["Replace"]="replace"})(v||(v={}));var g=function(){function e(e,t,r,n,i,o){this.activationStrategy=v.InvokeLifecycle;this.element=e;this.container=t;this.compositionEngine=r;this.viewSlot=n;this.viewResources=i;this.taskQueue=o;this.currentController=null;this.currentViewModel=null;this.changes=Object.create(null)}e.inject=function(){return[i.DOM.Element,n.Container,a.CompositionEngine,a.ViewSlot,a.ViewResources,o.TaskQueue]};e.prototype.created=function(e){this.owningView=e};e.prototype.bind=function(e,t){this.bindingContext=e;this.overrideContext=t;var r=this.changes;r.view=this.view;r.viewModel=this.viewModel;r.model=this.model;if(!this.pendingTask){w(this)}};e.prototype.unbind=function(){this.changes=Object.create(null);this.bindingContext=null;this.overrideContext=null;var e=true;var t=true;this.viewSlot.removeAll(e,t)};e.prototype.modelChanged=function(e,t){this.changes.model=e;C(this)};e.prototype.viewChanged=function(e,t){this.changes.view=e;C(this)};e.prototype.viewModelChanged=function(e,t){this.changes.viewModel=e;C(this)};p([a.bindable],e.prototype,"model",void 0);p([a.bindable],e.prototype,"view",void 0);p([a.bindable],e.prototype,"viewModel",void 0);p([a.bindable],e.prototype,"activationStrategy",void 0);p([a.bindable],e.prototype,"swapOrder",void 0);e=p([a.noView,a.customElement("compose")],e);return e}();function m(e){for(var t in e){return false}return true}function y(e,t){if(e&&typeof e.activate==="function"){return Promise.resolve(e.activate(t))}}function b(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element,swapOrder:e.swapOrder})}function w(e){var t=e.changes;e.changes=Object.create(null);if(_(e,t)){var r={view:e.view,viewModel:e.currentViewModel||e.viewModel,model:e.model};r=Object.assign(r,t);r=b(e,r);e.pendingTask=e.compositionEngine.compose(r).then((function(t){e.currentController=t;e.currentViewModel=t?t.viewModel:null}))}else{e.pendingTask=y(e.currentViewModel,t.model);if(!e.pendingTask){return}}e.pendingTask=e.pendingTask.then((function(){x(e)}),(function(t){x(e);throw t}))}function x(e){e.pendingTask=null;if(!m(e.changes)){w(e)}}function C(e){if(e.pendingTask||e.updateRequested){return}e.updateRequested=true;e.taskQueue.queueMicroTask((function(){e.updateRequested=false;w(e)}))}function _(e,t){var r=e.activationStrategy;var n=e.currentViewModel;if(n&&typeof n.determineActivationStrategy==="function"){r=n.determineActivationStrategy()}return"view"in t||"viewModel"in t||r===v.Replace}var E=function(){function e(e,t){this.viewFactory=e;this.viewSlot=t;this.view=null;this.bindingContext=null;this.overrideContext=null;this.showing=false;this.cache=true}e.prototype.bind=function(e,t){this.bindingContext=e;this.overrideContext=t};e.prototype.unbind=function(){if(this.view===null){return}this.view.unbind();if(!this.viewFactory.isCaching){return}if(this.showing){this.showing=false;this.viewSlot.remove(this.view,true,true)}else{this.view.returnToCache()}this.view=null};e.prototype._show=function(){if(this.showing){if(!this.view.isBound){this.view.bind(this.bindingContext,this.overrideContext)}return}if(this.view===null){this.view=this.viewFactory.create()}if(!this.view.isBound){this.view.bind(this.bindingContext,this.overrideContext)}this.showing=true;return this.viewSlot.add(this.view)};e.prototype._hide=function(){var e=this;if(!this.showing){return}this.showing=false;var t=this.viewSlot.remove(this.view);if(t instanceof Promise){return t.then((function(){e._unbindView()}))}this._unbindView()};e.prototype._unbindView=function(){var e=this.cache==="false"?false:!!this.cache;this.view.unbind();if(!e){this.view=null}};return e}();var S=function(e){d(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.cache=true;return t}t.prototype.bind=function(t,r){e.prototype.bind.call(this,t,r);if(this.condition){this._show()}else{this._hide()}};t.prototype.conditionChanged=function(e){this._update(e)};t.prototype._update=function(e){var t=this;if(this.animating){return}var r;if(this.elseVm){r=e?this._swap(this.elseVm,this):this._swap(this,this.elseVm)}else{r=e?this._show():this._hide()}if(r){this.animating=true;r.then((function(){t.animating=false;if(t.condition!==t.showing){t._update(t.condition)}}))}};t.prototype._swap=function(e,t){switch(this.swapOrder){case"before":return Promise.resolve(t._show()).then((function(){return e._hide()}));case"with":return Promise.all([e._hide(),t._show()]);default:var r=e._hide();return r?r.then((function(){return t._show()})):t._show()}};p([a.bindable({primaryProperty:true})],t.prototype,"condition",void 0);p([a.bindable],t.prototype,"swapOrder",void 0);p([a.bindable],t.prototype,"cache",void 0);t=p([a.customAttribute("if"),a.templateController,n.inject(a.BoundViewFactory,a.ViewSlot)],t);return t}(E);var O=function(e){d(t,e);function t(t,r){var n=e.call(this,t,r)||this;n._registerInIf();return n}t.prototype.bind=function(t,r){e.prototype.bind.call(this,t,r);if(this.ifVm.condition){this._hide()}else{this._show()}};t.prototype._registerInIf=function(){var e=this.viewSlot.anchor.previousSibling;while(e&&!e.au){e=e.previousSibling}if(!e||!e.au.if){throw new Error("Can't find matching If for Else custom attribute.")}this.ifVm=e.au.if.viewModel;this.ifVm.elseVm=this};t=p([a.customAttribute("else"),a.templateController,n.inject(a.BoundViewFactory,a.ViewSlot)],t);return t}(E);var k=function(){function e(e,t){this.viewFactory=e;this.viewSlot=t;this.parentOverrideContext=null;this.view=null}e.prototype.bind=function(e,t){this.parentOverrideContext=t;this.valueChanged(this.value)};e.prototype.valueChanged=function(e){var t=s.createOverrideContext(e,this.parentOverrideContext);var r=this.view;if(!r){r=this.view=this.viewFactory.create();r.bind(e,t);this.viewSlot.add(r)}else{r.bind(e,t)}};e.prototype.unbind=function(){var e=this.view;this.parentOverrideContext=null;if(e){e.unbind()}};e=p([a.customAttribute("with"),a.templateController,n.inject(a.BoundViewFactory,a.ViewSlot)],e);return e}();var A=s.bindingMode.oneTime;function M(e,t){var r=e.length;if(t>0){t=t-1}for(;t<r;++t){R(e[t].overrideContext,t,r)}}function P(e,t,r,n,i){var o={};var a=s.createOverrideContext(o,e.scope.overrideContext);if(typeof i!=="undefined"){o[e.key]=i;o[e.value]=t}else{o[e.local]=t}R(a,r,n);return a}function R(e,t,r){var n=t===0;var i=t===r-1;var o=t%2===0;e.$index=t;e.$first=n;e.$last=i;e.$middle=!(n||i);e.$odd=!o;e.$even=o}function T(e,t){return e.behaviorInstructions.filter((function(e){return e.originalAttrName===t}))[0].attributes.items.sourceExpression}function j(e){var t=false;while(e instanceof s.BindingBehavior){e=e.expression}while(e instanceof s.ValueConverter){e=e.expression;t=true}return t?e:null}function L(e){while(e instanceof s.BindingBehavior){if(e.name==="oneTime"){return true}e=e.expression}return false}function V(e){if(e.call&&e.mode===A){e.call(s.sourceContext)}else if(e.updateOneTimeBindings){e.updateOneTimeBindings()}}function N(e,t,r,n){if(!r){return e.indexOf(t)}var i=e.length;for(var o=n||0;o<i;o++){if(r(e[o],t)){return o}}return-1}var I=function(){function e(){}e.prototype.getCollectionObserver=function(e,t){return e.getArrayObserver(t)};e.prototype.instanceChanged=function(e,t){var r=this;var n=e;var i=t.length;if(!t||i===0){n.removeAllViews(true,!n.viewsRequireLifecycle);return}var o=n.views();var a=o.length;if(a===0){this._standardProcessInstanceChanged(n,t);return}if(n.viewsRequireLifecycle){var s=o.slice(0);var u=n.local;var l=n.matcher();var c=[];var f=[];for(var h=0;h<a;h++){var d=s[h];var p=d.bindingContext[u];if(N(t,p,l)===-1){f.push(d)}else{c.push(p)}}var v=void 0;var g=void 0;if(c.length>0){g=n.removeViews(f,true,!n.viewsRequireLifecycle);v=function(){for(var e=0;e<i;e++){var a=t[e];var s=N(c,a,l,e);var u=void 0;if(s===-1){var f=P(n,t[e],e,i);n.insertView(e,f.bindingContext,f);c.splice(e,0,undefined)}else if(s===e){u=o[s];c[s]=undefined}else{u=o[s];n.moveView(s,e);c.splice(s,1);c.splice(e,0,undefined)}if(u){R(u.overrideContext,e,i)}}r._inPlaceProcessItems(n,t)}}else{g=n.removeAllViews(true,!n.viewsRequireLifecycle);v=function(){return r._standardProcessInstanceChanged(n,t)}}if(g instanceof Promise){g.then(v)}else{v()}}else{this._inPlaceProcessItems(n,t)}};e.prototype._standardProcessInstanceChanged=function(e,t){for(var r=0,n=t.length;r<n;r++){var i=P(e,t[r],r,n);e.addView(i.bindingContext,i)}};e.prototype._inPlaceProcessItems=function(e,t){var r=t.length;var n=e.viewCount();while(n>r){n--;e.removeView(n,true,!e.viewsRequireLifecycle)}var i=e.local;for(var o=0;o<n;o++){var a=e.view(o);var s=o===r-1;var u=o!==0&&!s;var l=a.bindingContext;var c=a.overrideContext;if(l[i]===t[o]&&c.$middle===u&&c.$last===s){continue}l[i]=t[o];c.$middle=u;c.$last=s;e.updateBindings(a)}for(var o=n;o<r;o++){var c=P(e,t[o],o,r);e.addView(c.bindingContext,c)}};e.prototype.instanceMutated=function(e,t,r){var n=this;if(e.__queuedSplices){for(var i=0,o=r.length;i<o;++i){var a=r[i],u=a.index,l=a.removed,c=a.addedCount;s.mergeSplice(e.__queuedSplices,u,l,c)}e.__array=t.slice(0);return}var f=this._runSplices(e,t.slice(0),r);if(f instanceof Promise){var h=e.__queuedSplices=[];var d=function(){if(!h.length){e.__queuedSplices=undefined;e.__array=undefined;return}var t=n._runSplices(e,e.__array,h)||Promise.resolve();h=e.__queuedSplices=[];t.then(d)};f.then(d)}};e.prototype._runSplices=function(e,t,r){var n=this;var i=0;var o=[];for(var a=0,s=r.length;a<s;++a){var u=r[a];var l=u.removed;for(var c=0,f=l.length;c<f;++c){var h=e.removeView(u.index+i+o.length,true);if(h instanceof Promise){o.push(h)}}i-=u.addedCount}if(o.length>0){return Promise.all(o).then((function(){var i=n._handleAddedSplices(e,t,r);M(e.views(),i)}))}var d=this._handleAddedSplices(e,t,r);M(e.views(),d);return undefined};e.prototype._handleAddedSplices=function(e,t,r){var n;var i;var o=t.length;for(var a=0,s=r.length;a<s;++a){var u=r[a];var l=n=u.index;var c=u.index+u.addedCount;if(typeof i==="undefined"||i===null||i>u.index){i=n}for(;l<c;++l){var f=P(e,t[l],l,o);e.insertView(l,f.bindingContext,f)}}return i};return e}();var B=function(){function e(){}e.prototype.getCollectionObserver=function(e,t){return e.getMapObserver(t)};e.prototype.instanceChanged=function(e,t){var r=this;var n=e.removeAllViews(true,!e.viewsRequireLifecycle);if(n instanceof Promise){n.then((function(){return r._standardProcessItems(e,t)}));return}this._standardProcessItems(e,t)};e.prototype._standardProcessItems=function(e,t){var r=0;var n;t.forEach((function(i,o){n=P(e,i,r,t.size,o);e.addView(n.bindingContext,n);++r}))};e.prototype.instanceMutated=function(e,t,r){var n;var i;var o;var a;var s;var u;var l;var c=[];var f;for(i=0,o=r.length;i<o;++i){l=r[i];n=l.key;switch(l.type){case"update":s=this._getViewIndexByKey(e,n);f=e.removeView(s,true,!e.viewsRequireLifecycle);if(f instanceof Promise){c.push(f)}a=P(e,t.get(n),s,t.size,n);e.insertView(s,a.bindingContext,a);break;case"add":u=e.viewCount()<=t.size-1?e.viewCount():t.size-1;a=P(e,t.get(n),u,t.size,n);e.insertView(t.size-1,a.bindingContext,a);break;case"delete":if(l.oldValue===undefined){return}s=this._getViewIndexByKey(e,n);f=e.removeView(s,true,!e.viewsRequireLifecycle);if(f instanceof Promise){c.push(f)}break;case"clear":e.removeAllViews(true,!e.viewsRequireLifecycle);break;default:continue}}if(c.length>0){Promise.all(c).then((function(){M(e.views(),0)}))}else{M(e.views(),0)}};e.prototype._getViewIndexByKey=function(e,t){var r;var n;var i;for(r=0,n=e.viewCount();r<n;++r){i=e.view(r);if(i.bindingContext[e.key]===t){return r}}return undefined};return e}();var D=function(){function e(){}e.prototype.instanceChanged=function(e,t){e.removeAllViews(true)};e.prototype.getCollectionObserver=function(e,t){};return e}();var F=function(){function e(){}e.prototype.getCollectionObserver=function(){return null};e.prototype.instanceChanged=function(e,t){var r=this;var n=e.removeAllViews(true,!e.viewsRequireLifecycle);if(n instanceof Promise){n.then((function(){return r._standardProcessItems(e,t)}));return}this._standardProcessItems(e,t)};e.prototype._standardProcessItems=function(e,t){var r=e.viewCount();var n;var i;var o;var a;t=Math.floor(t);a=r-t;if(a>0){if(a>r){a=r}for(n=0,i=a;n<i;++n){e.removeView(r-(n+1),true,!e.viewsRequireLifecycle)}return}for(n=r,i=t;n<i;++n){o=P(e,n,n,i);e.addView(o.bindingContext,o)}M(e.views(),0)};return e}();var q=function(){function e(){}e.prototype.getCollectionObserver=function(e,t){return e.getSetObserver(t)};e.prototype.instanceChanged=function(e,t){var r=this;var n=e.removeAllViews(true,!e.viewsRequireLifecycle);if(n instanceof Promise){n.then((function(){return r._standardProcessItems(e,t)}));return}this._standardProcessItems(e,t)};e.prototype._standardProcessItems=function(e,t){var r=0;var n;t.forEach((function(i){n=P(e,i,r,t.size);e.addView(n.bindingContext,n);++r}))};e.prototype.instanceMutated=function(e,t,r){var n;var i;var o;var a;var s;var u;var l=[];var c;for(i=0,o=r.length;i<o;++i){u=r[i];n=u.value;switch(u.type){case"add":var f=Math.max(t.size-1,0);a=P(e,n,f,t.size);e.insertView(f,a.bindingContext,a);break;case"delete":s=this._getViewIndexByValue(e,n);c=e.removeView(s,true,!e.viewsRequireLifecycle);if(c instanceof Promise){l.push(c)}break;case"clear":e.removeAllViews(true,!e.viewsRequireLifecycle);break;default:continue}}if(l.length>0){Promise.all(l).then((function(){M(e.views(),0)}))}else{M(e.views(),0)}};e.prototype._getViewIndexByValue=function(e,t){var r;var n;var i;for(r=0,n=e.viewCount();r<n;++r){i=e.view(r);if(i.bindingContext[e.local]===t){return r}}return undefined};return e}();var z=function(){function e(){this.matchers=[];this.strategies=[];this.addStrategy((function(e){return e===null||e===undefined}),new D);this.addStrategy((function(e){return e instanceof Array}),new I);this.addStrategy((function(e){return e instanceof Map}),new B);this.addStrategy((function(e){return e instanceof Set}),new q);this.addStrategy((function(e){return typeof e==="number"}),new F)}e.prototype.addStrategy=function(e,t){this.matchers.push(e);this.strategies.push(t)};e.prototype.getStrategy=function(e){var t=this.matchers;for(var r=0,n=t.length;r<n;++r){if(t[r](e)){return this.strategies[r]}}return null};return e}();var H=["focus","if","else","repeat","show","hide","with"];function U(e){var t=e.type;var r=t.elementName!==null?t.elementName:t.attributeName;return H.indexOf(r)===-1&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&Q(t.viewFactory)||e.viewFactory&&Q(e.viewFactory)}function $(e){var t=e.behaviorInstructions;if(t){var r=t.length;while(r--){if(U(t[r])){return true}}}return e.viewFactory&&Q(e.viewFactory)}function Q(e){if("_viewsRequireLifecycle"in e){return e._viewsRequireLifecycle}e._viewsRequireLifecycle=false;if(e.viewFactory){e._viewsRequireLifecycle=Q(e.viewFactory);return e._viewsRequireLifecycle}if(e.template.querySelector(".au-animate")){e._viewsRequireLifecycle=true;return true}for(var t in e.instructions){if($(e.instructions[t])){e._viewsRequireLifecycle=true;return true}}e._viewsRequireLifecycle=false;return false}var W=function(){function e(e){Object.assign(this,{local:"items",viewsRequireLifecycle:true},e)}e.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")};e.prototype.views=function(){throw new Error("subclass must implement `views`")};e.prototype.view=function(e){throw new Error("subclass must implement `view`")};e.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")};e.prototype.addView=function(e,t){throw new Error("subclass must implement `addView`")};e.prototype.insertView=function(e,t,r){throw new Error("subclass must implement `insertView`")};e.prototype.moveView=function(e,t){throw new Error("subclass must implement `moveView`")};e.prototype.removeAllViews=function(e,t){throw new Error("subclass must implement `removeAllViews`")};e.prototype.removeViews=function(e,t,r){throw new Error("subclass must implement `removeView`")};e.prototype.removeView=function(e,t,r){throw new Error("subclass must implement `removeView`")};e.prototype.updateBindings=function(e){throw new Error("subclass must implement `updateBindings`")};return e}();var G=function(e){d(t,e);function t(t,r,n,i,o,a){var s=e.call(this,{local:"item",viewsRequireLifecycle:Q(t)})||this;s.viewFactory=t;s.instruction=r;s.viewSlot=n;s.lookupFunctions=i.lookupFunctions;s.observerLocator=o;s.key="key";s.value="value";s.strategyLocator=a;s.ignoreMutation=false;s.sourceExpression=T(s.instruction,"repeat.for");s.isOneTime=L(s.sourceExpression);s.viewsRequireLifecycle=Q(t);return s}r=t;t.prototype.call=function(e,t){this[e](this.items,t)};t.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t};this.matcherBinding=this._captureAndRemoveMatcherBinding();this.itemsChanged()};t.prototype.unbind=function(){this.scope=null;this.items=null;this.matcherBinding=null;this.viewSlot.removeAll(true,true);this._unsubscribeCollection()};t.prototype._unsubscribeCollection=function(){if(this.collectionObserver){this.collectionObserver.unsubscribe(this.callContext,this);this.collectionObserver=null;this.callContext=null}};t.prototype.itemsChanged=function(){var e=this;this._unsubscribeCollection();if(!this.scope){return}var t=this.items;this.strategy=this.strategyLocator.getStrategy(t);if(!this.strategy){throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable")}if(!this.isOneTime&&!this._observeInnerCollection()){this._observeCollection()}this.ignoreMutation=true;this.strategy.instanceChanged(this,t);this.observerLocator.taskQueue.queueMicroTask((function(){e.ignoreMutation=false}))};t.prototype._getInnerCollection=function(){var e=j(this.sourceExpression);if(!e){return null}return e.evaluate(this.scope,null)};t.prototype.handleCollectionMutated=function(e,t){if(!this.collectionObserver){return}if(this.ignoreMutation){return}this.strategy.instanceMutated(this,e,t)};t.prototype.handleInnerCollectionMutated=function(e,t){var r=this;if(!this.collectionObserver){return}if(this.ignoreMutation){return}this.ignoreMutation=true;var n=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask((function(){return r.ignoreMutation=false}));if(n===this.items){this.itemsChanged()}else{this.items=n}};t.prototype._observeInnerCollection=function(){var e=this._getInnerCollection();var t=this.strategyLocator.getStrategy(e);if(!t){return false}this.collectionObserver=t.getCollectionObserver(this.observerLocator,e);if(!this.collectionObserver){return false}this.callContext="handleInnerCollectionMutated";this.collectionObserver.subscribe(this.callContext,this);return true};t.prototype._observeCollection=function(){var e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e);if(this.collectionObserver){this.callContext="handleCollectionMutated";this.collectionObserver.subscribe(this.callContext,this)}};t.prototype._captureAndRemoveMatcherBinding=function(){var e=this.viewFactory.viewFactory;if(e){var t=e.template;var n=e.instructions;if(r.useInnerMatcher){return K(n)}if(X(t)>1){return undefined}var i=Y(t);if(!i.hasAttribute("au-target-id")){return undefined}var o=i.getAttribute("au-target-id");return K(n,o)}return undefined};t.prototype.viewCount=function(){return this.viewSlot.children.length};t.prototype.views=function(){return this.viewSlot.children};t.prototype.view=function(e){return this.viewSlot.children[e]};t.prototype.matcher=function(){var e=this.matcherBinding;return e?e.sourceExpression.evaluate(this.scope,e.lookupFunctions):null};t.prototype.addView=function(e,t){var r=this.viewFactory.create();r.bind(e,t);this.viewSlot.add(r)};t.prototype.insertView=function(e,t,r){var n=this.viewFactory.create();n.bind(t,r);this.viewSlot.insert(e,n)};t.prototype.moveView=function(e,t){this.viewSlot.move(e,t)};t.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)};t.prototype.removeViews=function(e,t,r){return this.viewSlot.removeMany(e,t,r)};t.prototype.removeView=function(e,t,r){return this.viewSlot.removeAt(e,t,r)};t.prototype.updateBindings=function(e){var t=e;var r=t.bindings.length;while(r--){V(t.bindings[r])}r=t.controllers.length;while(r--){var n=t.controllers[r].boundProperties.length;while(n--){var i=t.controllers[r].boundProperties[n].binding;V(i)}}};var r;t.useInnerMatcher=true;p([a.bindable],t.prototype,"items",void 0);p([a.bindable],t.prototype,"local",void 0);p([a.bindable],t.prototype,"key",void 0);p([a.bindable],t.prototype,"value",void 0);t=r=p([a.customAttribute("repeat"),a.templateController,n.inject(a.BoundViewFactory,a.TargetInstruction,a.ViewSlot,a.ViewResources,s.ObserverLocator,z)],t);return t}(W);var K=function(e,t){var r=Object.keys(e);for(var n=0;n<r.length;n++){var i=r[n];if(t!==undefined&&i!==t){continue}var o=e[i].expressions;if(o){for(var a=0;a<o.length;a++){if(o[a].targetProperty==="matcher"){var s=o[a];o.splice(a,1);return s}}}}};var X=function(e){var t=e.childNodes;var r=0;for(var n=0,i=t.length;i>n;++n){if(t[n].nodeType===1){++r}}return r};var Y=function(e){var t=e.firstChild;while(t!==null){if(t.nodeType===1){return t}t=t.nextSibling}return null};var J="aurelia-hide";var Z="."+J+" { display:none !important; }";function ee(){i.DOM.injectStyles(Z)}function te(e){if(i.FEATURE.shadowDOM&&e&&!e.hasAureliaHideStyle){e.hasAureliaHideStyle=true;i.DOM.injectStyles(Z,e)}}var re=function(){function e(e,t,r){this.element=e;this.animator=t;this.domBoundary=r}e.inject=function(){return[i.DOM.Element,a.Animator,n.Optional.of(i.DOM.boundary,true)]};e.prototype.created=function(){te(this.domBoundary)};e.prototype.valueChanged=function(e){var t=this.element;var r=this.animator;if(e){r.removeClass(t,J)}else{r.addClass(t,J)}};e.prototype.bind=function(e){this.valueChanged(this.value)};e=p([a.customAttribute("show")],e);return e}();var ne=function(){function e(e,t,r){this.element=e;this.animator=t;this.domBoundary=r}e.inject=function(){return[i.DOM.Element,a.Animator,n.Optional.of(i.DOM.boundary,true)]};e.prototype.created=function(){te(this.domBoundary)};e.prototype.valueChanged=function(e){if(e){this.animator.addClass(this.element,J)}else{this.animator.removeClass(this.element,J)}};e.prototype.bind=function(e){this.valueChanged(this.value)};e.prototype.value=function(e){throw new Error("Method not implemented.")};e=p([a.customAttribute("hide")],e);return e}();var ie=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;var oe=true;var ae=function(){function e(){}e.prototype.sanitize=function(e){if(oe){oe=false;u.getLogger("html-sanitizer").warn("CAUTION: The default HTMLSanitizer does NOT provide security against a wide variety of sophisticated XSS attacks,\nand should not be relied on for sanitizing input from unknown sources.\nPlease see https://aurelia.io/docs/binding/basics#element-content for instructions on how to use a secure solution like DOMPurify or sanitize-html.")}return e.replace(ie,"")};return e}();var se=function(){function e(e){this.sanitizer=e}e.prototype.toView=function(e){if(e===null||e===undefined){return null}return this.sanitizer.sanitize(e)};e=p([s.valueConverter("sanitizeHTML"),n.inject(ae)],e);return e}();var ue=function(){function e(e,t){this.viewFactory=e;this.viewSlot=t;this.view=null}e.prototype.bind=function(e,t){if(this.view===null){this.view=this.viewFactory.create();this.viewSlot.add(this.view)}this.view.bind(e,t)};e.prototype.unbind=function(){this.view.unbind()};e=p([a.customAttribute("replaceable"),a.templateController,n.inject(a.BoundViewFactory,a.ViewSlot)],e);return e}();var le=function(){function e(e,t){this.element=e;this.taskQueue=t;this.isAttached=false;this.needsApply=false}e.inject=function(){return[i.DOM.Element,o.TaskQueue]};e.prototype.valueChanged=function(e){if(this.isAttached){this._apply()}else{this.needsApply=true}};e.prototype._apply=function(){var e=this;if(this.value){this.taskQueue.queueMicroTask((function(){if(e.value){e.element.focus()}}))}else{this.element.blur()}};e.prototype.attached=function(){this.isAttached=true;if(this.needsApply){this.needsApply=false;this._apply()}this.element.addEventListener("focus",this);this.element.addEventListener("blur",this)};e.prototype.detached=function(){this.isAttached=false;this.element.removeEventListener("focus",this);this.element.removeEventListener("blur",this)};e.prototype.handleEvent=function(e){if(e.type==="focus"){this.value=true}else if(i.DOM.activeElement!==this.element){this.value=false}};e=p([a.customAttribute("focus",s.bindingMode.twoWay)],e);return e}();var ce=/url\((?!['"]data)([^)]+)\)/gi;function fe(e,t){if(typeof t!=="string"){throw new Error("Failed loading required CSS file: "+e)}return t.replace(ce,(function(t,r){var n=r.charAt(0);if(n==="'"||n==='"'){r=r.substr(1,r.length-2)}return"url('"+c.relativeToFile(r,e)+"')"}))}var he=function(){function e(e){this.address=e;this._scoped=null;this._global=false;this._alreadyGloballyInjected=false}e.prototype.initialize=function(e,t){this._scoped=new t(this)};e.prototype.register=function(e,t){if(t==="scoped"){e.registerViewEngineHooks(this._scoped)}else{this._global=true}};e.prototype.load=function(e){var t=this;return e.get(l.Loader).loadText(this.address).catch((function(e){return null})).then((function(e){e=fe(t.address,e);t._scoped.css=e;if(t._global){t._alreadyGloballyInjected=true;i.DOM.injectStyles(e)}}))};return e}();var de=function(){function e(e){this.owner=e;this.css=null}e.prototype.beforeCompile=function(e,t,r){if(r.targetShadowDOM){i.DOM.injectStyles(this.css,e,true)}else if(i.FEATURE.scopedCSS){var n=i.DOM.injectStyles(this.css,e,true);n.setAttribute("scoped","scoped")}else if(this._global&&!this.owner._alreadyGloballyInjected){i.DOM.injectStyles(this.css);this.owner._alreadyGloballyInjected=true}};return e}();function pe(e){var t=function(t){d(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r=p([a.resource(new he(e))],r);return r}(de);return t}var ve=function(){function e(){}e.prototype.bind=function(e,t){e.targetObserver=new s.DataAttributeObserver(e.target,e.targetProperty)};e.prototype.unbind=function(e,t){};e=p([s.bindingBehavior("attr")],e);return e}();var ge={bind:function(e,t,r){e.originalMode=e.mode;e.mode=this.mode},unbind:function(e,t){e.mode=e.originalMode;e.originalMode=null}};var me=function(){function e(){this.mode=s.bindingMode.oneTime}e=p([f.mixin(ge),s.bindingBehavior("oneTime")],e);return e}();var ye=function(){function e(){this.mode=s.bindingMode.toView}e=p([f.mixin(ge),s.bindingBehavior("oneWay")],e);return e}();var be=function(){function e(){this.mode=s.bindingMode.toView}e=p([f.mixin(ge),s.bindingBehavior("toView")],e);return e}();var we=function(){function e(){this.mode=s.bindingMode.fromView}e=p([f.mixin(ge),s.bindingBehavior("fromView")],e);return e}();var xe=function(){function e(){this.mode=s.bindingMode.twoWay}e=p([f.mixin(ge),s.bindingBehavior("twoWay")],e);return e}();function Ce(e){var t=this;var r=this.throttleState;var n=+new Date-r.last;if(n>=r.delay){clearTimeout(r.timeoutId);r.timeoutId=null;r.last=+new Date;this.throttledMethod(e);return}r.newValue=e;if(r.timeoutId===null){r.timeoutId=setTimeout((function(){r.timeoutId=null;r.last=+new Date;t.throttledMethod(r.newValue)}),r.delay-n)}}var _e=function(){function e(){}e.prototype.bind=function(e,t,r){if(r===void 0){r=200}var n="updateTarget";if(e.callSource){n="callSource"}else if(e.updateSource&&e.mode===s.bindingMode.twoWay){n="updateSource"}e.throttledMethod=e[n];e.throttledMethod.originalName=n;e[n]=Ce;e.throttleState={delay:r,last:0,timeoutId:null}};e.prototype.unbind=function(e,t){var r=e.throttledMethod.originalName;e[r]=e.throttledMethod;e.throttledMethod=null;clearTimeout(e.throttleState.timeoutId);e.throttleState=null};e=p([s.bindingBehavior("throttle")],e);return e}();var Ee={};function Se(e){var t=this;var r=this.debounceState;clearTimeout(r.timeoutId);r.timeoutId=setTimeout((function(){return t.debouncedMethod(e)}),r.delay)}function Oe(e,t,r){var n=this;var i=this.debounceState;clearTimeout(i.timeoutId);if(e!==i.callContextToDebounce){i.oldValue=Ee;this.debouncedMethod(e,t,r);return}if(i.oldValue===Ee){i.oldValue=r}i.timeoutId=setTimeout((function(){var r=i.oldValue;i.oldValue=Ee;n.debouncedMethod(e,t,r)}),i.delay)}var ke=function(){function e(){}e.prototype.bind=function(e,t,r){if(r===void 0){r=200}var n=e.callSource!==undefined;var i=n?"callSource":"call";var o=n?Se:Oe;var a=e.mode;var u=a===s.bindingMode.twoWay||a===s.bindingMode.fromView?s.targetContext:s.sourceContext;e.debouncedMethod=e[i];e.debouncedMethod.originalName=i;e[i]=o;e.debounceState={callContextToDebounce:u,delay:r,timeoutId:0,oldValue:Ee}};e.prototype.unbind=function(e,t){var r=e.debouncedMethod.originalName;e[r]=e.debouncedMethod;e.debouncedMethod=null;clearTimeout(e.debounceState.timeoutId);e.debounceState=null};e=p([s.bindingBehavior("debounce")],e);return e}();function Ae(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}function Me(e){var t=Ae(e);if(this.target!==t){return}this.selfEventCallSource(e)}var Pe=function(){function e(){}e.prototype.bind=function(e,t){if(!e.callSource||!e.targetEvent){throw new Error("Self binding behavior only supports event.")}e.selfEventCallSource=e.callSource;e.callSource=Me};e.prototype.unbind=function(e,t){e.callSource=e.selfEventCallSource;e.selfEventCallSource=null};e=p([s.bindingBehavior("self")],e);return e}();var Re=function(){function e(){this.signals={}}e.prototype.signal=function(e){var t=this.signals[e];if(!t){return}var r=t.length;while(r--){t[r].call(s.sourceContext)}};return e}();var Te=function(){function e(e){this.signals=e.signals}e.inject=function(){return[Re]};e.prototype.bind=function(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}if(!e.updateTarget){throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.")}var i=this.signals;if(r.length===1){var o=r[0];var a=i[o]||(i[o]=[]);a.push(e);e.signalName=o}else if(r.length>1){var s=r.length;while(s--){var u=r[s];var a=i[u]||(i[u]=[]);a.push(e)}e.signalName=r}else{throw new Error("Signal name is required.")}};e.prototype.unbind=function(e,t){var r=this.signals;var n=e.signalName;e.signalName=null;if(Array.isArray(n)){var i=n;var o=i.length;while(o--){var a=i[o];var s=r[a];s.splice(s.indexOf(e),1)}}else{var s=r[n];s.splice(s.indexOf(e),1)}};e=p([s.bindingBehavior("signal")],e);return e}();var je="The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">";var Le="The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.";var Ve=function(){function e(){}e.prototype.bind=function(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}if(r.length===0){throw new Error(je)}if(e.mode!==s.bindingMode.twoWay&&e.mode!==s.bindingMode.fromView){throw new Error(Le)}var i=e.observerLocator.getObserver(e.target,e.targetProperty);if(!i.handler){throw new Error(Le)}e.targetObserver=i;i.originalHandler=e.targetObserver.handler;var o=new s.EventSubscriber(r);i.handler=o};e.prototype.unbind=function(e,t){var r=e.targetObserver;r.handler.dispose();r.handler=r.originalHandler;r.originalHandler=null};e=p([s.bindingBehavior("updateTrigger")],e);return e}();function Ne(e){var t=e.name,r=e.viewUrl,n=e.bindableNames,i=e.useShadowDOMmode;var o=function(){function e(){}e.prototype.bind=function(e){this.$parent=e};e=p([a.customElement(t),a.useView(r)],e);return e}();for(var s=0,l=n.length;s<l;++s){a.bindable(n[s])(o)}switch(i){case"open":a.useShadowDOM({mode:"open"})(o);break;case"closed":a.useShadowDOM({mode:"closed"})(o);break;case"":a.useShadowDOM(o);break;case null:break;default:u.getLogger("aurelia-html-only-element").warn('Expected \'use-shadow-dom\' value to be "close", "open" or "", received '+i);break}return o}function Ie(e){return/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase()}function Be(e){var t=e.container.get(a.ViewEngine);var r=e.aurelia.loader;t.addResourcePlugin(".html",{fetch:function(e){return r.loadTemplate(e).then((function(t){var r;var n=t.template.getAttribute("bindable");var i=t.template.getAttribute("use-shadow-dom");var o=Ie(e);if(n){n=n.split(",").map((function(e){return e.trim()}));t.template.removeAttribute("bindable")}else{n=[]}return r={},r[o]=Ne({name:o,viewUrl:e,bindableNames:n,useShadowDOMmode:i}),r}))}})}function De(e){ee();e.globalResources(g,S,O,k,G,re,ne,ue,le,se,me,ye,be,we,xe,_e,ke,Pe,Te,Ve,ve);Be(e);var t=e.container.get(a.ViewEngine);var r={fetch:function(e){var t;return t={},t[e]=pe(e),t}};[".css",".less",".sass",".scss",".styl"].forEach((function(e){return t.addResourcePlugin(e,r)}))}t.AbstractRepeater=W;t.ArrayRepeatStrategy=I;t.AttrBindingBehavior=ve;t.BindingSignaler=Re;t.Compose=g;t.DebounceBindingBehavior=ke;t.Else=O;t.Focus=le;t.FromViewBindingBehavior=we;t.HTMLSanitizer=ae;t.Hide=ne;t.If=S;t.MapRepeatStrategy=B;t.NullRepeatStrategy=D;t.NumberRepeatStrategy=F;t.OneTimeBindingBehavior=me;t.OneWayBindingBehavior=ye;t.Repeat=G;t.RepeatStrategyLocator=z;t.Replaceable=ue;t.SanitizeHTMLValueConverter=se;t.SelfBindingBehavior=Pe;t.SetRepeatStrategy=q;t.Show=re;t.SignalBindingBehavior=Te;t.ThrottleBindingBehavior=_e;t.ToViewBindingBehavior=be;t.TwoWayBindingBehavior=xe;t.UpdateTriggerBindingBehavior=Ve;t.With=k;t.configure=De;t.createFullOverrideContext=P;t.getItemsSourceExpression=T;t.isOneTime=L;t.unwrapExpression=j;t.updateOneTimeBinding=V;t.updateOverrideContext=R;t.viewsRequireLifecycle=Q}));define("aurelia-templating-router/dist/commonjs/aurelia-templating-router",["require","exports","module","aurelia-router","aurelia-metadata","aurelia-path","aurelia-templating","aurelia-dependency-injection","aurelia-binding","aurelia-pal","aurelia-logging"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=e("aurelia-router");var i=e("aurelia-metadata");var o=e("aurelia-path");var a=e("aurelia-templating");var s=e("aurelia-dependency-injection");var u=e("aurelia-binding");var l=e("aurelia-pal");var c=e("aurelia-logging");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var f=function(e,t){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return f(e,t)};function h(e,t){f(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var d=function(){function e(){}return e}();var p=function(){function e(e,t,r,n,i,o,a){this.element=e;this.container=t;this.viewSlot=r;this.router=n;this.viewLocator=i;this.compositionTransaction=o;this.compositionEngine=a;this.router.registerViewPort(this,this.element.getAttribute("name"));if(!("initialComposition"in o)){o.initialComposition=true;this.compositionTransactionNotifier=o.enlist()}}e.inject=function(){return[l.DOM.Element,s.Container,a.ViewSlot,n.Router,a.ViewLocator,a.CompositionTransaction,a.CompositionEngine]};e.prototype.created=function(e){this.owningView=e};e.prototype.bind=function(e,t){this.container.viewModel=e;this.overrideContext=t};e.prototype.process=function(e,t){var r=this;var n=e;var o=n.component;var s=o.childContainer;var u=o.viewModel;var l=o.viewModelResource;var c=l.metadata;var f=o.router.currentInstruction.config;var h=f.viewPorts?f.viewPorts[n.name]||{}:{};s.get(v)._notify(this);var d={viewModel:h.layoutViewModel||f.layoutViewModel||this.layoutViewModel,view:h.layoutView||f.layoutView||this.layoutView,model:h.layoutModel||f.layoutModel||this.layoutModel,router:n.component.router,childContainer:s,viewSlot:this.viewSlot};var p=this.viewLocator.getViewStrategy(o.view||u);if(p&&o.view){p.makeRelativeTo(i.Origin.get(o.router.container.viewModel.constructor).moduleId)}return c.load(s,l.value,null,p,true).then((function(e){if(!r.compositionTransactionNotifier){r.compositionTransactionOwnershipToken=r.compositionTransaction.tryCapture()}if(d.viewModel||d.view){n.layoutInstruction=d}var i=a.BehaviorInstruction.dynamic(r.element,u,e);n.controller=c.create(s,i);if(t){return null}r.swap(n)}))};e.prototype.swap=function(e){var t=this;var r=e;var n=r.controller;var i=r.layoutInstruction;var o=this.view;var s=function(){var e=a.SwapStrategies[t.swapOrder]||a.SwapStrategies.after;var r=t.viewSlot;e(r,o,(function(){return Promise.resolve(r.add(t.view))})).then((function(){t._notify()}))};var l=function(e){n.automate(t.overrideContext,e);var r=t.compositionTransactionOwnershipToken;if(r){return r.waitForCompositionComplete().then((function(){t.compositionTransactionOwnershipToken=null;return s()}))}return s()};if(i){if(!i.viewModel){i.viewModel=new d}return this.compositionEngine.createController(i).then((function(e){var r=e.view;a.ShadowDOM.distributeView(n.view,e.slots||r.slots);e.automate(u.createOverrideContext(i.viewModel),t.owningView);r.children.push(n.view);return r||e})).then((function(e){t.view=e;return l(e)}))}this.view=n.view;return l(this.owningView)};e.prototype._notify=function(){var e=this.compositionTransactionNotifier;if(e){e.done();this.compositionTransactionNotifier=null}};e.$view=null;e.$resource={name:"router-view",bindables:["swapOrder","layoutView","layoutViewModel","layoutModel","inherit-binding-context"]};return e}();var v=function(){function e(){var e=this;this.promise=new Promise((function(t){return e.resolve=t}))}e.prototype.findNearest=function(){return this.promise};e.prototype._notify=function(e){this.resolve(e)};return e}();var g=function(){function e(){}return e}();a.inlineView("<template></template>")(g);var m=function(e){h(t,e);function t(t){var r=e.call(this)||this;r.compositionEngine=t;return r}t.prototype.resolveViewModel=function(e,t){return new Promise((function(r,n){var a;if("moduleId"in t){var s=t.moduleId;if(s===null){a=g}else{s=o.relativeToFile(s,i.Origin.get(e.container.viewModel.constructor).moduleId);if(/\.html/i.test(s)){a=y(s)}else{a=s}}return r(a)}n(new Error('Invalid route config. No "moduleId" found.'))}))};t.prototype.createChildContainer=function(e){var t=e.container.createChild();t.registerSingleton(v);t.getChildRouter=function(){var r;t.registerHandler(n.Router,(function(){return r||(r=e.createChild(t))}));return t.get(n.Router)};return t};t.prototype.loadRoute=function(e,t,r){var n=this;return this.resolveViewModel(e,t).then((function(r){return n.compositionEngine.ensureViewModel({viewModel:r,childContainer:n.createChildContainer(e),view:t.view||t.viewStrategy,router:e})}))};t.inject=[a.CompositionEngine];return t}(n.RouteLoader);function y(e){var t=/([^\/^\?]+)\.html/i.exec(e)[1];var r=function(){function e(){}e.prototype.bind=function(e){this.$parent=e};return e}();a.customElement(t)(r);a.useView(e)(r);return r}var b=c.getLogger("route-href");var w=function(){function e(e,t){this.router=e;this.element=t;this.attribute="href"}e.inject=function(){return[n.Router,l.DOM.Element]};e.prototype.bind=function(){this.isActive=true;this.processChange()};e.prototype.unbind=function(){this.isActive=false};e.prototype.attributeChanged=function(e,t){if(t){this.element.removeAttribute(t)}return this.processChange()};e.prototype.processChange=function(){var e=this;return this.router.ensureConfigured().then((function(){if(!e.isActive){return null}var t=e.element;var r=e.router.generate(e.route,e.params);if(t.au.controller){t.au.controller.viewModel[e.attribute]=r}else{t.setAttribute(e.attribute,r)}return null})).catch((function(e){b.error(e)}))};e.$resource={type:"attribute",name:"route-href",bindables:[{name:"route",changeHandler:"processChange",primaryProperty:true},{name:"params",changeHandler:"processChange"},"attribute"]};return e}();function x(e){e.singleton(n.RouteLoader,m).singleton(n.Router,n.AppRouter).globalResources(p,w);e.container.registerAlias(n.Router,n.AppRouter)}t.RouteHref=w;t.RouterView=p;t.TemplatingRouteLoader=m;t.configure=x}));define("aurelia-templating/dist/commonjs/aurelia-templating",["require","exports","module","aurelia-logging","aurelia-metadata","aurelia-pal","aurelia-loader","aurelia-path","aurelia-binding","aurelia-dependency-injection","aurelia-task-queue"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TemplatingEngine=t.ElementConfigResource=t.CompositionEngine=t.SwapStrategies=t.HtmlBehaviorResource=t.BindableProperty=t.BehaviorPropertyObserver=t.Controller=t.ViewEngine=t.ModuleAnalyzer=t.ResourceDescription=t.ResourceModule=t.ViewCompiler=t.ViewFactory=t.BoundViewFactory=t.ViewSlot=t.View=t.ViewResources=t.ShadowDOM=t.ShadowSlot=t.PassThroughSlot=t.SlotCustomAttribute=t.BindingLanguage=t.ViewLocator=t.StaticViewStrategy=t.InlineViewStrategy=t.TemplateRegistryViewStrategy=t.NoViewStrategy=t.ConventionalViewStrategy=t.RelativeViewStrategy=t.viewStrategy=t.TargetInstruction=t.BehaviorInstruction=t.ViewCompileInstruction=t.ResourceLoadContext=t.ElementEvents=t.ViewEngineHooksResource=t.CompositionTransaction=t.CompositionTransactionOwnershipToken=t.CompositionTransactionNotifier=t.Animator=t.animationEvent=undefined;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o,a,s,u,l,c,f,h,d,p,v,g,m,y,b,w,x,C,_,E,S,O,k,A,M,P,R,T,j;t._hyphenate=Y;t._isAllWhitespace=J;t.viewEngineHooks=ee;t.validateBehaviorName=Se;t.children=mt;t.child=yt;t.resource=Mt;t.behavior=Pt;t.customElement=Rt;t.customAttribute=Tt;t.templateController=jt;t.bindable=Lt;t.dynamicOptions=Vt;t.useShadowDOM=It;t.processAttributes=Bt;t.processContent=Ft;t.containerless=qt;t.useViewStrategy=zt;t.useView=Ht;t.inlineView=Ut;t.noView=$t;t.view=Qt;t.elementConfig=Wt;t.viewResources=Gt;var L=e("aurelia-logging");var V=H(L);var N=e("aurelia-metadata");var I=e("aurelia-pal");var B=e("aurelia-loader");var D=e("aurelia-path");var F=e("aurelia-binding");var q=e("aurelia-dependency-injection");var z=e("aurelia-task-queue");function H(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var U=t.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"};var $=t.Animator=function(){function e(){}e.prototype.enter=function e(t){return Promise.resolve(false)};e.prototype.leave=function e(t){return Promise.resolve(false)};e.prototype.removeClass=function e(t,r){t.classList.remove(r);return Promise.resolve(false)};e.prototype.addClass=function e(t,r){t.classList.add(r);return Promise.resolve(false)};e.prototype.animate=function e(t,r){return Promise.resolve(false)};e.prototype.runSequence=function e(t){};e.prototype.registerEffect=function e(t,r){};e.prototype.unregisterEffect=function e(t){};return e}();var Q=t.CompositionTransactionNotifier=function(){function e(e){this.owner=e;this.owner._compositionCount++}e.prototype.done=function e(){this.owner._compositionCount--;this.owner._tryCompleteTransaction()};return e}();var W=t.CompositionTransactionOwnershipToken=function(){function e(e){this.owner=e;this.owner._ownershipToken=this;this.thenable=this._createThenable()}e.prototype.waitForCompositionComplete=function e(){this.owner._tryCompleteTransaction();return this.thenable};e.prototype.resolve=function e(){this._resolveCallback()};e.prototype._createThenable=function e(){var t=this;return new Promise((function(e,r){t._resolveCallback=e}))};return e}();var G=t.CompositionTransaction=function(){function e(){this._ownershipToken=null;this._compositionCount=0}e.prototype.tryCapture=function e(){return this._ownershipToken===null?new W(this):null};e.prototype.enlist=function e(){return new Q(this)};e.prototype._tryCompleteTransaction=function e(){if(this._compositionCount<=0){this._compositionCount=0;if(this._ownershipToken!==null){var t=this._ownershipToken;this._ownershipToken=null;t.resolve()}}};return e}();var K=/([A-Z])/g;function X(e){return"-"+e.toLowerCase()}function Y(e){return(e.charAt(0).toLowerCase()+e.slice(1)).replace(K,X)}function J(e){return!(e.auInterpolationTarget||/[^\t\n\r ]/.test(e.textContent))}var Z=t.ViewEngineHooksResource=function(){function e(){}e.prototype.initialize=function e(t,r){this.instance=t.get(r)};e.prototype.register=function e(t,r){t.registerViewEngineHooks(this.instance)};e.prototype.load=function e(t,r){};e.convention=function t(r){if(r.endsWith("ViewEngineHooks")){return new e}};return e}();function ee(e){var t=function e(t){N.metadata.define(N.metadata.resource,new Z,t)};return e?t(e):t}var te=t.ElementEvents=(a=o=function(){function e(e){this.element=e;this.subscriptions={}}e.prototype._enqueueHandler=function e(t){this.subscriptions[t.eventName]=this.subscriptions[t.eventName]||[];this.subscriptions[t.eventName].push(t)};e.prototype._dequeueHandler=function e(t){var r=void 0;var n=this.subscriptions[t.eventName];if(n){r=n.indexOf(t);if(r>-1){n.splice(r,1)}}return t};e.prototype.publish=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var o=I.DOM.createCustomEvent(t,{cancelable:i,bubbles:n,detail:r});this.element.dispatchEvent(o)};e.prototype.subscribe=function t(r,n,i){if(typeof n==="function"){if(i===undefined){i=e.defaultListenerOptions}var o=new re(this,r,n,i,false);return o}return undefined};e.prototype.subscribeOnce=function t(r,n,i){if(typeof n==="function"){if(i===undefined){i=e.defaultListenerOptions}var o=new re(this,r,n,i,true);return o}return undefined};e.prototype.dispose=function e(t){if(t&&typeof t==="string"){var r=this.subscriptions[t];if(r){while(r.length){var n=r.pop();if(n){n.dispose()}}}}else{this.disposeAll()}};e.prototype.disposeAll=function e(){for(var t in this.subscriptions){this.dispose(t)}};return e}(),o.defaultListenerOptions=true,a);var re=function(){function e(e,t,r,n,i){this.owner=e;this.eventName=t;this.handler=r;this.capture=typeof n==="boolean"?n:n.capture;this.bubbles=!this.capture;this.captureOrOptions=n;this.once=i;e.element.addEventListener(t,this,n);e._enqueueHandler(this)}e.prototype.handleEvent=function e(t){var r=this.handler;r(t);if(this.once){this.dispose()}};e.prototype.dispose=function e(){this.owner.element.removeEventListener(this.eventName,this,this.captureOrOptions);this.owner._dequeueHandler(this);this.owner=this.handler=null};return e}();var ne=t.ResourceLoadContext=function(){function e(){this.dependencies={}}e.prototype.addDependency=function e(t){this.dependencies[t]=true};e.prototype.hasDependency=function e(t){return t in this.dependencies};return e}();var ie=t.ViewCompileInstruction=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.targetShadowDOM=t;this.compileSurrogate=r;this.associatedModuleId=null};ie.normal=new ie;var oe=t.BehaviorInstruction=function(){function e(){}e.enhance=function t(){var r=new e;r.enhance=true;return r};e.unitTest=function t(r,n){var i=new e;i.type=r;i.attributes=n||{};return i};e.element=function t(r,n){var i=new e;i.type=n;i.attributes={};i.anchorIsContainer=!(r.hasAttribute("containerless")||n.containerless);i.initiatedByBehavior=true;return i};e.attribute=function t(r,n){var i=new e;i.attrName=r;i.type=n||null;i.attributes={};return i};e.dynamic=function t(r,n,i){var o=new e;o.host=r;o.viewModel=n;o.viewFactory=i;o.inheritBindingContext=true;return o};return e}();var ae=oe.prototype;ae.initiatedByBehavior=false;ae.enhance=false;ae.partReplacements=null;ae.viewFactory=null;ae.originalAttrName=null;ae.skipContentProcessing=false;ae.contentFactory=null;ae.viewModel=null;ae.anchorIsContainer=false;ae.host=null;ae.attributes=null;ae.type=null;ae.attrName=null;ae.inheritBindingContext=false;oe.normal=new oe;var se=t.TargetInstruction=(u=s=function(){function e(){}e.shadowSlot=function t(r){var n=new e;n.parentInjectorId=r;n.shadowSlot=true;return n};e.contentExpression=function t(r){var n=new e;n.contentExpression=r;return n};e.letElement=function t(r){var n=new e;n.expressions=r;n.letElement=true;return n};e.lifting=function t(r,n){var i=new e;i.parentInjectorId=r;i.expressions=e.noExpressions;i.behaviorInstructions=[n];i.viewFactory=n.viewFactory;i.providers=[n.type.target];i.lifting=true;return i};e.normal=function t(r,n,i,o,a,s){var u=new e;u.injectorId=r;u.parentInjectorId=n;u.providers=i;u.behaviorInstructions=o;u.expressions=a;u.anchorIsContainer=s?s.anchorIsContainer:true;u.elementInstruction=s;return u};e.surrogate=function t(r,n,i,o){var a=new e;a.expressions=i;a.behaviorInstructions=n;a.providers=r;a.values=o;return a};return e}(),s.noExpressions=Object.freeze([]),u);var ue=se.prototype;ue.injectorId=null;ue.parentInjectorId=null;ue.shadowSlot=false;ue.slotName=null;ue.slotFallbackFactory=null;ue.contentExpression=null;ue.letElement=false;ue.expressions=null;ue.expressions=null;ue.providers=null;ue.viewFactory=null;ue.anchorIsContainer=false;ue.elementInstruction=null;ue.lifting=false;ue.values=null;var le=t.viewStrategy=N.protocol.create("aurelia:view-strategy",{validate:function e(t){if(!(typeof t.loadViewFactory==="function")){return"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"}return true},compose:function e(t){if(!(typeof t.makeRelativeTo==="function")){t.makeRelativeTo=I.PLATFORM.noop}}});var ce=t.RelativeViewStrategy=(l=le(),l(c=function(){function e(e){this.path=e;this.absolutePath=null}e.prototype.loadViewFactory=function e(t,r,n,i){if(this.absolutePath===null&&this.moduleId){this.absolutePath=(0,D.relativeToFile)(this.path,this.moduleId)}r.associatedModuleId=this.moduleId;return t.loadViewFactory(this.absolutePath||this.path,r,n,i)};e.prototype.makeRelativeTo=function e(t){if(this.absolutePath===null){this.absolutePath=(0,D.relativeToFile)(this.path,t)}};return e}())||c);var fe=t.ConventionalViewStrategy=(f=le(),f(h=function(){function e(e,t){this.moduleId=t.moduleId;this.viewUrl=e.convertOriginToViewUrl(t)}e.prototype.loadViewFactory=function e(t,r,n,i){r.associatedModuleId=this.moduleId;return t.loadViewFactory(this.viewUrl,r,n,i)};return e}())||h);var he=t.NoViewStrategy=(d=le(),d(p=function(){function e(e,t){this.dependencies=e||null;this.dependencyBaseUrl=t||""}e.prototype.loadViewFactory=function e(t,r,n,i){var o=this.entry;var a=this.dependencies;if(o&&o.factoryIsReady){return Promise.resolve(null)}this.entry=o=new B.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl);o.dependencies=[];o.templateIsLoaded=true;if(a!==null){for(var s=0,u=a.length;s<u;++s){var l=a[s];if(typeof l==="string"||typeof l==="function"){o.addDependency(l)}else{o.addDependency(l.from,l.as)}}}r.associatedModuleId=this.moduleId;return t.loadViewFactory(o,r,n,i)};return e}())||p);var de=t.TemplateRegistryViewStrategy=(v=le(),v(g=function(){function e(e,t){this.moduleId=e;this.entry=t}e.prototype.loadViewFactory=function e(t,r,n,i){var o=this.entry;if(o.factoryIsReady){return Promise.resolve(o.factory)}r.associatedModuleId=this.moduleId;return t.loadViewFactory(o,r,n,i)};return e}())||g);var pe=t.InlineViewStrategy=(m=le(),m(y=function(){function e(e,t,r){this.markup=e;this.dependencies=t||null;this.dependencyBaseUrl=r||""}e.prototype.loadViewFactory=function e(t,r,n,i){var o=this.entry;var a=this.dependencies;if(o&&o.factoryIsReady){return Promise.resolve(o.factory)}this.entry=o=new B.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl);o.template=I.DOM.createTemplateFromMarkup(this.markup);if(a!==null){for(var s=0,u=a.length;s<u;++s){var l=a[s];if(typeof l==="string"||typeof l==="function"){o.addDependency(l)}else{o.addDependency(l.from,l.as)}}}r.associatedModuleId=this.moduleId;return t.loadViewFactory(o,r,n,i)};return e}())||y);var ve=t.StaticViewStrategy=(b=le(),b(w=function(){function e(e){if(typeof e==="string"||e instanceof I.DOM.Element&&e.tagName==="TEMPLATE"){e={template:e}}this.template=e.template;this.dependencies=e.dependencies||[];this.factoryIsReady=false;this.onReady=null;this.moduleId="undefined"}e.prototype.loadViewFactory=function e(t,r,n,o){var a=this;if(this.factoryIsReady){return Promise.resolve(this.factory)}var s=this.dependencies;s=typeof s==="function"?s():s;s=s?s:[];s=Array.isArray(s)?s:[s];return Promise.all(s).then((function(e){var n=t.container;var s=t.appResources;var u=t.viewCompiler;var l=new ke(s);var c=void 0;var f=[];if(o){l.autoRegister(n,o)}for(var h=e,d=Array.isArray(h),p=0,h=d?h:h[Symbol.iterator]();;){var v;if(d){if(p>=h.length)break;v=h[p++]}else{p=h.next();if(p.done)break;v=p.value}var g=v;if(typeof g==="function"){c=l.autoRegister(n,g);if(c.elementName!==null){f.push(c)}}else if(g&&(typeof g==="undefined"?"undefined":i(g))==="object"){for(var m in g){var y=g[m];if(typeof y==="function"){c=l.autoRegister(n,y);if(c.elementName!==null){f.push(c)}}}}else{throw new Error('dependency neither function nor object. Received: "'+(typeof g==="undefined"?"undefined":i(g))+'"')}}return Promise.all(f.map((function(e){return e.load(n,e.target)}))).then((function(){var e=a.template!==null?u.compile(a.template,l,r):null;a.factoryIsReady=true;a.factory=e;return e}))}))};return e}())||w);var ge=t.ViewLocator=(C=x=function(){function e(){}e.prototype.getViewStrategy=function t(r){if(!r){return null}if((typeof r==="undefined"?"undefined":i(r))==="object"&&"getViewStrategy"in r){var n=N.Origin.get(r.constructor);r=r.getViewStrategy();if(typeof r==="string"){r=new ce(r)}le.assert(r);if(n.moduleId){r.makeRelativeTo(n.moduleId)}return r}if(typeof r==="string"){r=new ce(r)}if(le.validate(r)){return r}if(typeof r!=="function"){r=r.constructor}if("$view"in r){var o=r.$view;var a=void 0;o=typeof o==="function"?o.call(r):o;if(o===null){a=new he}else{a=o instanceof ve?o:new ve(o)}N.metadata.define(e.viewStrategyMetadataKey,a,r);return a}var s=N.Origin.get(r);var u=N.metadata.get(e.viewStrategyMetadataKey,r);if(!u){if(!s.moduleId){throw new Error("Cannot determine default view strategy for object.",r)}u=this.createFallbackViewStrategy(s)}else if(s.moduleId){u.moduleId=s.moduleId}return u};e.prototype.createFallbackViewStrategy=function e(t){return new fe(this,t)};e.prototype.convertOriginToViewUrl=function e(t){var r=t.moduleId;var n=r.endsWith(".js")||r.endsWith(".ts")?r.substring(0,r.length-3):r;return n+".html"};return e}(),x.viewStrategyMetadataKey="aurelia:view-strategy",C);function me(e){throw new Error("BindingLanguage must implement "+e+"().")}var ye=t.BindingLanguage=function(){function e(){}e.prototype.inspectAttribute=function e(t,r,n,i){me("inspectAttribute")};e.prototype.createAttributeInstruction=function e(t,r,n,i){me("createAttributeInstruction")};e.prototype.createLetExpressions=function e(t,r){me("createLetExpressions")};e.prototype.inspectTextContent=function e(t,r){me("inspectTextContent")};return e}();var be=Object.freeze([]);var we=t.SlotCustomAttribute=function(){e.inject=function e(){return[I.DOM.Element]};function e(e){this.element=e;this.element.auSlotAttribute=this}e.prototype.valueChanged=function e(t,r){};return e}();var xe=t.PassThroughSlot=function(){function e(e,t,r,n){this.anchor=e;this.anchor.viewSlot=this;this.name=t;this.destinationName=r;this.fallbackFactory=n;this.destinationSlot=null;this.projections=0;this.contentView=null;var i=new we(this.anchor);i.value=this.destinationName}e.prototype.renderFallbackContent=function e(t,r,n,i){if(this.contentView===null){this.contentView=this.fallbackFactory.create(this.ownerView.container);this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var o=Object.create(null);o[this.destinationSlot.name]=this.destinationSlot;_e.distributeView(this.contentView,o,n,i,this.destinationSlot.name)}};e.prototype.passThroughTo=function e(t){this.destinationSlot=t};e.prototype.addNode=function t(r,n,i,o){if(this.contentView!==null){this.contentView.removeNodes();this.contentView.detached();this.contentView.unbind();this.contentView=null}if(n.viewSlot instanceof e){n.viewSlot.passThroughTo(this);return}this.projections++;this.destinationSlot.addNode(r,n,i,o)};e.prototype.removeView=function e(t,r){this.projections--;this.destinationSlot.removeView(t,r);if(this.needsFallbackRendering){this.renderFallbackContent(null,be,r)}};e.prototype.removeAll=function e(t){this.projections=0;this.destinationSlot.removeAll(t);if(this.needsFallbackRendering){this.renderFallbackContent(null,be,t)}};e.prototype.projectFrom=function e(t,r){this.destinationSlot.projectFrom(t,r)};e.prototype.created=function e(t){this.ownerView=t};e.prototype.bind=function e(t){if(this.contentView){this.contentView.bind(t.bindingContext,t.overrideContext)}};e.prototype.attached=function e(){if(this.contentView){this.contentView.attached()}};e.prototype.detached=function e(){if(this.contentView){this.contentView.detached()}};e.prototype.unbind=function e(){if(this.contentView){this.contentView.unbind()}};n(e,[{key:"needsFallbackRendering",get:function e(){return this.fallbackFactory&&this.projections===0}}]);return e}();var Ce=t.ShadowSlot=function(){function e(e,t,r){this.anchor=e;this.anchor.isContentProjectionSource=true;this.anchor.viewSlot=this;this.name=t;this.fallbackFactory=r;this.contentView=null;this.projections=0;this.children=[];this.projectFromAnchors=null;this.destinationSlots=null}e.prototype.addNode=function e(t,r,n,i,o){if(this.contentView!==null){this.contentView.removeNodes();this.contentView.detached();this.contentView.unbind();this.contentView=null}if(r.viewSlot instanceof xe){r.viewSlot.passThroughTo(this);return}if(this.destinationSlots!==null){_e.distributeNodes(t,[r],this.destinationSlots,this,i)}else{r.auOwnerView=t;r.auProjectionSource=n;r.auAssignedSlot=this;var a=this._findAnchor(t,r,n,i);var s=a.parentNode;s.insertBefore(r,a);this.children.push(r);this.projections++}};e.prototype.removeView=function e(t,r){if(this.destinationSlots!==null){_e.undistributeView(t,this.destinationSlots,this)}else if(this.contentView&&this.contentView.hasSlots){_e.undistributeView(t,this.contentView.slots,r)}else{var n=this.children.find((function(e){return e.auSlotProjectFrom===r}));if(n){var i=n.auProjectionChildren;var o=this.children;for(var a=0,s=i.length;a<s;++a){var u=i[a];if(u.auOwnerView===t){i.splice(a,1);t.fragment.appendChild(u);a--;s--;this.projections--;var l=o.indexOf(u);if(l>-1){o.splice(l,1)}}}if(this.needsFallbackRendering){this.renderFallbackContent(t,be,r)}}}};e.prototype.removeAll=function e(t){if(this.destinationSlots!==null){_e.undistributeAll(this.destinationSlots,this)}else if(this.contentView&&this.contentView.hasSlots){_e.undistributeAll(this.contentView.slots,t)}else{var r=this.children.find((function(e){return e.auSlotProjectFrom===t}));if(r){var n=r.auProjectionChildren;var i=this.children;for(var o=0,a=n.length;o<a;++o){var s=n[o];s.auOwnerView.fragment.appendChild(s);this.projections--;var u=i.indexOf(s);if(u>-1){i.splice(u,1)}}r.auProjectionChildren=[];if(this.needsFallbackRendering){this.renderFallbackContent(null,be,t)}}}};e.prototype._findAnchor=function e(t,r,n,i){if(n){var o=this.children.find((function(e){return e.auSlotProjectFrom===n}));if(o){if(i!==undefined){var a=o.auProjectionChildren;var s=-1;var u=void 0;for(var l=0,c=a.length;l<c;++l){var f=a[l];if(f.auOwnerView!==u){s++;u=f.auOwnerView;if(s>=i&&u!==t){a.splice(l,0,r);return f}}}}o.auProjectionChildren.push(r);return o}}return this.anchor};e.prototype.projectTo=function e(t){this.destinationSlots=t};e.prototype.projectFrom=function e(t,r){var n=I.DOM.createComment("anchor");var i=this.anchor.parentNode;n.auSlotProjectFrom=r;n.auOwnerView=t;n.auProjectionChildren=[];i.insertBefore(n,this.anchor);this.children.push(n);if(this.projectFromAnchors===null){this.projectFromAnchors=[]}this.projectFromAnchors.push(n)};e.prototype.renderFallbackContent=function e(t,r,n,i){if(this.contentView===null){this.contentView=this.fallbackFactory.create(this.ownerView.container);this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);this.contentView.insertNodesBefore(this.anchor)}if(this.contentView.hasSlots){var o=this.contentView.slots;var a=this.projectFromAnchors;if(a!==null){for(var s in o){var u=o[s];for(var l=0,c=a.length;l<c;++l){var f=a[l];u.projectFrom(f.auOwnerView,f.auSlotProjectFrom)}}}this.fallbackSlots=o;_e.distributeNodes(t,r,o,n,i)}};e.prototype.created=function e(t){this.ownerView=t};e.prototype.bind=function e(t){if(this.contentView){this.contentView.bind(t.bindingContext,t.overrideContext)}};e.prototype.attached=function e(){if(this.contentView){this.contentView.attached()}};e.prototype.detached=function e(){if(this.contentView){this.contentView.detached()}};e.prototype.unbind=function e(){if(this.contentView){this.contentView.unbind()}};n(e,[{key:"needsFallbackRendering",get:function e(){return this.fallbackFactory&&this.projections===0}}]);return e}();var _e=t.ShadowDOM=(E=_=function(){function e(){}e.getSlotName=function t(r){if(r.auSlotAttribute===undefined){return e.defaultSlotKey}return r.auSlotAttribute.value};e.distributeView=function t(r,n,i,o,a){var s=void 0;if(r===null){s=be}else{var u=r.fragment.childNodes;var l=u.length;s=new Array(l);for(var c=0;c<l;++c){s[c]=u[c]}}e.distributeNodes(r,s,n,i,o,a)};e.undistributeView=function e(t,r,n){for(var i in r){r[i].removeView(t,n)}};e.undistributeAll=function e(t,r){for(var n in t){t[n].removeAll(r)}};e.distributeNodes=function t(r,n,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];var f=c.nodeType;if(c.isContentProjectionSource){c.viewSlot.projectTo(i);for(var h in i){i[h].projectFrom(r,c.viewSlot)}n.splice(u,1);l--;u--}else if(f===1||f===3||c.viewSlot instanceof xe){if(f===3&&J(c)){n.splice(u,1);l--;u--}else{var d=i[s||e.getSlotName(c)];if(d){d.addNode(r,c,o,a);n.splice(u,1);l--;u--}}}else{n.splice(u,1);l--;u--}}for(var p in i){var v=i[p];if(v.needsFallbackRendering){v.renderFallbackContent(r,n,o,a)}}};return e}(),_.defaultSlotKey="__au-default-slot-key__",E);function Ee(e,t,r,n){if(!t){return}var i=e[t];if(i){if(i!==r){throw new Error("Attempted to register "+n+" when one with the same name already exists. Name: "+t+".")}return}e[t]=r}function Se(e,t){if(/[A-Z]/.test(e)){var r=Y(e);V.getLogger("templating").warn("'"+e+"' is not a valid "+t+" name and has been converted to '"+r+"'. Upper-case letters are not allowed because the DOM is not case-sensitive.");return r}return e}var Oe="__au_resource__";var ke=t.ViewResources=function(){e.convention=function e(t,r){var n=void 0;if(r&&Oe in r){return r}if("$resource"in t){var i=t.$resource;if(typeof i==="string"){n=r||new vt;n[Oe]=true;if(!n.elementName){n.elementName=Se(i,"custom element")}}else{if(typeof i==="function"){i=i.call(t)}if(typeof i==="string"){i={name:i}}i=Object.assign({},i);var o=i.type||"element";var a=i.name;switch(o){case"element":case"attribute":n=r||new vt;n[Oe]=true;if(o==="element"){if(!n.elementName){n.elementName=a?Se(a,"custom element"):Y(t.name)}}else{if(!n.attributeName){n.attributeName=a?Se(a,"custom attribute"):Y(t.name)}}if("templateController"in i){i.liftsContent=i.templateController;delete i.templateController}if("defaultBindingMode"in i&&n.attributeDefaultBindingMode!==undefined){i.attributeDefaultBindingMode=i.defaultBindingMode;delete i.defaultBindingMode}delete i.name;Object.assign(n,i);break;case"valueConverter":n=new F.ValueConverterResource((0,F.camelCase)(a||t.name));break;case"bindingBehavior":n=new F.BindingBehaviorResource((0,F.camelCase)(a||t.name));break;case"viewEngineHooks":n=new Z;break}}if(n instanceof vt){var s=typeof i==="string"?undefined:i.bindables;var u=n.properties;if(Array.isArray(s)){for(var l=0,c=s.length;c>l;++l){var f=s[l];if(!f||typeof f!=="string"&&!f.name){throw new Error('Invalid bindable property at "'+l+'" for class "'+t.name+'". Expected either a string or an object with "name" property.')}var h=new ct(f);var d=false;for(var p=0,v=u.length;v>p;++p){if(u[p].name===h.name){d=true;break}}if(d){continue}h.registerWith(t,n)}}}}return n};function e(e,t){this.bindingLanguage=null;this.parent=e||null;this.hasParent=this.parent!==null;this.viewUrl=t||"";this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)};this.attributes=Object.create(null);this.elements=Object.create(null);this.valueConverters=Object.create(null);this.bindingBehaviors=Object.create(null);this.attributeMap=Object.create(null);this.values=Object.create(null);this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=false}e.prototype._tryAddHook=function e(t,r){if(typeof t[r]==="function"){var n=t[r].bind(t);var i=1;var o=void 0;while(this[o=r+i.toString()]!==undefined){i++}this[r]=true;this[o]=n}};e.prototype._invokeHook=function e(t,r,n,i,o){if(this.hasParent){this.parent._invokeHook(t,r,n,i,o)}if(this[t]){this[t+"1"](r,n,i,o);var a=t+"2";if(this[a]){this[a](r,n,i,o);a=t+"3";if(this[a]){this[a](r,n,i,o);var s=4;while(this[a=t+s.toString()]!==undefined){this[a](r,n,i,o);s++}}}}};e.prototype.registerViewEngineHooks=function e(t){this._tryAddHook(t,"beforeCompile");this._tryAddHook(t,"afterCompile");this._tryAddHook(t,"beforeCreate");this._tryAddHook(t,"afterCreate");this._tryAddHook(t,"beforeBind");this._tryAddHook(t,"beforeUnbind")};e.prototype.getBindingLanguage=function e(t){return this.bindingLanguage||(this.bindingLanguage=t)};e.prototype.patchInParent=function e(t){var r=this.parent;this.parent=t||null;this.hasParent=this.parent!==null;if(t.parent===null){t.parent=r;t.hasParent=r!==null}};e.prototype.relativeToView=function e(t){return(0,D.relativeToFile)(t,this.viewUrl)};e.prototype.registerElement=function e(t,r){Ee(this.elements,t,r,"an Element")};e.prototype.getElement=function e(t){return this.elements[t]||(this.hasParent?this.parent.getElement(t):null)};e.prototype.mapAttribute=function e(t){return this.attributeMap[t]||(this.hasParent?this.parent.mapAttribute(t):null)};e.prototype.registerAttribute=function e(t,r,n){this.attributeMap[t]=n;Ee(this.attributes,t,r,"an Attribute")};e.prototype.getAttribute=function e(t){return this.attributes[t]||(this.hasParent?this.parent.getAttribute(t):null)};e.prototype.registerValueConverter=function e(t,r){Ee(this.valueConverters,t,r,"a ValueConverter")};e.prototype.getValueConverter=function e(t){return this.valueConverters[t]||(this.hasParent?this.parent.getValueConverter(t):null)};e.prototype.registerBindingBehavior=function e(t,r){Ee(this.bindingBehaviors,t,r,"a BindingBehavior")};e.prototype.getBindingBehavior=function e(t){return this.bindingBehaviors[t]||(this.hasParent?this.parent.getBindingBehavior(t):null)};e.prototype.registerValue=function e(t,r){Ee(this.values,t,r,"a value")};e.prototype.getValue=function e(t){return this.values[t]||(this.hasParent?this.parent.getValue(t):null)};e.prototype.autoRegister=function t(r,n){var i=N.metadata.getOwn(N.metadata.resource,n);if(i){if(i instanceof vt){e.convention(n,i);if(i.attributeName===null&&i.elementName===null){vt.convention(n.name,i)}if(i.attributeName===null&&i.elementName===null){i.elementName=Y(n.name)}}}else{i=e.convention(n)||vt.convention(n.name)||F.ValueConverterResource.convention(n.name)||F.BindingBehaviorResource.convention(n.name)||Z.convention(n.name);if(!i){i=new vt;i.elementName=Y(n.name)}N.metadata.define(N.metadata.resource,i,n)}i.initialize(r,n);i.register(this);return i};return e}();var Ae=t.View=function(){function e(e,t,r,n,i,o,a){this.container=e;this.viewFactory=t;this.resources=t.resources;this.fragment=r;this.firstChild=r.firstChild;this.lastChild=r.lastChild;this.controllers=n;this.bindings=i;this.children=o;this.slots=a;this.hasSlots=false;this.fromCache=false;this.isBound=false;this.isAttached=false;this.bindingContext=null;this.overrideContext=null;this.controller=null;this.viewModelScope=null;this.animatableElement=undefined;this._isUserControlled=false;this.contentView=null;for(var s in a){this.hasSlots=true;break}}e.prototype.returnToCache=function e(){this.viewFactory.returnViewToCache(this)};e.prototype.created=function e(){var t=void 0;var r=void 0;var n=this.controllers;for(t=0,r=n.length;t<r;++t){n[t].created(this)}};e.prototype.bind=function e(t,r,n){var i=void 0;var o=void 0;var a=void 0;var s=void 0;var u=void 0;if(n&&this._isUserControlled){return}if(this.isBound){if(this.bindingContext===t){return}this.unbind()}this.isBound=true;this.bindingContext=t;this.overrideContext=r||(0,F.createOverrideContext)(t);this.resources._invokeHook("beforeBind",this);o=this.bindings;for(s=0,u=o.length;s<u;++s){o[s].bind(this)}if(this.viewModelScope!==null){t.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext);this.viewModelScope=null}i=this.controllers;for(s=0,u=i.length;s<u;++s){i[s].bind(this)}a=this.children;for(s=0,u=a.length;s<u;++s){a[s].bind(t,r,true)}if(this.hasSlots){_e.distributeView(this.contentView,this.slots)}};e.prototype.addBinding=function e(t){this.bindings.push(t);if(this.isBound){t.bind(this)}};e.prototype.unbind=function e(){var t=void 0;var r=void 0;var n=void 0;var i=void 0;var o=void 0;if(this.isBound){this.isBound=false;this.resources._invokeHook("beforeUnbind",this);if(this.controller!==null){this.controller.unbind()}r=this.bindings;for(i=0,o=r.length;i<o;++i){r[i].unbind()}t=this.controllers;for(i=0,o=t.length;i<o;++i){t[i].unbind()}n=this.children;for(i=0,o=n.length;i<o;++i){n[i].unbind()}this.bindingContext=null;this.overrideContext=null}};e.prototype.insertNodesBefore=function e(t){t.parentNode.insertBefore(this.fragment,t)};e.prototype.appendNodesTo=function e(t){t.appendChild(this.fragment)};e.prototype.removeNodes=function e(){var t=this.fragment;var r=this.firstChild;var n=this.lastChild;var i=void 0;while(r){i=r.nextSibling;t.appendChild(r);if(r===n){break}r=i}};e.prototype.attached=function e(){var t=void 0;var r=void 0;var n=void 0;var i=void 0;if(this.isAttached){return}this.isAttached=true;if(this.controller!==null){this.controller.attached()}t=this.controllers;for(n=0,i=t.length;n<i;++n){t[n].attached()}r=this.children;for(n=0,i=r.length;n<i;++n){r[n].attached()}};e.prototype.detached=function e(){var t=void 0;var r=void 0;var n=void 0;var i=void 0;if(this.isAttached){this.isAttached=false;if(this.controller!==null){this.controller.detached()}t=this.controllers;for(n=0,i=t.length;n<i;++n){t[n].detached()}r=this.children;for(n=0,i=r.length;n<i;++n){r[n].detached()}}};return e}();function Me(e){if(e.animatableElement!==undefined){return e.animatableElement}var t=e.firstChild;while(t&&t.nodeType!==1){t=t.nextSibling}if(t&&t.nodeType===1){return e.animatableElement=t.classList.contains("au-animate")?t:null}return e.animatableElement=null}var Pe=t.ViewSlot=function(){function e(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:$.instance;this.anchor=e;this.anchorIsContainer=t;this.bindingContext=null;this.overrideContext=null;this.animator=r;this.children=[];this.isBound=false;this.isAttached=false;this.contentSelectors=null;e.viewSlot=this;e.isContentProjectionSource=false}e.prototype.animateView=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"enter";var n=Me(t);if(n!==null){switch(r){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+r)}}};e.prototype.transformChildNodesIntoView=function e(){var t=this.anchor;this.children.push({fragment:t,firstChild:t.firstChild,lastChild:t.lastChild,returnToCache:function e(){},removeNodes:function e(){var r=void 0;while(r=t.lastChild){t.removeChild(r)}},created:function e(){},bind:function e(){},unbind:function e(){},attached:function e(){},detached:function e(){}})};e.prototype.bind=function e(t,r){var n=void 0;var i=void 0;var o=void 0;if(this.isBound){if(this.bindingContext===t){return}this.unbind()}this.isBound=true;this.bindingContext=t=t||this.bindingContext;this.overrideContext=r=r||this.overrideContext;o=this.children;for(n=0,i=o.length;n<i;++n){o[n].bind(t,r,true)}};e.prototype.unbind=function e(){if(this.isBound){var t=void 0;var r=void 0;var n=this.children;this.isBound=false;this.bindingContext=null;this.overrideContext=null;for(t=0,r=n.length;t<r;++t){n[t].unbind()}}};e.prototype.add=function e(t){if(this.anchorIsContainer){t.appendNodesTo(this.anchor)}else{t.insertNodesBefore(this.anchor)}this.children.push(t);if(this.isAttached){t.attached();return this.animateView(t,"enter")}};e.prototype.insert=function e(t,r){var n=this.children;var i=n.length;if(t===0&&i===0||t>=i){return this.add(r)}r.insertNodesBefore(n[t].firstChild);n.splice(t,0,r);if(this.isAttached){r.attached();return this.animateView(r,"enter")}};e.prototype.move=function e(t,r){if(t===r){return}var n=this.children;var i=n[t];i.removeNodes();i.insertNodesBefore(n[r].firstChild);n.splice(t,1);n.splice(r,0,i)};e.prototype.remove=function e(t,r,n){return this.removeAt(this.children.indexOf(t),r,n)};e.prototype.removeMany=function e(t,r,n){var i=this;var o=this.children;var a=t.length;var s=void 0;var u=[];t.forEach((function(e){if(n){e.removeNodes();return}var t=i.animateView(e,"leave");if(t){u.push(t.then((function(){return e.removeNodes()})))}else{e.removeNodes()}}));var l=function e(){if(i.isAttached){for(s=0;s<a;++s){t[s].detached()}}if(r){for(s=0;s<a;++s){t[s].returnToCache()}}for(s=0;s<a;++s){var n=o.indexOf(t[s]);if(n>=0){o.splice(n,1)}}};if(u.length>0){return Promise.all(u).then((function(){return l()}))}return l()};e.prototype.removeAt=function e(t,r,n){var i=this;var o=this.children[t];var a=function e(){t=i.children.indexOf(o);o.removeNodes();i.children.splice(t,1);if(i.isAttached){o.detached()}if(r){o.returnToCache()}return o};if(!n){var s=this.animateView(o,"leave");if(s){return s.then((function(){return a()}))}}return a()};e.prototype.removeAll=function e(t,r){var n=this;var i=this.children;var o=i.length;var a=void 0;var s=[];i.forEach((function(e){if(r){e.removeNodes();return}var t=n.animateView(e,"leave");if(t){s.push(t.then((function(){return e.removeNodes()})))}else{e.removeNodes()}}));var u=function e(){if(n.isAttached){for(a=0;a<o;++a){i[a].detached()}}if(t){for(a=0;a<o;++a){var r=i[a];if(r){r.returnToCache()}}}n.children=[]};if(s.length>0){return Promise.all(s).then((function(){return u()}))}return u()};e.prototype.attached=function e(){var t=void 0;var r=void 0;var n=void 0;var i=void 0;if(this.isAttached){return}this.isAttached=true;n=this.children;for(t=0,r=n.length;t<r;++t){i=n[t];i.attached();this.animateView(i,"enter")}};e.prototype.detached=function e(){var t=void 0;var r=void 0;var n=void 0;if(this.isAttached){this.isAttached=false;n=this.children;for(t=0,r=n.length;t<r;++t){n[t].detached()}}};e.prototype.projectTo=function e(t){var r=this;this.projectToSlots=t;this.add=this._projectionAdd;this.insert=this._projectionInsert;this.move=this._projectionMove;this.remove=this._projectionRemove;this.removeAt=this._projectionRemoveAt;this.removeMany=this._projectionRemoveMany;this.removeAll=this._projectionRemoveAll;this.children.forEach((function(e){return _e.distributeView(e,t,r)}))};e.prototype._projectionAdd=function e(t){_e.distributeView(t,this.projectToSlots,this);this.children.push(t);if(this.isAttached){t.attached()}};e.prototype._projectionInsert=function e(t,r){if(t===0&&!this.children.length||t>=this.children.length){this.add(r)}else{_e.distributeView(r,this.projectToSlots,this,t);this.children.splice(t,0,r);if(this.isAttached){r.attached()}}};e.prototype._projectionMove=function e(t,r){if(t===r){return}var n=this.children;var i=n[t];_e.undistributeView(i,this.projectToSlots,this);_e.distributeView(i,this.projectToSlots,this,r);n.splice(t,1);n.splice(r,0,i)};e.prototype._projectionRemove=function e(t,r){_e.undistributeView(t,this.projectToSlots,this);this.children.splice(this.children.indexOf(t),1);if(this.isAttached){t.detached()}if(r){t.returnToCache()}};e.prototype._projectionRemoveAt=function e(t,r){var n=this.children[t];_e.undistributeView(n,this.projectToSlots,this);this.children.splice(t,1);if(this.isAttached){n.detached()}if(r){n.returnToCache()}};e.prototype._projectionRemoveMany=function e(t,r){var n=this;t.forEach((function(e){return n.remove(e,r)}))};e.prototype._projectionRemoveAll=function e(t){_e.undistributeAll(this.projectToSlots,this);var r=this.children;var n=r.length;for(var i=0;i<n;++i){if(t){r[i].returnToCache()}else if(this.isAttached){r[i].detached()}}this.children=[]};return e}();var Re=(0,q.resolver)(S=function(){function e(){}e.prototype.get=function e(t,r){var n=r.__providerId__;return n in t?t[n]:t[n]=t.invoke(r)};return e}())||S;var Te=new Re;function je(e){if(e===I.DOM.Element){return this.element}if(e===He){if(this.boundViewFactory){return this.boundViewFactory}var t=this.instruction.viewFactory;var r=this.partReplacements;if(r){t=r[t.part]||t}this.boundViewFactory=new He(this,t,r);return this.boundViewFactory}if(e===Pe){if(this.viewSlot===undefined){this.viewSlot=new Pe(this.element,this.instruction.anchorIsContainer);this.element.isContentProjectionSource=this.instruction.lifting;this.children.push(this.viewSlot)}return this.viewSlot}if(e===te){return this.elementEvents||(this.elementEvents=new te(this.element))}if(e===G){return this.compositionTransaction||(this.compositionTransaction=this.parent.get(e))}if(e===ke){return this.viewResources}if(e===se){return this.instruction}return this.superGet(e)}function Le(e,t,r,n,i,o){var a=e.createChild();var s=void 0;var u=void 0;a.element=t;a.instruction=r;a.children=n;a.viewResources=o;a.partReplacements=i;s=r.providers;u=s.length;while(u--){a._resolvers.set(s[u],Te)}a.superGet=a.get;a.get=je;return a}function Ve(e){return this._element.hasAttribute(e)}function Ne(e){return this._element.getAttribute(e)}function Ie(e,t){this._element.setAttribute(e,t)}function Be(e,t){var r=I.DOM.createComment("anchor");if(t){var n=e.firstChild;if(n&&n.tagName==="AU-CONTENT"){r.contentElement=n}r._element=e;r.hasAttribute=Ve;r.getAttribute=Ne;r.setAttribute=Ie}I.DOM.replaceNode(r,e);return r}function De(e,t,r,n,i,o,a,s,u){var l=r.behaviorInstructions;var c=r.expressions;var f=void 0;var h=void 0;var d=void 0;var p=void 0;var v=void 0;if(r.contentExpression){i.push(r.contentExpression.createBinding(t.nextSibling));t.nextSibling.auInterpolationTarget=true;t.parentNode.removeChild(t);return}if(r.shadowSlot){var g=I.DOM.createComment("slot");var m=void 0;if(r.slotDestination){m=new xe(g,r.slotName,r.slotDestination,r.slotFallbackFactory)}else{m=new Ce(g,r.slotName,r.slotFallbackFactory)}I.DOM.replaceNode(g,t);a[r.slotName]=m;n.push(m);return}if(r.letElement){for(h=0,d=c.length;h<d;++h){i.push(c[h].createBinding())}t.parentNode.removeChild(t);return}if(l.length){if(!r.anchorIsContainer){t=Be(t,r.elementInstruction)}e[r.injectorId]=f=Le(e[r.parentInjectorId],t,r,o,s,u);for(h=0,d=l.length;h<d;++h){p=l[h];v=p.type.create(f,p,t,i);n.push(v)}}for(h=0,d=c.length;h<d;++h){i.push(c[h].createBinding(t))}}function Fe(e,t){var r=e.split(";");var n=void 0;var i=void 0;var o=void 0;var a=void 0;var s=void 0;t=t||{};for(i=0;i<r.length;i++){o=r[i];n=o.indexOf(":");a=o.substring(0,n).trim();s=o.substring(n+1).trim();t[a]=s}return t}function qe(e){var t="";for(var r in e){t+=r+":"+e[r]+";"}return t}function ze(e,t,r,n,i,o){var a=r.behaviorInstructions;var s=r.expressions;var u=r.providers;var l=r.values;var c=void 0;var f=void 0;var h=void 0;var d=void 0;var p=void 0;c=u.length;while(c--){e._resolvers.set(u[c],Te)}for(var v in l){p=t.getAttribute(v);if(p){if(v==="class"){t.setAttribute("class",p+" "+l[v])}else if(v==="style"){var g=Fe(l[v]);Fe(p,g);t.setAttribute("style",qe(g))}}else{t.setAttribute(v,l[v])}}if(a.length){for(c=0,f=a.length;c<f;++c){h=a[c];d=h.type.create(e,h,t,i);if(d.contentView){o.push(d.contentView)}n.push(d)}}for(c=0,f=s.length;c<f;++c){i.push(s[c].createBinding(t))}}var He=t.BoundViewFactory=function(){function e(e,t,r){this.parentContainer=e;this.viewFactory=t;this.factoryCreateInstruction={partReplacements:r}}e.prototype.create=function e(){var t=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);t._isUserControlled=true;return t};e.prototype.setCacheSize=function e(t,r){this.viewFactory.setCacheSize(t,r)};e.prototype.getCachedView=function e(){return this.viewFactory.getCachedView()};e.prototype.returnViewToCache=function e(t){this.viewFactory.returnViewToCache(t)};n(e,[{key:"isCaching",get:function e(){return this.viewFactory.isCaching}}]);return e}();var Ue=t.ViewFactory=function(){function e(e,t,r){this.isCaching=false;this.template=e;this.instructions=t;this.resources=r;this.cacheSize=-1;this.cache=null}e.prototype.setCacheSize=function e(t,r){if(t){if(t==="*"){t=Number.MAX_VALUE}else if(typeof t==="string"){t=parseInt(t,10)}}if(this.cacheSize===-1||!r){this.cacheSize=t}if(this.cacheSize>0){this.cache=[]}else{this.cache=null}this.isCaching=this.cacheSize>0};e.prototype.getCachedView=function e(){return this.cache!==null?this.cache.pop()||null:null};e.prototype.returnViewToCache=function e(t){if(t.isAttached){t.detached()}if(t.isBound){t.unbind()}if(this.cache!==null&&this.cache.length<this.cacheSize){t.fromCache=true;this.cache.push(t)}};e.prototype.create=function e(t,r,n){r=r||oe.normal;var i=this.getCachedView();if(i!==null){return i}var o=r.enhance?this.template:this.template.cloneNode(true);var a=o.querySelectorAll(".au-target");var s=this.instructions;var u=this.resources;var l=[];var c=[];var f=[];var h=Object.create(null);var d={root:t};var p=r.partReplacements;var v=void 0;var g=void 0;var m=void 0;var y=void 0;var b=void 0;this.resources._invokeHook("beforeCreate",this,t,o,r);if(n&&this.surrogateInstruction!==null){ze(t,n,this.surrogateInstruction,l,c,f)}if(r.enhance&&o.hasAttribute("au-target-id")){y=o;b=s[y.getAttribute("au-target-id")];De(d,y,b,l,c,f,h,p,u)}for(v=0,g=a.length;v<g;++v){y=a[v];b=s[y.getAttribute("au-target-id")];De(d,y,b,l,c,f,h,p,u)}m=new Ae(t,this,o,l,c,f,h);if(!r.initiatedByBehavior){m.created()}this.resources._invokeHook("afterCreate",m);return m};return e}();var $e=0;function Qe(){return++$e}var We=0;function Ge(){return(++We).toString()}function Ke(e){var t=e.getAttribute("class");var r=Ge();e.setAttribute("class",t?t+" au-target":"au-target");e.setAttribute("au-target-id",r);return r}function Xe(e,t,r,n,i){var o=I.DOM.createElement("au-shadow-slot");I.DOM.replaceNode(o,r);var a=Ke(o);var s=se.shadowSlot(i);s.slotName=r.getAttribute("name")||_e.defaultSlotKey;s.slotDestination=r.getAttribute("slot");if(r.innerHTML.trim()){var u=I.DOM.createDocumentFragment();var l=void 0;while(l=r.firstChild){u.appendChild(l)}s.slotFallbackFactory=e.compile(u,t)}n[a]=s;return o}var Ye=ye.prototype.createLetExpressions;var Je=t.ViewCompiler=function(){e.inject=function e(){return[ye,ke]};function e(e,t){this.bindingLanguage=e;this.resources=t}e.prototype.compile=function e(t,r,n){r=r||this.resources;n=n||ie.normal;t=typeof t==="string"?I.DOM.createTemplateFromMarkup(t):t;var i=void 0;var o=void 0;var a=void 0;if(t.content){o=t.getAttribute("part");a=t.getAttribute("view-cache");i=I.DOM.adoptNode(t.content)}else{i=t}n.targetShadowDOM=n.targetShadowDOM&&I.FEATURE.shadowDOM;r._invokeHook("beforeCompile",i,r,n);var s={};this._compileNode(i,r,s,t,"root",!n.targetShadowDOM);var u=i.firstChild;if(u&&u.nodeType===1){var l=u.getAttribute("au-target-id");if(l){var c=s[l];if(c.shadowSlot||c.lifting||c.elementInstruction&&!c.elementInstruction.anchorIsContainer){i.insertBefore(I.DOM.createComment("view"),u)}}}var f=new Ue(i,s,r);f.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(t,r):null;f.part=o;if(a){f.setCacheSize(a)}r._invokeHook("afterCompile",f);return f};e.prototype._compileNode=function e(t,r,n,i,o,a){switch(t.nodeType){case 1:return this._compileElement(t,r,n,i,o,a);case 3:var s=r.getBindingLanguage(this.bindingLanguage).inspectTextContent(r,t.wholeText);if(s){var u=I.DOM.createElement("au-marker");var l=Ke(u);(t.parentNode||i).insertBefore(u,t);t.textContent=" ";n[l]=se.contentExpression(s);while(t.nextSibling&&t.nextSibling.nodeType===3){(t.parentNode||i).removeChild(t.nextSibling)}}else{while(t.nextSibling&&t.nextSibling.nodeType===3){t=t.nextSibling}}return t.nextSibling;case 11:var c=t.firstChild;while(c){c=this._compileNode(c,r,n,t,o,a)}break;default:break}return t.nextSibling};e.prototype._compileSurrogate=function e(t,r){var n=t.tagName.toLowerCase();var i=t.attributes;var o=r.getBindingLanguage(this.bindingLanguage);var a=void 0;var s=void 0;var u=void 0;var l=void 0;var c=void 0;var f=void 0;var h=void 0;var d=void 0;var p=void 0;var v=void 0;var g=[];var m=void 0;var y=[];var b={};var w=false;var x=[];for(l=0,c=i.length;l<c;++l){f=i[l];h=f.name;d=f.value;p=o.inspectAttribute(r,n,h,d);v=r.getAttribute(p.attrName);if(v){a=r.mapAttribute(p.attrName);if(a){s=v.attributes[a];if(s){p.defaultBindingMode=s.defaultBindingMode;if(!p.command&&!p.expression){p.command=s.hasOptions?"options":null}if(p.command&&p.command!=="options"&&v.primaryProperty){var C=v.primaryProperty;h=p.attrName=C.attribute;p.defaultBindingMode=C.defaultBindingMode}}}}u=o.createAttributeInstruction(r,t,p,undefined,v);if(u){if(u.alteredAttr){v=r.getAttribute(u.attrName)}if(u.discrete){g.push(u)}else{if(v){u.type=v;this._configureProperties(u,r);if(v.liftsContent){throw new Error("You cannot place a template controller on a surrogate element.")}else{y.push(u)}}else{g.push(u.attributes[u.attrName])}}}else{if(v){u=oe.attribute(h,v);u.attributes[r.mapAttribute(h)]=d;if(v.liftsContent){throw new Error("You cannot place a template controller on a surrogate element.")}else{y.push(u)}}else if(h!=="id"&&h!=="part"&&h!=="replace-part"){w=true;b[h]=d}}}if(g.length||y.length||w){for(l=0,c=y.length;l<c;++l){u=y[l];u.type.compile(this,r,t,u);x.push(u.type.target)}for(l=0,c=g.length;l<c;++l){m=g[l];if(m.attrToRemove!==undefined){t.removeAttribute(m.attrToRemove)}}return se.surrogate(x,y,g,b)}return null};e.prototype._compileElement=function e(t,r,n,i,o,a){var s=t.tagName.toLowerCase();var u=t.attributes;var l=[];var c=void 0;var f=[];var h=[];var d=r.getBindingLanguage(this.bindingLanguage);var p=void 0;var v=void 0;var g=void 0;var m=void 0;var y=void 0;var b=void 0;var w=void 0;var x=void 0;var C=void 0;var _=void 0;var E=void 0;var S=void 0;var O=void 0;var k=void 0;var A=void 0;var M=void 0;var P=void 0;if(s==="slot"){if(a){t=Xe(this,r,t,n,o)}return t.nextSibling}else if(s==="template"){if(!("content"in t)){throw new Error("You cannot place a template element within "+t.namespaceURI+" namespace")}v=this.compile(t,r);v.part=t.getAttribute("part")}else{g=r.getElement(t.getAttribute("as-element")||s);if(s==="let"&&!g&&d.createLetExpressions!==Ye){l=d.createLetExpressions(r,t);M=Ke(t);n[M]=se.letElement(l);return t.nextSibling}if(g){m=oe.element(t,g);g.processAttributes(this,r,t,u,m);f.push(m)}}for(b=0,w=u.length;b<w;++b){x=u[b];E=C=x.name;_=x.value;O=d.inspectAttribute(r,s,C,_);if(a&&O.attrName==="slot"){O.attrName=C="au-slot"}g=r.getAttribute(O.attrName);y=null;if(g){A=r.mapAttribute(O.attrName);if(A){k=g.attributes[A];if(k){O.defaultBindingMode=k.defaultBindingMode;if(!O.command&&!O.expression){O.command=k.hasOptions?"options":null}if(O.command&&O.command!=="options"&&g.primaryProperty){var R=g.primaryProperty;C=O.attrName=R.attribute;O.defaultBindingMode=R.defaultBindingMode}}}}else if(m){y=m.type.attributes[O.attrName];if(y){O.defaultBindingMode=y.defaultBindingMode}}if(y){S=d.createAttributeInstruction(r,t,O,m)}else{S=d.createAttributeInstruction(r,t,O,undefined,g)}if(S){if(S.alteredAttr){g=r.getAttribute(S.attrName)}if(S.discrete){l.push(S)}else{if(g){S.type=g;this._configureProperties(S,r);if(g.liftsContent){S.originalAttrName=E;p=S;break}else{f.push(S)}}else if(y){m.attributes[O.attrName].targetProperty=y.name}else{l.push(S.attributes[S.attrName])}}}else{if(g){S=oe.attribute(C,g);S.attributes[r.mapAttribute(C)]=_;if(g.liftsContent){S.originalAttrName=E;p=S;break}else{f.push(S)}}else if(y){m.attributes[C]=_}}}if(p){p.viewFactory=v;t=p.type.compile(this,r,t,p,i);M=Ke(t);n[M]=se.lifting(o,p)}else{var T=false;if(l.length||f.length){P=f.length?Qe():false;for(b=0,w=f.length;b<w;++b){S=f[b];S.type.compile(this,r,t,S,i);h.push(S.type.target);T=T||S.skipContentProcessing}for(b=0,w=l.length;b<w;++b){c=l[b];if(c.attrToRemove!==undefined){t.removeAttribute(c.attrToRemove)}}M=Ke(t);n[M]=se.normal(P,o,h,f,l,m)}if(T){return t.nextSibling}var j=t.firstChild;while(j){j=this._compileNode(j,r,n,t,P||o,a)}}return t.nextSibling};e.prototype._configureProperties=function e(t,r){var n=t.type;var o=t.attrName;var a=t.attributes;var s=void 0;var u=void 0;var l=void 0;var c=r.mapAttribute(o);if(c&&o in a&&c!==o){a[c]=a[o];delete a[o]}for(u in a){l=a[u];if(l!==null&&(typeof l==="undefined"?"undefined":i(l))==="object"){s=n.attributes[u];if(s!==undefined){l.targetProperty=s.name}else{l.targetProperty=u}}}};return e}();var Ze=t.ResourceModule=function(){function e(e){this.id=e;this.moduleInstance=null;this.mainResource=null;this.resources=null;this.viewStrategy=null;this.isInitialized=false;this.onLoaded=null;this.loadContext=null}e.prototype.initialize=function e(t){var r=this.mainResource;var n=this.resources;var i=this.viewStrategy;if(this.isInitialized){return}this.isInitialized=true;if(r!==undefined){r.metadata.viewStrategy=i;r.initialize(t)}for(var o=0,a=n.length;o<a;++o){r=n[o];r.metadata.viewStrategy=i;r.initialize(t)}};e.prototype.register=function e(t,r){var n=this.mainResource;var i=this.resources;if(n!==undefined){n.register(t,r);r=null}for(var o=0,a=i.length;o<a;++o){i[o].register(t,r);r=null}};e.prototype.load=function e(t,r){if(this.onLoaded!==null){return this.loadContext===r?Promise.resolve():this.onLoaded}var n=this.mainResource;var i=this.resources;var o=void 0;if(n!==undefined){o=new Array(i.length+1);o[0]=n.load(t,r);for(var a=0,s=i.length;a<s;++a){o[a+1]=i[a].load(t,r)}}else{o=new Array(i.length);for(var u=0,l=i.length;u<l;++u){o[u]=i[u].load(t,r)}}this.loadContext=r;this.onLoaded=Promise.all(o);return this.onLoaded};return e}();var et=t.ResourceDescription=function(){function e(e,t,r){if(!r){r=N.metadata.get(N.metadata.resource,t);if(!r){r=new vt;r.elementName=Y(e);N.metadata.define(N.metadata.resource,r,t)}}if(r instanceof vt){if(r.elementName===undefined){r.elementName=Y(e)}else if(r.attributeName===undefined){r.attributeName=Y(e)}else if(r.attributeName===null&&r.elementName===null){vt.convention(e,r)}}else if(!r.name){r.name=Y(e)}this.metadata=r;this.value=t}e.prototype.initialize=function e(t){this.metadata.initialize(t,this.value)};e.prototype.register=function e(t,r){this.metadata.register(t,r)};e.prototype.load=function e(t,r){return this.metadata.load(t,this.value,r)};return e}();var tt=t.ModuleAnalyzer=function(){function e(){this.cache=Object.create(null)}e.prototype.getAnalysis=function e(t){return this.cache[t]};e.prototype.analyze=function e(t,r,n){var i=void 0;var o=void 0;var a=void 0;var s=void 0;var u=void 0;var l=void 0;var c=[];var f=void 0;var h=void 0;var d=void 0;d=this.cache[t];if(d){return d}d=new Ze(t);this.cache[t]=d;if(typeof r==="function"){r={default:r}}if(n){i=new et(n,r[n])}for(u in r){l=r[u];if(u===n||typeof l!=="function"){continue}s=N.metadata.get(N.metadata.resource,l);if(s){if(s instanceof vt){ke.convention(l,s);if(s.attributeName===null&&s.elementName===null){vt.convention(u,s)}if(s.attributeName===null&&s.elementName===null){s.elementName=Y(u)}}if(!i&&s instanceof vt&&s.elementName!==null){i=new et(u,l,s)}else{c.push(new et(u,l,s))}}else if(le.decorates(l)){h=l}else if(l instanceof B.TemplateRegistryEntry){h=new de(t,l)}else{if(f=ke.convention(l)){if(f.elementName!==null&&!i){i=new et(u,l,f)}else{c.push(new et(u,l,f))}N.metadata.define(N.metadata.resource,f,l)}else if(f=vt.convention(u)){if(f.elementName!==null&&!i){i=new et(u,l,f)}else{c.push(new et(u,l,f))}N.metadata.define(N.metadata.resource,f,l)}else if(f=F.ValueConverterResource.convention(u)||F.BindingBehaviorResource.convention(u)||Z.convention(u)){c.push(new et(u,l,f));N.metadata.define(N.metadata.resource,f,l)}else if(!o){o=l;a=u}}}if(!i&&o){i=new et(a,o)}d.moduleInstance=r;d.mainResource=i;d.resources=c;d.viewStrategy=h;return d};return e}();var rt=V.getLogger("templating");function nt(e,t){if(t instanceof B.TemplateRegistryEntry){return Promise.resolve(t)}return e.loadTemplate(t)}var it=function(){function e(e){var t=this;e.then((function(e){return t.viewFactory=e}))}e.prototype.create=function e(t,r,n,i){return this.viewFactory.create(t,r,n,i)};e.prototype.setCacheSize=function e(t,r){this.viewFactory.setCacheSize(t,r)};e.prototype.getCachedView=function e(){return this.viewFactory.getCachedView()};e.prototype.returnViewToCache=function e(t){this.viewFactory.returnViewToCache(t)};n(e,[{key:"isCaching",get:function e(){return this.viewFactory.isCaching}}]);return e}();var ot=null;var at=t.ViewEngine=(k=O=function(){e.inject=function e(){return[B.Loader,q.Container,Je,tt,ke]};function e(e,t,r,n,i){this.loader=e;this.container=t;this.viewCompiler=r;this.moduleAnalyzer=n;this.appResources=i;this._pluginMap={};if(ot===null){ot=new vt;ot.attributeName="au-slot";N.metadata.define(N.metadata.resource,ot,we)}ot.initialize(t,we);ot.register(i)}e.prototype.addResourcePlugin=function e(t,r){var n=t.replace(".","")+"-resource-plugin";this._pluginMap[t]=n;this.loader.addPlugin(n,r)};e.prototype.loadViewFactory=function e(t,r,n,i){var o=this;n=n||new ne;return nt(this.loader,t).then((function(e){var t=e.address;if(e.onReady){if(!n.hasDependency(t)){n.addDependency(t);return e.onReady}if(e.template===null){return e.onReady}return Promise.resolve(new it(e.onReady))}n.addDependency(t);e.onReady=o.loadTemplateResources(e,r,n,i).then((function(t){e.resources=t;if(e.template===null){return e.factory=null}var n=o.viewCompiler.compile(e.template,t,r);return e.factory=n}));return e.onReady}))};e.prototype.loadTemplateResources=function t(r,n,i,o){var a=new ke(this.appResources,r.address);var s=r.dependencies;var u=void 0;var l=void 0;n=n||ie.normal;if(s.length===0&&!n.associatedModuleId){return Promise.resolve(a)}u=s.map((function(e){return e.src}));l=s.map((function(e){return e.name}));rt.debug("importing resources for "+r.address,u);if(o){var c=N.metadata.get(e.viewModelRequireMetadataKey,o);if(c){var f=u.length;for(var h=0,d=c.length;h<d;++h){var p=c[h];var v=typeof p==="function"?N.Origin.get(p).moduleId:(0,D.relativeToFile)(p.src||p,r.address);if(u.indexOf(v)===-1){u.push(v);l.push(p.as)}}rt.debug("importing ViewModel resources for "+n.associatedModuleId,u.slice(f))}}return this.importViewResources(u,l,a,n,i)};e.prototype.importViewModelResource=function e(t,r){var n=this;return this.loader.loadModule(t).then((function(e){var i=N.Origin.get(e).moduleId;var o=n.moduleAnalyzer.analyze(i,e,r);if(!o.mainResource){throw new Error('No view model found in module "'+t+'".')}o.initialize(n.container);return o.mainResource}))};e.prototype.importViewResources=function e(t,r,n,i,o){var a=this;o=o||new ne;i=i||ie.normal;t=t.map((function(e){return a._applyLoaderPlugin(e)}));return this.loader.loadAllModules(t).then((function(e){var t=void 0;var s=void 0;var u=void 0;var l=void 0;var c=void 0;var f=void 0;var h=a.container;var d=a.moduleAnalyzer;var p=new Array(e.length);for(t=0,s=e.length;t<s;++t){c=e[t];l=N.Origin.get(c).moduleId;u=d.analyze(l,c);u.initialize(h);u.register(n,r[t]);p[t]=u}if(i.associatedModuleId){f=d.getAnalysis(i.associatedModuleId);if(f){f.register(n)}}for(t=0,s=p.length;t<s;++t){p[t]=p[t].load(h,o)}return Promise.all(p).then((function(){return n}))}))};e.prototype._applyLoaderPlugin=function e(t){var r=t.lastIndexOf(".");if(r!==-1){var n=t.substring(r);var i=this._pluginMap[n];if(i===undefined){return t}return this.loader.applyPluginToUrl(t,i)}return t};return e}(),O.viewModelRequireMetadataKey="aurelia:view-model-require",k);var st=t.Controller=function(){function e(e,t,r,n){this.behavior=e;this.instruction=t;this.viewModel=r;this.isAttached=false;this.view=null;this.isBound=false;this.scope=null;this.container=n;this.elementEvents=n.elementEvents||null;var i=e.observerLocator.getOrCreateObserversLookup(r);var o=e.handlesBind;var a=t.attributes;var s=this.boundProperties=[];var u=e.properties;var l=void 0;var c=void 0;e._ensurePropertiesDefined(r,i);for(l=0,c=u.length;l<c;++l){u[l]._initialize(r,i,a,o,s)}}e.prototype.created=function e(t){if(this.behavior.handlesCreated){this.viewModel.created(t,this.view)}};e.prototype.automate=function e(t,r){this.view.bindingContext=this.viewModel;this.view.overrideContext=t||(0,F.createOverrideContext)(this.viewModel);this.view._isUserControlled=true;if(this.behavior.handlesCreated){this.viewModel.created(r||null,this.view)}this.bind(this.view)};e.prototype.bind=function e(t){var r=this.behavior.handlesBind;var n=this.boundProperties;var i=void 0;var o=void 0;var a=void 0;var s=void 0;var u=void 0;if(this.isBound){if(this.scope===t){return}this.unbind()}this.isBound=true;this.scope=t;for(i=0,o=n.length;i<o;++i){a=n[i];s=a.observer;u=s.selfSubscriber;s.publishing=false;if(r){s.selfSubscriber=null}a.binding.bind(t);s.call();s.publishing=true;s.selfSubscriber=u}var l=void 0;if(this.view!==null){if(r){this.view.viewModelScope=t}if(this.viewModel===t.overrideContext.bindingContext){l=t.overrideContext}else if(this.instruction.inheritBindingContext){l=(0,F.createOverrideContext)(this.viewModel,t.overrideContext)}else{l=(0,F.createOverrideContext)(this.viewModel);l.__parentOverrideContext=t.overrideContext}this.view.bind(this.viewModel,l)}else if(r){l=t.overrideContext;if(t.overrideContext.__parentOverrideContext!==undefined&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements){l=Object.assign({},t.overrideContext);l.parentOverrideContext=t.overrideContext.__parentOverrideContext}this.viewModel.bind(t.bindingContext,l)}};e.prototype.unbind=function e(){if(this.isBound){var t=this.boundProperties;var r=void 0;var n=void 0;this.isBound=false;this.scope=null;if(this.view!==null){this.view.unbind()}if(this.behavior.handlesUnbind){this.viewModel.unbind()}if(this.elementEvents!==null){this.elementEvents.disposeAll()}for(r=0,n=t.length;r<n;++r){t[r].binding.unbind()}}};e.prototype.attached=function e(){if(this.isAttached){return}this.isAttached=true;if(this.behavior.handlesAttached){this.viewModel.attached()}if(this.view!==null){this.view.attached()}};e.prototype.detached=function e(){if(this.isAttached){this.isAttached=false;if(this.view!==null){this.view.detached()}if(this.behavior.handlesDetached){this.viewModel.detached()}}};return e}();var ut=t.BehaviorPropertyObserver=(A=(0,F.subscriberCollection)(),A(M=function(){function e(e,t,r,n,i){this.taskQueue=e;this.obj=t;this.propertyName=r;this.notqueued=true;this.publishing=false;this.selfSubscriber=n;this.currentValue=this.oldValue=i}e.prototype.getValue=function e(){return this.currentValue};e.prototype.setValue=function e(t){var r=this.currentValue;if(!Object.is(t,r)){this.oldValue=r;this.currentValue=t;if(this.publishing&&this.notqueued){if(this.taskQueue.flushing){this.call()}else{this.notqueued=false;this.taskQueue.queueMicroTask(this)}}}};e.prototype.call=function e(){var t=this.oldValue;var r=this.currentValue;this.notqueued=true;if(Object.is(r,t)){return}if(this.selfSubscriber){this.selfSubscriber(r,t)}this.callSubscribers(r,t);this.oldValue=r};e.prototype.subscribe=function e(t,r){this.addSubscriber(t,r)};e.prototype.unsubscribe=function e(t,r){this.removeSubscriber(t,r)};return e}())||M);function lt(e,t){var r=e.__observers__;if(r===undefined){var n=Object.getPrototypeOf(e).constructor;var i=N.metadata.get(N.metadata.resource,n);if(!i.isInitialized){i.initialize(q.Container.instance||new q.Container,e.constructor)}r=i.observerLocator.getOrCreateObserversLookup(e);i._ensurePropertiesDefined(e,r)}return r[t]}var ct=t.BindableProperty=function(){function e(e){if(typeof e==="string"){this.name=e}else{Object.assign(this,e)}this.attribute=this.attribute||Y(this.name);var t=this.defaultBindingMode;if(t===null||t===undefined){this.defaultBindingMode=F.bindingMode.oneWay}else if(typeof t==="string"){this.defaultBindingMode=F.bindingMode[t]||F.bindingMode.oneWay}this.changeHandler=this.changeHandler||null;this.owner=null;this.descriptor=null}e.prototype.registerWith=function e(t,r,n){r.properties.push(this);r.attributes[this.attribute]=this;this.owner=r;if(n){this.descriptor=n;return this._configureDescriptor(n)}return undefined};e.prototype._configureDescriptor=function e(t){var r=this.name;t.configurable=true;t.enumerable=true;if("initializer"in t){this.defaultValue=t.initializer;delete t.initializer;delete t.writable}if("value"in t){this.defaultValue=t.value;delete t.value;delete t.writable}t.get=function(){return lt(this,r).getValue()};t.set=function(e){lt(this,r).setValue(e)};t.get.getObserver=function(e){return lt(e,r)};return t};e.prototype.defineOn=function e(t,r){var n=this.name;var i=void 0;if(this.changeHandler===null){i=n+"Changed";if(i in t.prototype){this.changeHandler=i}}if(this.descriptor===null){Object.defineProperty(t.prototype,n,this._configureDescriptor(r,{}))}};e.prototype.createObserver=function e(t){var r=null;var n=this.defaultValue;var i=this.changeHandler;var o=this.name;var a=void 0;if(this.hasOptions){return undefined}if(i in t){if("propertyChanged"in t){r=function e(r,n){t[i](r,n);t.propertyChanged(o,r,n)}}else{r=function e(r,n){return t[i](r,n)}}}else if("propertyChanged"in t){r=function e(r,n){return t.propertyChanged(o,r,n)}}else if(i!==null){throw new Error("Change handler "+i+" was specified but not declared on the class.")}if(n!==undefined){a=typeof n==="function"?n.call(t):n}return new ut(this.owner.taskQueue,t,this.name,r,a)};e.prototype._initialize=function e(t,r,n,i,o){var a=void 0;var s=void 0;var u=void 0;var l=this.defaultValue;if(this.isDynamic){for(var c in n){this._createDynamicProperty(t,r,i,c,n[c],o)}}else if(!this.hasOptions){s=r[this.name];if(n!==null){a=s.selfSubscriber;u=n[this.attribute];if(i){s.selfSubscriber=null}if(typeof u==="string"){t[this.name]=u;s.call()}else if(u){o.push({observer:s,binding:u.createBinding(t)})}else if(l!==undefined){s.call()}s.selfSubscriber=a}s.publishing=true}};e.prototype._createDynamicProperty=function e(t,r,n,i,o,a){var s=i+"Changed";var u=null;var l=void 0;var c=void 0;if(s in t){if("propertyChanged"in t){u=function e(r,n){t[s](r,n);t.propertyChanged(i,r,n)}}else{u=function e(r,n){return t[s](r,n)}}}else if("propertyChanged"in t){u=function e(r,n){return t.propertyChanged(i,r,n)}}l=r[i]=new ut(this.owner.taskQueue,t,i,u);Object.defineProperty(t,i,{configurable:true,enumerable:true,get:l.getValue.bind(l),set:l.setValue.bind(l)});if(n){l.selfSubscriber=null}if(typeof o==="string"){t[i]=o;l.call()}else if(o){c={observer:l,binding:o.createBinding(t)};a.push(c)}l.publishing=true;l.selfSubscriber=u};return e}();var ft=0;function ht(){return++ft}function dt(){return true}function pt(){}var vt=t.HtmlBehaviorResource=function(){function e(){this.elementName=null;this.attributeName=null;this.attributeDefaultBindingMode=undefined;this.liftsContent=false;this.targetShadowDOM=false;this.shadowDOMOptions=null;this.processAttributes=pt;this.processContent=dt;this.usesShadowDOM=false;this.childBindings=null;this.hasDynamicOptions=false;this.containerless=false;this.properties=[];this.attributes={};this.isInitialized=false;this.primaryProperty=null}e.convention=function t(r,n){var i=void 0;if(r.endsWith("CustomAttribute")){i=n||new e;i.attributeName=Y(r.substring(0,r.length-15))}if(r.endsWith("CustomElement")){i=n||new e;i.elementName=Y(r.substring(0,r.length-13))}return i};e.prototype.addChildBinding=function e(t){if(this.childBindings===null){this.childBindings=[]}this.childBindings.push(t)};e.prototype.initialize=function e(t,r){var n=r.prototype;var i=this.properties;var o=this.attributeName;var a=this.attributeDefaultBindingMode;var s=void 0;var u=void 0;var l=void 0;if(this.isInitialized){return}this.isInitialized=true;r.__providerId__=ht();this.observerLocator=t.get(F.ObserverLocator);this.taskQueue=t.get(z.TaskQueue);this.target=r;this.usesShadowDOM=this.targetShadowDOM&&I.FEATURE.shadowDOM;this.handlesCreated="created"in n;this.handlesBind="bind"in n;this.handlesUnbind="unbind"in n;this.handlesAttached="attached"in n;this.handlesDetached="detached"in n;this.htmlName=this.elementName||this.attributeName;if(o!==null){if(i.length===0){new ct({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:o,defaultBindingMode:a}).registerWith(r,this)}l=i[0];if(i.length===1&&l.name==="value"){l.isDynamic=l.hasOptions=this.hasDynamicOptions;l.defineOn(r,this)}else{for(s=0,u=i.length;s<u;++s){i[s].defineOn(r,this);if(i[s].primaryProperty){if(this.primaryProperty){throw new Error("Only one bindable property on a custom element can be defined as the default")}this.primaryProperty=i[s]}}l=new ct({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:o,defaultBindingMode:a});l.hasOptions=true;l.registerWith(r,this)}}else{for(s=0,u=i.length;s<u;++s){i[s].defineOn(r,this)}this._copyInheritedProperties(t,r)}};e.prototype.register=function e(t,r){var n=this;if(this.attributeName!==null){t.registerAttribute(r||this.attributeName,this,this.attributeName);if(Array.isArray(this.aliases)){this.aliases.forEach((function(e){t.registerAttribute(e,n,n.attributeName)}))}}if(this.elementName!==null){t.registerElement(r||this.elementName,this)}};e.prototype.load=function e(t,r,n,i,o){var a=this;var s=void 0;if(this.elementName!==null){i=t.get(ge).getViewStrategy(i||this.viewStrategy||r);s=new ie(this.targetShadowDOM,true);if(!i.moduleId){i.moduleId=N.Origin.get(r).moduleId}return i.loadViewFactory(t.get(at),s,n,r).then((function(e){if(!o||!a.viewFactory){a.viewFactory=e}return e}))}return Promise.resolve(this)};e.prototype.compile=function e(t,r,n,i,o){if(this.liftsContent){if(!i.viewFactory){var a=I.DOM.createElement("template");var s=I.DOM.createDocumentFragment();var u=n.getAttribute("view-cache");var l=n.getAttribute("part");n.removeAttribute(i.originalAttrName);I.DOM.replaceNode(a,n,o);s.appendChild(n);i.viewFactory=t.compile(s,r);if(l){i.viewFactory.part=l;n.removeAttribute("part")}if(u){i.viewFactory.setCacheSize(u);n.removeAttribute("view-cache")}n=a}}else if(this.elementName!==null){var c={};if(this.processContent(t,r,n,i)&&n.hasChildNodes()){var f=n.firstChild;var h=this.usesShadowDOM?null:I.DOM.createElement("au-content");var d=void 0;var p=void 0;while(f){d=f.nextSibling;if(f.tagName==="TEMPLATE"&&(p=f.getAttribute("replace-part"))){c[p]=t.compile(f,r);I.DOM.removeNode(f,o);i.partReplacements=c}else if(h!==null){if(f.nodeType===3&&J(f)){I.DOM.removeNode(f,o)}else{h.appendChild(f)}}f=d}if(h!==null&&h.hasChildNodes()){n.appendChild(h)}i.skipContentProcessing=false}else{i.skipContentProcessing=true}}else if(!this.processContent(t,r,n,i)){i.skipContentProcessing=true}return n};e.prototype.create=function e(t,r,n,i){var o=void 0;var a=null;r=r||oe.normal;n=n||null;i=i||null;if(this.elementName!==null&&n){if(this.usesShadowDOM){o=n.attachShadow(this.shadowDOMOptions);t.registerInstance(I.DOM.boundary,o)}else{o=n;if(this.targetShadowDOM){t.registerInstance(I.DOM.boundary,o)}}}if(n!==null){n.au=a=n.au||{}}var s=r.viewModel||t.get(this.target);var u=new st(this,r,s,t);var l=this.childBindings;var c=void 0;if(this.liftsContent){a.controller=u}else if(this.elementName!==null){c=r.viewFactory||this.viewFactory;t.viewModel=s;if(c){u.view=c.create(t,r,n)}if(n!==null){a.controller=u;if(u.view){if(!this.usesShadowDOM&&(n.childNodes.length===1||n.contentElement)){var f=n.childNodes[0]||n.contentElement;u.view.contentView={fragment:f};f.parentNode&&I.DOM.removeNode(f)}if(r.anchorIsContainer){if(l!==null){for(var h=0,d=l.length;h<d;++h){u.view.addBinding(l[h].create(n,s,u))}}u.view.appendNodesTo(o)}else{u.view.insertNodesBefore(o)}}else if(l!==null){for(var p=0,v=l.length;p<v;++p){i.push(l[p].create(n,s,u))}}}else if(u.view){u.view.controller=u;if(l!==null){for(var g=0,m=l.length;g<m;++g){u.view.addBinding(l[g].create(r.host,s,u))}}}else if(l!==null){for(var y=0,b=l.length;y<b;++y){i.push(l[y].create(r.host,s,u))}}}else if(l!==null){for(var w=0,x=l.length;w<x;++w){i.push(l[w].create(n,s,u))}}if(a!==null){a[this.htmlName]=u}if(r.initiatedByBehavior&&c){u.view.created()}return u};e.prototype._ensurePropertiesDefined=function e(t,r){var n=void 0;var i=void 0;var o=void 0;var a=void 0;if("__propertiesDefined__"in r){return}r.__propertiesDefined__=true;n=this.properties;for(i=0,o=n.length;i<o;++i){a=n[i].createObserver(t);if(a!==undefined){r[a.propertyName]=a}}};e.prototype._copyInheritedProperties=function e(t,r){var n=this;var i=void 0;var o=r;while(true){var a=Object.getPrototypeOf(r.prototype);r=a&&a.constructor;if(!r){return}i=N.metadata.getOwn(N.metadata.resource,r);if(i){break}}i.initialize(t,r);var s=function e(t,r){var a=i.properties[t];if(n.properties.some((function(e){return e.name===a.name}))){return"continue"}new ct(a).registerWith(o,n)};for(var u=0,l=i.properties.length;u<l;++u){var c=s(u,l);if(c==="continue")continue}};return e}();function gt(e,t){return function(r,n,i){var o=typeof n==="string"?r.constructor:r;var a=N.metadata.getOrCreateOwn(N.metadata.resource,vt,o);if(typeof e==="string"){e={selector:e,name:n}}if(i){i.writable=true;i.configurable=true}e.all=t;a.addChildBinding(new bt(e))}}function mt(e){return gt(e,true)}function yt(e){return gt(e,false)}var bt=function(){function e(e){this.name=e.name;this.changeHandler=e.changeHandler||this.name+"Changed";this.selector=e.selector;this.all=e.all}e.prototype.create=function e(t,r,n){return new _t(this.selector,t,this.name,r,n,this.changeHandler,this.all)};return e}();var wt=[];function xt(e,t,r){var n=e.get(t);if(!n){n=[];e.set(t,n)}n.push(r)}function Ct(e,t){var r=t.binders;var n=r.length;var i=new Map;for(var o=0,a=e.length;o<a;++o){var s=e[o];var u=s.addedNodes;var l=s.removedNodes;for(var c=0,f=l.length;c<f;++c){var h=l[c];if(h.nodeType===1){for(var d=0;d<n;++d){var p=r[d];if(p.onRemove(h)){xt(i,p,s)}}}}for(var v=0,g=u.length;v<g;++v){var m=u[v];if(m.nodeType===1){for(var y=0;y<n;++y){var b=r[y];if(b.onAdd(m)){xt(i,b,s)}}}}}i.forEach((function(e,t){if(t.isBound&&t.changeHandler!==null){t.viewModel[t.changeHandler](e)}}))}var _t=function(){function e(e,t,r,n,i,o,a){this.selector=e;this.viewHost=t;this.property=r;this.viewModel=n;this.controller=i;this.changeHandler=o in n?o:null;this.usesShadowDOM=i.behavior.usesShadowDOM;this.all=a;if(!this.usesShadowDOM&&i.view&&i.view.contentView){this.contentView=i.view.contentView}else{this.contentView=null}this.source=null;this.isBound=false}e.prototype.matches=function e(t){if(t.matches(this.selector)){if(this.contentView===null){return true}var r=this.contentView;var n=t.auAssignedSlot;if(n&&n.projectFromAnchors){var i=n.projectFromAnchors;for(var o=0,a=i.length;o<a;++o){if(i[o].auOwnerView===r){return true}}return false}return t.auOwnerView===r}return false};e.prototype.bind=function e(t){if(this.isBound){if(this.source===t){return}this.source=t}this.isBound=true;var r=this.viewHost;var n=this.viewModel;var i=r.__childObserver__;if(!i){i=r.__childObserver__=I.DOM.createMutationObserver(Ct);var o={childList:true,subtree:!this.usesShadowDOM};i.observe(r,o);i.binders=[]}i.binders.push(this);if(this.usesShadowDOM){var a=r.firstElementChild;if(this.all){var s=n[this.property];if(!s){s=n[this.property]=[]}else{s.splice(0)}while(a){if(this.matches(a)){s.push(a.au&&a.au.controller?a.au.controller.viewModel:a)}a=a.nextElementSibling}if(this.changeHandler!==null){this.viewModel[this.changeHandler](wt)}}else{while(a){if(this.matches(a)){var u=a.au&&a.au.controller?a.au.controller.viewModel:a;this.viewModel[this.property]=u;if(this.changeHandler!==null){this.viewModel[this.changeHandler](u)}break}a=a.nextElementSibling}}}};e.prototype.onRemove=function e(t){if(this.matches(t)){var r=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]);var i=n.indexOf(r);if(i!==-1){n.splice(i,1)}return true}var o=this.viewModel[this.property];if(o===r){this.viewModel[this.property]=null;if(this.isBound&&this.changeHandler!==null){this.viewModel[this.changeHandler](r)}}}return false};e.prototype.onAdd=function e(t){if(this.matches(t)){var r=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]);if(this.selector==="*"){n.push(r);return true}var i=0;var o=t.previousElementSibling;while(o){if(this.matches(o)){i++}o=o.previousElementSibling}n.splice(i,0,r);return true}this.viewModel[this.property]=r;if(this.isBound&&this.changeHandler!==null){this.viewModel[this.changeHandler](r)}}return false};e.prototype.unbind=function e(){if(!this.isBound){return}this.isBound=false;this.source=null;var t=this.viewHost.__childObserver__;if(t){var r=t.binders;if(r&&r.length){var n=r.indexOf(this);if(n!==-1){r.splice(n,1)}if(r.length===0){t.disconnect();this.viewHost.__childObserver__=null}}if(this.usesShadowDOM){this.viewModel[this.property]=null}}};return e}();function Et(e,t){return Array.isArray(t)?e.removeMany(t,true):e.remove(t,true)}var St=t.SwapStrategies={before:function e(t,r,n){return r===undefined?n():n().then((function(){return Et(t,r)}))},with:function e(t,r,n){return r===undefined?n():Promise.all([Et(t,r),n()])},after:function e(t,r,n){return Promise.resolve(t.removeAll(true)).then(n)}};function Ot(e){if(e.skipActivation||typeof e.viewModel.activate!=="function"){return Promise.resolve()}return e.viewModel.activate(e.model)||Promise.resolve()}var kt=t.CompositionEngine=(P=(0,q.inject)(at,ge),P(R=function(){function e(e,t){this.viewEngine=e;this.viewLocator=t}e.prototype._swap=function e(t,r){var n=St[t.swapOrder]||St.after;var i=t.viewSlot.children.slice();return n(t.viewSlot,i,(function(){return Promise.resolve(t.viewSlot.add(r)).then((function(){if(t.currentController){t.currentController.unbind()}}))})).then((function(){if(t.compositionTransactionNotifier){t.compositionTransactionNotifier.done()}}))};e.prototype._createControllerAndSwap=function e(t){var r=this;return this.createController(t).then((function(e){if(t.compositionTransactionOwnershipToken){return t.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){e.automate(t.overrideContext,t.owningView);return r._swap(t,e.view)})).then((function(){return e}))}e.automate(t.overrideContext,t.owningView);return r._swap(t,e.view).then((function(){return e}))}))};e.prototype.createController=function e(t){var r=this;var n=void 0;var i=void 0;var o=void 0;var a=void 0;return this.ensureViewModel(t).then(Ot).then((function(){n=t.childContainer;i=t.viewModel;o=t.viewModelResource;a=o.metadata;var e=r.viewLocator.getViewStrategy(t.view||i);if(t.viewResources){e.makeRelativeTo(t.viewResources.viewUrl)}return a.load(n,o.value,null,e,true)})).then((function(e){return a.create(n,oe.dynamic(t.host,i,e))}))};e.prototype.ensureViewModel=function e(t){var r=t.childContainer=t.childContainer||t.container.createChild();if(typeof t.viewModel==="string"){t.viewModel=t.viewResources?t.viewResources.relativeToView(t.viewModel):t.viewModel;return this.viewEngine.importViewModelResource(t.viewModel).then((function(e){r.autoRegister(e.value);if(t.host){r.registerInstance(I.DOM.Element,t.host)}t.viewModel=r.viewModel=r.get(e.value);t.viewModelResource=e;return t}))}var n=t.viewModel.constructor;var i=typeof t.viewModel==="function";if(i){n=t.viewModel;r.autoRegister(n)}var o=N.metadata.getOrCreateOwn(N.metadata.resource,vt,n);o.elementName=o.elementName||"dynamic-element";o.initialize(i?r:t.container||r,n);t.viewModelResource={metadata:o,value:n};if(t.host){r.registerInstance(I.DOM.Element,t.host)}r.viewModel=t.viewModel=i?r.get(n):t.viewModel;return Promise.resolve(t)};e.prototype.compose=function e(t){var r=this;t.childContainer=t.childContainer||t.container.createChild();t.view=this.viewLocator.getViewStrategy(t.view);var n=t.childContainer.get(G);var i=n.tryCapture();if(i){t.compositionTransactionOwnershipToken=i}else{t.compositionTransactionNotifier=n.enlist()}if(t.viewModel){return this._createControllerAndSwap(t)}else if(t.view){if(t.viewResources){t.view.makeRelativeTo(t.viewResources.viewUrl)}return t.view.loadViewFactory(this.viewEngine,new ie).then((function(e){var n=e.create(t.childContainer);n.bind(t.bindingContext,t.overrideContext);if(t.compositionTransactionOwnershipToken){return t.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return r._swap(t,n)})).then((function(){return n}))}return r._swap(t,n).then((function(){return n}))}))}else if(t.viewSlot){t.viewSlot.removeAll();if(t.compositionTransactionNotifier){t.compositionTransactionNotifier.done()}return Promise.resolve(null)}return Promise.resolve(null)};return e}())||R);var At=t.ElementConfigResource=function(){function e(){}e.prototype.initialize=function e(t,r){};e.prototype.register=function e(t,r){};e.prototype.load=function e(t,r){var n=new r;var i=t.get(F.EventManager);i.registerElementConfig(n)};return e}();function Mt(e){return function(t){var r=typeof e==="string"||Object.getPrototypeOf(e)===Object.prototype;if(r){t.$resource=e}else{N.metadata.define(N.metadata.resource,e,t)}}}function Pt(e){return function(t){if(e instanceof vt){N.metadata.define(N.metadata.resource,e,t)}else{var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);Object.assign(r,e)}}}function Rt(e){return function(t){var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);r.elementName=Se(e,"custom element")}}function Tt(e,t,r){return function(n){var i=N.metadata.getOrCreateOwn(N.metadata.resource,vt,n);i.attributeName=Se(e,"custom attribute");i.attributeDefaultBindingMode=t;i.aliases=r}}function jt(e){var t=function e(t){var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);r.liftsContent=true};return e?t(e):t}function Lt(e,t,r){var n=function t(r,n,i){var o=n?r.constructor:r;var a=N.metadata.getOrCreateOwn(N.metadata.resource,vt,o);var s=void 0;if(n){e=e||{};e.name=n}s=new ct(e);return s.registerWith(o,a,i)};if(!e){return n}if(t){var i=e;e=null;return n(i,t,r)}return n}function Vt(e){var t=function e(t){var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);r.hasDynamicOptions=true};return e?t(e):t}var Nt={mode:"open"};function It(e){var t=typeof e==="function"||!e?Nt:e;var r=function e(r){var n=N.metadata.getOrCreateOwn(N.metadata.resource,vt,r);n.targetShadowDOM=true;n.shadowDOMOptions=t};return typeof e==="function"?r(e):r}function Bt(e){return function(t){var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);r.processAttributes=function(t,r,n,i,o){try{e(t,r,n,i,o)}catch(e){V.getLogger("templating").error(e)}}}}function Dt(){return false}function Ft(e){return function(t){var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);r.processContent=e?function(t,r,n,i){try{return e(t,r,n,i)}catch(e){V.getLogger("templating").error(e);return false}}:Dt}}function qt(e){var t=function e(t){var r=N.metadata.getOrCreateOwn(N.metadata.resource,vt,t);r.containerless=true};return e?t(e):t}function zt(e){return function(t){N.metadata.define(ge.viewStrategyMetadataKey,e,t)}}function Ht(e){return zt(new ce(e))}function Ut(e,t,r){return zt(new pe(e,t,r))}function $t(e,t){var r=void 0;var n=void 0;if(typeof e==="function"){r=e}else{n=e;r=undefined}var i=function e(r){N.metadata.define(ge.viewStrategyMetadataKey,new he(n,t),r)};return r?i(r):i}function Qt(e){return function(t){t.$view=e}}function Wt(e){var t=function e(t){N.metadata.define(N.metadata.resource,new At,t)};return e?t(e):t}function Gt(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return function(e){N.metadata.define(at.viewModelRequireMetadataKey,t,e)}}var Kt=t.TemplatingEngine=(T=(0,q.inject)(q.Container,tt,Je,kt),T(j=function(){function e(e,t,r,n){this._container=e;this._moduleAnalyzer=t;this._viewCompiler=r;this._compositionEngine=n;e.registerInstance($,$.instance=new $)}e.prototype.configureAnimator=function e(t){this._container.unregister($);this._container.registerInstance($,$.instance=t)};e.prototype.compose=function e(t){return this._compositionEngine.compose(t)};e.prototype.enhance=function e(t){if(t instanceof I.DOM.Element){t={element:t}}var r={letExpressions:[]};var n=t.resources||this._container.get(ke);this._viewCompiler._compileNode(t.element,n,r,t.element.parentNode,"root",true);var i=new Ue(t.element,r,n);var o=t.container||this._container.createChild();var a=i.create(o,oe.enhance());a.bind(t.bindingContext||{},t.overrideContext);a.firstChild=a.lastChild=a.fragment;a.fragment=I.DOM.createDocumentFragment();a.attached();return a};return e}())||j)}));(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("aurelia-binding"),require("aurelia-templating"),require("aurelia-templating-resources"),require("aurelia-pal"),require("aurelia-dependency-injection")):typeof define==="function"&&define.amd?define("aurelia-ui-virtualization/dist/umd/aurelia-ui-virtualization",["exports","aurelia-binding","aurelia-templating","aurelia-templating-resources","aurelia-pal","aurelia-dependency-injection"],t):(e=e||self,t((e.au=e.au||{},e.au.uiVirtualization={}),e.au,e.au,e.au,e.au,e.au))})(this,(function(e,t,r,n,i,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a=function(e,t){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return a(e,t)};function s(e,t){a(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(e,t,r,i){t.bindingContext[e.local]=i[r];n.updateOverrideContext(t.overrideContext,r,i.length)};var l=function(e,t,r,i){var o=e.items;var a=e.viewSlot;n.updateOverrideContext(t.overrideContext,r,o.length);t.bindingContext[e.local]=o[r];if(i){a.children.push(a.children.shift());e.templateStrategy.moveViewLast(t,e.bottomBufferEl)}else{a.children.unshift(a.children.splice(-1,1)[0]);e.templateStrategy.moveViewFirst(t,e.topBufferEl)}};var c=function(e,t){return v(e/t)+1};var f=Math.abs;var h=Math.max;var d=Math.min;var p=Math.round;var v=Math.floor;var g=isNaN;var m=document;var y=m.documentElement;var b=requestAnimationFrame.bind(window);var w=function(e){var t=e.parentNode;while(t!==null&&t!==y){if(C(t)){return t}t=t.parentNode}return m.scrollingElement||y};var x=function(e){var t=e.getBoundingClientRect();var r=window.pageYOffset;var n=y.clientTop;var i=t.top+r-n;return p(i)};var C=function(e){var t=window.getComputedStyle(e);return t&&(t.overflowY==="scroll"||t.overflow==="scroll"||t.overflowY==="auto"||t.overflow==="auto")};var _=function(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}var n=window.getComputedStyle(e);var i=0;var o=0;for(var a=0,s=t.length;s>a;++a){o=parseFloat(n[t[a]]);i+=g(o)?0:o}return i};var E=function(e){var t=e.getBoundingClientRect().height;t+=_(e,"marginTop","marginBottom");return t};var S=function(e){var t=e.getBoundingClientRect().height;t-=_(e,"borderTopWidth","borderBottomWidth");return t};var O=function(e,t){t.parentNode.insertBefore(e.lastChild,t)};var k=function(e,t){var r=e.offsetParent;var n=e.offsetTop;if(r===null||r===t){return n}else{if(r.contains(t)){return n-t.offsetTop}else{return n+k(r,t)}}};var A=function(e){s(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.createFirstRow=function(e){var t=n.createFullOverrideContext(e,e.items[0],0,1);return e.addView(t.bindingContext,t)};r.prototype.count=function(e){return e.length};r.prototype.initCalculation=function(e,t){var r=t.length;if(!(r>0)){return 1}var n=e.getScrollerInfo();var i=e.viewCount();if(r>0&&i===0){this.createFirstRow(e)}var o=e.firstView();var a=E(o.firstChild);if(a===0){return 0}e.itemHeight=a;var s=n.height;var u=e.minViewsRequired=c(s,a);return 2|4};r.prototype.onAttached=function(e){if(e.items.length<e.minViewsRequired){e.getMore(0,true,this.isNearBottom(e,e.lastViewIndex()),true)}};r.prototype.getViewRange=function(e,t){var r=e.topBufferEl;var n=e.scrollerEl;var i=e.itemHeight;var o=0;var a=t.scroller!==y;if(a){var s=k(r,n);var u=t.scrollTop;o=h(0,u-f(s))}else{o=pageYOffset-e.distanceToTop}var l=e.minViewsRequired*2;var c=h(0,i>0?v(o/i):0);var p=d(e.items.length-1,c+(l-1));c=h(0,d(c,p-(l-1)));return[c,p]};r.prototype.updateBuffers=function(e,t){var r=e.itemHeight;var n=e.items.length;e.topBufferHeight=t*r;e.bottomBufferHeight=(n-t-e.viewCount())*r;e.updateBufferElements(true)};r.prototype.isNearTop=function(e,t){var r=e.items.length;return r>0?t<e.edgeDistance:false};r.prototype.isNearBottom=function(e,t){var r=e.items.length;return t===-1?true:r>0?t>r-1-e.edgeDistance:false};r.prototype.instanceChanged=function(e,t,r){if(this._inPlaceProcessItems(e,t,r)){this._remeasure(e,e.itemHeight,e.minViewsRequired*2,t.length,e.$first)}};r.prototype.instanceMutated=function(e,t,r){this._standardProcessInstanceMutated(e,t,r)};r.prototype._inPlaceProcessItems=function(e,t,r){var i=e;var o=t.length;if(o===0){i.removeAllViews(true,false);i.resetCalculation();i.__queuedSplices=i.__array=undefined;return false}var a=i.minViewsRequired*2;var s=i.viewCount();while(s>o){s--;i.removeView(s,true,false)}while(s>a){s--;i.removeView(s,true,false)}s=d(s,a);var u=i.local;var l=o-1;if(r+s>l){r=h(0,o-s)}i.$first=r;for(var c=0;c<s;c++){var f=c+r;var p=i.view(c);var v=f===o-1;var g=f!==0&&!v;var m=p.bindingContext;var y=p.overrideContext;if(m[u]===t[f]&&y.$index===f&&y.$middle===g&&y.$last===v){continue}m[u]=t[f];y.$first=f===0;y.$middle=g;y.$last=v;y.$index=f;var b=f%2===1;y.$odd=b;y.$even=!b;i.updateBindings(p)}var w=d(a,o);for(var c=s;c<w;c++){var y=n.createFullOverrideContext(i,t[c],c,o);i.addView(y.bindingContext,y)}return true};r.prototype._standardProcessInstanceMutated=function(e,r,n){var i=this;var o=e;if(o.__queuedSplices){for(var a=0,s=n.length;a<s;++a){var u=n[a],l=u.index,c=u.removed,f=u.addedCount;t.mergeSplice(o.__queuedSplices,l,c,f)}o.__array=r.slice(0);return}if(r.length===0){o.removeAllViews(true,false);o.resetCalculation();o.__queuedSplices=o.__array=undefined;return}var h=this._runSplices(o,r.slice(0),n);if(h instanceof Promise){var d=o.__queuedSplices=[];var p=function(){if(!d.length){o.__queuedSplices=o.__array=undefined;return}var e=i._runSplices(o,o.__array,d)||Promise.resolve();e.then(p)};h.then(p)}};r.prototype._runSplices=function(e,t,r){var i=e.$first;var o=0;var a=0;var s;var u=0;var l=r.length;var d=t.length;var p=true;for(u=0;l>u;u++){s=r[u];var g=s.removed.length;var m=s.addedCount;o+=g;a+=m;if(g!==m){p=false}}if(p){var y=e.lastViewIndex();var b=e.viewSlot;for(u=0;l>u;u++){s=r[u];for(var w=s.index;w<s.index+s.addedCount;w++){if(w>=i&&w<=y){var x=w-i;var C=n.createFullOverrideContext(e,t[w],w,d);e.removeView(x,true,true);e.insertView(x,C.bindingContext,C)}}}return}var _=i;var E=e.itemHeight;var S=d+o-a;var O=e.viewCount();var A=O;if(S===0&&E===0){e.resetCalculation();e.itemsChanged();return}var M=o===0&&a>0&&r.every((function(e){return e.index<=i}));if(M){e.$first=i+a-1;e.topBufferHeight+=a*E;e.enableScroll();var P=e.getScrollerInfo();var R=P.scrollTop;var T=k(e.topBufferEl,P.scroller);var j=h(0,R===0?0:R-T);var L=j===0?0:v(j/E);if(R>T&&L===i){e.updateBufferElements(false);e.scrollerEl.scrollTop=j+a*E;this._remeasure(e,E,A,d,i);return}}var V=e.lastViewIndex();var N=O>e.minViewsRequired&&r.every((function(e){return e.index>V}));if(N){e.bottomBufferHeight=h(0,d-i-O)*E;e.updateBufferElements(true)}else{var I=e.minViewsRequired*2;if(I===0){var P=e.getScrollerInfo();var B=c(P.height,E);e.minViewsRequired=B;I=B*2}for(u=0;l>u;++u){var D=r[u],m=D.addedCount,g=D.removed.length,F=D.index;var q=g-m;if(_>F){_=h(0,_-q)}}A=0;if(d<=e.minViewsRequired){_=0;A=d}else{if(d<=I){A=d;_=0}else{A=I}}var z=d>=_?_:0;var H=A-O;if(H>0){for(u=0;H>u;++u){var w=_+O+u;var C=n.createFullOverrideContext(e,t[w],w,t.length);e.addView(C.bindingContext,C)}}else{var U=f(H);for(u=0;U>u;++u){e.removeView(A,true,false)}}var $=h(0,d-z-A);e.$first=_;e.topBufferHeight=z*E;e.bottomBufferHeight=$*E;e.updateBufferElements(true)}this._remeasure(e,E,A,d,_)};r.prototype.updateAllViews=function(e,t){var r=e.viewSlot.children;var n=r.length;var i=e.items;var o=v(e.topBufferHeight/e.itemHeight);var a=0;var s;for(;n>t;++t){a=t+o;s=e.view(t);u(e,s,a,i);e.updateBindings(s)}};r.prototype.remeasure=function(e){this._remeasure(e,e.itemHeight,e.viewCount(),e.items.length,e.firstViewIndex())};r.prototype._remeasure=function(e,t,r,n,i){var o=e.getScrollerInfo();var a=o.scrollTop;var s=k(e.topBufferEl,o.scroller);var u=h(0,a===0?0:a-s);var l=u===0?0:v(u/t);if(l+r>=n){l=h(0,n-r)}var c=l;var f=h(0,n-c-r);e.$first=l;e.topBufferHeight=c*t;e.bottomBufferHeight=f*t;e._handlingMutations=false;e.revertScrollCheckGuard();e.updateBufferElements();this.updateAllViews(e,0)};return r}(n.ArrayRepeatStrategy);var M=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.createFirstRow=function(){return null};t.prototype.count=function(e){return 0};t.prototype.getViewRange=function(e,t){return[0,0]};t.prototype.updateBuffers=function(e,t){};t.prototype.onAttached=function(){};t.prototype.isNearTop=function(){return false};t.prototype.isNearBottom=function(){return false};t.prototype.initCalculation=function(e,t){e.itemHeight=e.minViewsRequired=0;return 2};t.prototype.instanceMutated=function(){};t.prototype.instanceChanged=function(e){e.removeAllViews(true,false);e.resetCalculation()};t.prototype.remeasure=function(e){};t.prototype.updateAllViews=function(){};return t}(n.NullRepeatStrategy);var P=function(){function e(){this.matchers=[];this.strategies=[];this.addStrategy((function(e){return e===null||e===undefined}),new M);this.addStrategy((function(e){return e instanceof Array}),new A)}e.prototype.addStrategy=function(e,t){this.matchers.push(e);this.strategies.push(t)};e.prototype.getStrategy=function(e){var t=this.matchers;for(var r=0,n=t.length;r<n;++r){if(t[r](e)){return this.strategies[r]}}return null};return e}();var R=function(){function e(){}e.prototype.getScrollContainer=function(e){return w(e)};e.prototype.moveViewFirst=function(e,t){O(e,i.DOM.nextElementSibling(t))};e.prototype.moveViewLast=function(e,t){var r=t.previousSibling;var n=r.nodeType===8&&r.data==="anchor"?r:t;O(e,n)};e.prototype.createBuffers=function(e){var t=e.parentNode;return[t.insertBefore(i.DOM.createElement("div"),e),t.insertBefore(i.DOM.createElement("div"),e.nextSibling)]};e.prototype.removeBuffers=function(e,t,r){var n=e.parentNode;n.removeChild(t);n.removeChild(r)};e.prototype.getFirstElement=function(e,t){var r=e.nextElementSibling;return r===t?null:r};e.prototype.getLastElement=function(e,t){var r=t.previousElementSibling;return r===e?null:r};return e}();var T=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getScrollContainer=function(e){return w(this.getTable(e))};t.prototype.createBuffers=function(e){var t=e.parentNode;return[t.insertBefore(i.DOM.createElement("tr"),e),t.insertBefore(i.DOM.createElement("tr"),e.nextSibling)]};return t}(R);var j=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getTable=function(e){return e.parentNode};return t}(T);var L=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getTable=function(e){return e.parentNode.parentNode};return t}(T);var V=function(e){s(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.createBuffers=function(e){var t=e.parentNode;return[t.insertBefore(i.DOM.createElement("li"),e),t.insertBefore(i.DOM.createElement("li"),e.nextSibling)]};return t}(R);var N=function(){function e(e){this.container=e}e.prototype.getStrategy=function(e){var t=e.parentNode;var r=this.container;if(t===null){return r.get(R)}var n=t.tagName;if(n==="TBODY"||n==="THEAD"||n==="TFOOT"){return r.get(L)}if(n==="TABLE"){return r.get(j)}if(n==="OL"||n==="UL"){return r.get(V)}return r.get(R)};e.inject=[o.Container];return e}();var I=Object.assign(Object.create(null),{scrollerSizeChange:"virtual-repeat-scroller-size-changed",itemSizeChange:"virtual-repeat-item-size-changed"});var B=function(){return i.PLATFORM.global.ResizeObserver};var D=function(e){s(o,e);function o(t,r,i,o,a,s,u,l){var c=e.call(this,{local:"item",viewsRequireLifecycle:n.viewsRequireLifecycle(r)})||this;c.$first=0;c._isAttached=false;c._ticking=false;c._calledGetMore=false;c._skipNextScrollHandle=false;c._handlingMutations=false;c._lastGetMore=0;c.element=t;c.viewFactory=r;c.instruction=i;c.viewSlot=o;c.lookupFunctions=a["lookupFunctions"];c.observerLocator=s;c.taskQueue=s.taskQueue;c.strategyLocator=u;c.templateStrategyLocator=l;c.edgeDistance=5;c.sourceExpression=n.getItemsSourceExpression(c.instruction,"virtual-repeat.for");c.isOneTime=n.isOneTime(c.sourceExpression);c.topBufferHeight=c.bottomBufferHeight=c.itemHeight=c.distanceToTop=0;c.revertScrollCheckGuard=function(){c._ticking=false};c._onScroll=c._onScroll.bind(c);return c}o.inject=function(){return[i.DOM.Element,r.BoundViewFactory,r.TargetInstruction,r.ViewSlot,r.ViewResources,t.ObserverLocator,P,N]};o.$resource=function(){return{type:"attribute",name:"virtual-repeat",templateController:true,bindables:["items","local"]}};o.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t}};o.prototype.attached=function(){var e=this;this._isAttached=true;var t=this.element;var r=this.templateStrategy=this.templateStrategyLocator.getStrategy(t);var n=this.scrollerEl=r.getScrollContainer(t);var o=r.createBuffers(t),a=o[0],s=o[1];var u=n!==y;var l=this._onScroll;this.topBufferEl=a;this.bottomBufferEl=s;this.itemsChanged();this._currScrollerInfo=this.getScrollerInfo();if(u){n.addEventListener("scroll",l)}else{var c=r.getFirstElement(a,s);this.distanceToTop=c===null?0:x(a);i.DOM.addEventListener("scroll",l,false);this._calcDistanceToTopInterval=i.PLATFORM.global.setInterval((function(){var t=e.distanceToTop;var r=x(a);e.distanceToTop=r;if(t!==r){var n=e.getScrollerInfo();var i=e._currScrollerInfo;e._currScrollerInfo=n;e._handleScroll(n,i)}}),500)}this.strategy.onAttached(this)};o.prototype.call=function(e,t){this[e](this.items,t)};o.prototype.detached=function(){var e=this.scrollerEl;var t=this._onScroll;if(C(e)){e.removeEventListener("scroll",t)}else{i.DOM.removeEventListener("scroll",t,false)}this.unobserveScroller();this._currScrollerContentRect=undefined;this._isAttached=false;this._unsubscribeCollection();this.resetCalculation();this.templateStrategy.removeBuffers(this.element,this.topBufferEl,this.bottomBufferEl);this.topBufferEl=this.bottomBufferEl=this.scrollerEl=null;this.removeAllViews(true,false);var r=i.PLATFORM.global.clearInterval;r(this._calcDistanceToTopInterval);r(this._sizeInterval);this.distanceToTop=this._sizeInterval=this._calcDistanceToTopInterval=0};o.prototype.unbind=function(){this.scope=null;this.items=null};o.prototype.itemsChanged=function(){var e=this;this._unsubscribeCollection();if(!this.scope||!this._isAttached){return}var t=this.items;var r=this.strategy=this.strategyLocator.getStrategy(t);if(r===null){throw new Error("Value is not iterateable for virtual repeat.")}if(!this.isOneTime&&!this._observeInnerCollection()){this._observeCollection()}var n=r.initCalculation(this,t);r.instanceChanged(this,t,this.$first);if(n&1){this.resetCalculation()}if((n&2)===0){var o=i.PLATFORM.global,a=o.setInterval,s=o.clearInterval;s(this._sizeInterval);this._sizeInterval=a((function(){if(e.items){var t=e.firstView()||e.strategy.createFirstRow(e);var r=E(t.firstChild);if(r>0){s(e._sizeInterval);e.itemsChanged()}}else{s(e._sizeInterval)}}),500)}if(n&4){this.observeScroller(this.scrollerEl)}};o.prototype.handleCollectionMutated=function(e,t){if(this._ignoreMutation){return}this._handlingMutations=true;this.strategy.instanceMutated(this,e,t)};o.prototype.handleInnerCollectionMutated=function(e,t){var r=this;if(this._ignoreMutation){return}this._ignoreMutation=true;var n=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.taskQueue.queueMicroTask((function(){return r._ignoreMutation=false}));if(n===this.items){this.itemsChanged()}else{this.items=n}};o.prototype.enableScroll=function(){this._ticking=false;this._handlingMutations=false;this._skipNextScrollHandle=false};o.prototype.getScroller=function(){return this.scrollerEl};o.prototype.getScrollerInfo=function(){var e=this.scrollerEl;return{scroller:e,scrollTop:e.scrollTop,height:e===y?innerHeight:S(e)}};o.prototype.resetCalculation=function(){this.$first=this.topBufferHeight=this.bottomBufferHeight=this.itemHeight=this.minViewsRequired=0;this._ignoreMutation=this._handlingMutations=this._ticking=false;this.updateBufferElements(true)};o.prototype._onScroll=function(){var e=this;var t=this._handlingMutations;if(!this._ticking&&!t){var r=this._currScrollerInfo;var n=this.getScrollerInfo();this._currScrollerInfo=n;this.taskQueue.queueMicroTask((function(){e._ticking=false;e._handleScroll(n,r)}));this._ticking=true}if(t){this._handlingMutations=false}};o.prototype._handleScroll=function(e,t){if(!this._isAttached){return}if(this._skipNextScrollHandle){this._skipNextScrollHandle=false;return}var r=this.items;if(!r){return}var n=this.strategy;var i=this.$first;var o=this.lastViewIndex();var a=n.getViewRange(this,e),s=a[0],u=a[1];var l=s>i?1:s<i?2:0;var c=0;if(s>=i&&o===u||u===o&&o>=u){if(s>=i&&o===u){if(n.isNearBottom(this,u)){l|=8}}else if(n.isNearTop(this,s)){l|=4}}else{if(s>i&&o>=s&&u>=o){var f=s-i;this._moveViews(f,1);c=1;if(n.isNearBottom(this,u)){l|=8}}else if(i>s&&i<=u&&o>=u){var f=o-u;this._moveViews(f,-1);c=1;if(n.isNearTop(this,s)){l|=4}}else if(o<s||i>u){n.remeasure(this);if(o<s){if(n.isNearBottom(this,u)){l|=8}}else if(n.isNearTop(this,s)){l|=4}}else{if(i!==s||o!==u){console.log("[!] Scroll intersection not handled. With indices: "+("new ["+s+", "+u+"] / old ["+i+", "+o+"]"));n.remeasure(this)}else{console.log("[!] Scroll handled, and there's no changes")}}}if(c===1){this.$first=s;n.updateBuffers(this,s)}if((l&9)===9||(l&6)===6){this.getMore(s,(l&4)>0,(l&8)>0)}else{var h=e.scrollTop-t.scrollTop;l=h>0?1:h<0?2:0;if(n.isNearTop(this,s)){l|=4}if(n.isNearBottom(this,u)){l|=8}if((l&9)===9||(l&6)===6){this.getMore(s,(l&4)>0,(l&8)>0)}}};o.prototype._moveViews=function(e,t){var r=this;if(t===-1){var n=r.firstViewIndex();while(e--){var i=r.lastView();l(r,i,--n,false)}}else{var o=r.lastViewIndex();while(e--){var i=r.view(0);l(r,i,++o,true)}}};o.prototype.getMore=function(e,t,r,n){var i=this;if(t||r||n){if(!this._calledGetMore){var o=function(n){if(n-i._lastGetMore<16){return}i._lastGetMore=n;i._calledGetMore=true;var o=function(){i._calledGetMore=false};var a=i.firstView();if(a===null){o();return}var s=a.firstChild;var u="infinite-scroll-next";var l=s&&s.au&&s.au[u]?s.au[u].instruction.attributes[u]:undefined;if(l===undefined){o()}else{var c={topIndex:e,isAtBottom:r,isAtTop:t};var f=i.scope.overrideContext;f.$scrollContext=c;if(typeof l==="string"){var h=f.bindingContext;var d=a.firstChild.getAttribute(u);var p=h[d];if(typeof p==="function"){o();var v=p.call(h,e,r,t);if(v instanceof Promise){i._calledGetMore=true;return v.then((function(){o()}))}}else{throw new Error("'"+u+"' must be a function or evaluate to one")}}else if(l.sourceExpression){o();return l.sourceExpression.evaluate(i.scope)}else{throw new Error("'"+u+"' must be a function or evaluate to one")}}};b(o)}}};o.prototype.updateBufferElements=function(e){this.topBufferEl.style.height=this.topBufferHeight+"px";this.bottomBufferEl.style.height=this.bottomBufferHeight+"px";if(e){this._ticking=true;b(this.revertScrollCheckGuard)}};o.prototype._unsubscribeCollection=function(){var e=this.collectionObserver;if(e){e.unsubscribe(this.callContext,this);this.collectionObserver=this.callContext=null}};o.prototype.firstView=function(){return this.view(0)};o.prototype.lastView=function(){return this.view(this.viewCount()-1)};o.prototype.firstViewIndex=function(){var e=this.firstView();return e===null?-1:e.overrideContext.$index};o.prototype.lastViewIndex=function(){var e=this.lastView();return e===null?-1:e.overrideContext.$index};o.prototype.observeScroller=function(e){var t=this;var n=function(e){b((function(){if(e===t._currScrollerContentRect){t.itemsChanged()}}))};var i=B();if(typeof i==="function"){var o=this._scrollerResizeObserver;if(o){o.disconnect()}o=this._scrollerResizeObserver=new i((function(e){var r=t._currScrollerContentRect;var i=e[0].contentRect;t._currScrollerContentRect=i;if(r===undefined||i.height!==r.height||i.width!==r.width){n(i)}}));o.observe(e)}var a=this._scrollerEvents;if(a){a.disposeAll()}var s=function(){b((function(){t.itemsChanged()}))};a=this._scrollerEvents=new r.ElementEvents(e);a.subscribe(I.scrollerSizeChange,s,false);a.subscribe(I.itemSizeChange,s,false)};o.prototype.unobserveScroller=function(){var e=this._scrollerResizeObserver;if(e){e.disconnect()}var t=this._scrollerEvents;if(t){t.disposeAll()}this._scrollerResizeObserver=this._scrollerEvents=undefined};o.prototype._observeInnerCollection=function(){var e=this._getInnerCollection();var t=this.strategyLocator.getStrategy(e);if(!t){return false}var r=t.getCollectionObserver(this.observerLocator,e);if(!r){return false}var n="handleInnerCollectionMutated";this.collectionObserver=r;this.callContext=n;r.subscribe(n,this);return true};o.prototype._getInnerCollection=function(){var e=n.unwrapExpression(this.sourceExpression);if(!e){return null}return e.evaluate(this.scope,null)};o.prototype._observeCollection=function(){var e=this.strategy.getCollectionObserver(this.observerLocator,this.items);if(e){this.callContext="handleCollectionMutated";this.collectionObserver=e;e.subscribe(this.callContext,this)}};o.prototype.viewCount=function(){return this.viewSlot.children.length};o.prototype.views=function(){return this.viewSlot.children};o.prototype.view=function(e){var t=this.viewSlot;return e<0||e>t.children.length-1?null:t.children[e]};o.prototype.addView=function(e,t){var r=this.viewFactory.create();r.bind(e,t);this.viewSlot.add(r);return r};o.prototype.insertView=function(e,t,r){var n=this.viewFactory.create();n.bind(t,r);this.viewSlot.insert(e,n)};o.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)};o.prototype.removeView=function(e,t,r){return this.viewSlot.removeAt(e,t,r)};o.prototype.updateBindings=function(e){var t=e.bindings;var r=t.length;while(r--){n.updateOneTimeBinding(t[r])}var i=e.controllers;r=i.length;while(r--){var o=i[r].boundProperties;var a=o.length;while(a--){var s=o[a].binding;n.updateOneTimeBinding(s)}}};return o}(n.AbstractRepeater);var F=function(){function e(){}e.$resource=function(){return{type:"attribute",name:"infinite-scroll-next"}};return e}();function q(e){e.globalResources(D,F)}e.configure=q;e.VirtualRepeat=D;e.InfiniteScrollNext=F;e.VirtualizationEvents=I;Object.defineProperty(e,"__esModule",{value:true})}));
/**
 * @license text 2.0.16 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
define("text/text",["module"],(function(e){"use strict";var t,r,n,i,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l=typeof location!=="undefined"&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),f=l&&location.hostname,h=l&&(location.port||undefined),d={},p=e.config&&e.config()||{};function v(e,t){return e===undefined||e===""?t:e}function g(e,t,r,n){if(t===n){return true}else if(e===r){if(e==="http"){return v(t,"80")===v(n,"80")}else if(e==="https"){return v(t,"443")===v(n,"443")}}return false}t={version:"2.0.16",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(u);if(t){e=t[1]}}else{e=""}return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var e,t,r;if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest}else if(typeof ActiveXObject!=="undefined"){for(t=0;t<3;t+=1){r=a[t];try{e=new ActiveXObject(r)}catch(e){}if(e){a=[r];break}}}return e},parseName:function(e){var t,r,n,i=false,o=e.lastIndexOf("."),a=e.indexOf("./")===0||e.indexOf("../")===0;if(o!==-1&&(!a||o>1)){t=e.substring(0,o);r=e.substring(o+1)}else{t=e}n=r||t;o=n.indexOf("!");if(o!==-1){i=n.substring(o+1)==="strip";n=n.substring(0,o);if(r){r=n}else{t=n}}return{moduleName:t,ext:r,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,r,n,i){var o,a,s,u=t.xdRegExp.exec(e);if(!u){return true}o=u[2];a=u[3];a=a.split(":");s=a[1];a=a[0];return(!o||o===r)&&(!a||a.toLowerCase()===n.toLowerCase())&&(!s&&!a||g(o,s,r,i))},finishLoad:function(e,r,n,i){n=r?t.strip(n):n;if(p.isBuild){d[e]=n}i(n)},load:function(e,r,n,i){if(i&&i.isBuild&&!i.inlineText){n();return}p.isBuild=i&&i.isBuild;var o=t.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=r.toUrl(a),u=p.useXhr||t.useXhr;if(s.indexOf("empty:")===0){n();return}if(!l||u(s,c,f,h)){t.get(s,(function(r){t.finishLoad(e,o.strip,r,n)}),(function(e){if(n.error){n.error(e)}}))}else{
//!strip part to avoid file system issues.
r([a],(function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}),(function(e){if(n.error){n.error(e)}}))}},write:function(e,r,n,i){if(d.hasOwnProperty(r)){var o=t.jsEscape(d[r]);n.asModule(e+"!"+r,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,r,n,i,o){var a=t.parseName(r),s=a.ext?"."+a.ext:"",u=a.moduleName+s,l=n.toUrl(a.moduleName+s)+".js";t.load(u,n,(function(r){var n=function(e){return i(l,e)};n.asModule=function(e,t){return i.asModule(e,l,t)};t.write(e,u,n,o)}),o)}};if(p.env==="node"||!p.env&&typeof process!=="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]){r=require.nodeRequire("fs");t.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");if(i[0]==="\ufeff"){i=i.substring(1)}t(i)}catch(e){if(n){n(e)}}}}else if(p.env==="xhr"||!p.env&&t.createXhr()){t.get=function(e,r,n,i){var o=t.createXhr(),a;o.open("GET",e,true);if(i){for(a in i){if(i.hasOwnProperty(a)){o.setRequestHeader(a.toLowerCase(),i[a])}}}if(p.onXhr){p.onXhr(o,e)}o.onreadystatechange=function(t){var i,a;if(o.readyState===4){i=o.status||0;if(i>399&&i<600){a=new Error(e+" HTTP status: "+i);a.xhr=o;if(n){n(a)}}else{r(o.responseText)}if(p.onXhrComplete){p.onXhrComplete(o,e)}}};o.send(null)}}else if(p.env==="rhino"||!p.env&&typeof Packages!=="undefined"&&typeof java!=="undefined"){t.get=function(e,t){var r,n,i="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),u="";try{r=new java.lang.StringBuffer;n=s.readLine();if(n&&n.length()&&n.charAt(0)===65279){n=n.substring(1)}if(n!==null){r.append(n)}while((n=s.readLine())!==null){r.append(a);r.append(n)}u=String(r.toString())}finally{s.close()}t(u)}}else if(p.env==="xpconnect"||!p.env&&typeof Components!=="undefined"&&Components.classes&&Components.interfaces){n=Components.classes;i=Components.interfaces;Components.utils["import"]("resource://gre/modules/FileUtils.jsm");o="@mozilla.org/windows-registry-key;1"in n;t.get=function(e,t){var r,a,s,u={};if(o){e=e.replace(/\//g,"\\")}s=new FileUtils.File(e);try{r=n["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream);r.init(s,1,0,false);a=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream);a.init(r,"utf-8",r.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);a.readString(r.available(),u);a.close();r.close();t(u.value)}catch(e){throw new Error((s&&s.path||"")+": "+e)}}}return t}));define("tslib/tslib.es6",["exports"],(function(e){"use strict";e.__esModule=true;e.__extends=r;e.__rest=i;e.__decorate=o;e.__param=a;e.__metadata=s;e.__awaiter=u;e.__generator=l;e.__exportStar=c;e.__values=f;e.__read=h;e.__spread=d;e.__spreadArrays=p;e.__await=v;e.__asyncGenerator=g;e.__asyncDelegator=m;e.__asyncValues=y;e.__makeTemplateObject=b;e.__importStar=w;e.__importDefault=x;e.__classPrivateFieldGet=C;e.__classPrivateFieldSet=_;e.__assign=void 0;
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return t(e,r)};function r(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var n=function(){e.__assign=n=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))t[o]=r[o]}return t};return n.apply(this,arguments)};e.__assign=n;function i(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++){if(t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i]))r[n[i]]=e[n[i]]}return r}function o(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}function a(e,t){return function(r,n){t(r,n,e)}}function s(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function u(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}function c(e,t){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}function f(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function p(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){if(n[e])i[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))}}function s(e,t){try{u(n[e](t))}catch(e){f(o[0][3],e)}}function u(e){e.value instanceof v?Promise.resolve(e.value.v).then(l,c):f(o[0][2],e)}function l(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){if(e(t),o.shift(),o.length)s(o[0][0],o[0][1])}}function m(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:n==="return"}:i?i(t):t}:i}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof f==="function"?f(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){r=e[t](r),i(n,o,r.done,r.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function b(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}function w(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t.default=e;return t}function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return t.get(e)}function _(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}t.set(e,r);return r}}));define("text!tslib/tslib.es6.html",[],(function(){return'<script src="tslib.es6.js"><\/script>'}));define("whatwg-fetch/fetch",["exports"],(function(e){"use strict";e.__esModule=true;e.Headers=l;e.Request=b;e.Response=C;e.fetch=S;e.DOMException=void 0;var t=typeof globalThis!=="undefined"&&globalThis||typeof self!=="undefined"&&self||typeof t!=="undefined"&&t;var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer){var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1}}function a(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e===""){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function s(e){if(typeof e!=="string"){e=String(e)}return e}function u(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};if(r.iterable){t[Symbol.iterator]=function(){return t}}return t}function l(e){this.map={};if(e instanceof l){e.forEach((function(e,t){this.append(t,e)}),this)}else if(Array.isArray(e)){e.forEach((function(e){this.append(e[0],e[1])}),this)}else if(e){Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}}l.prototype.append=function(e,t){e=a(e);t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};l.prototype["delete"]=function(e){delete this.map[a(e)]};l.prototype.get=function(e){e=a(e);return this.has(e)?this.map[e]:null};l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))};l.prototype.set=function(e,t){this.map[a(e)]=s(t)};l.prototype.forEach=function(e,t){for(var r in this.map){if(this.map.hasOwnProperty(r)){e.call(t,this.map[r],r,this)}}};l.prototype.keys=function(){var e=[];this.forEach((function(t,r){e.push(r)}));return u(e)};l.prototype.values=function(){var e=[];this.forEach((function(t){e.push(t)}));return u(e)};l.prototype.entries=function(){var e=[];this.forEach((function(t,r){e.push([r,t])}));return u(e)};if(r.iterable){l.prototype[Symbol.iterator]=l.prototype.entries}function c(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)};e.onerror=function(){r(e.error)}}))}function h(e){var t=new FileReader;var r=f(t);t.readAsArrayBuffer(e);return r}function d(e){var t=new FileReader;var r=f(t);t.readAsText(e);return r}function p(e){var t=new Uint8Array(e);var r=new Array(t.length);for(var n=0;n<t.length;n++){r[n]=String.fromCharCode(t[n])}return r.join("")}function v(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function g(){this.bodyUsed=false;this._initBody=function(e){this.bodyUsed=this.bodyUsed;this._bodyInit=e;if(!e){this._bodyText=""}else if(typeof e==="string"){this._bodyText=e}else if(r.blob&&Blob.prototype.isPrototypeOf(e)){this._bodyBlob=e}else if(r.formData&&FormData.prototype.isPrototypeOf(e)){this._bodyFormData=e}else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this._bodyText=e.toString()}else if(r.arrayBuffer&&r.blob&&n(e)){this._bodyArrayBuffer=v(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))){this._bodyArrayBuffer=v(e)}else{this._bodyText=e=Object.prototype.toString.call(e)}if(!this.headers.get("content-type")){if(typeof e==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(r.blob){this.blob=function(){var e=c(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=c(this);if(e){return e}if(ArrayBuffer.isView(this._bodyArrayBuffer)){return Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength))}else{return Promise.resolve(this._bodyArrayBuffer)}}else{return this.blob().then(h)}}}this.text=function(){var e=c(this);if(e){return e}if(this._bodyBlob){return d(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(p(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(r.formData){this.formData=function(){return this.text().then(w)}}this.json=function(){return this.text().then(JSON.parse)};return this}var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function b(e,t){if(!(this instanceof b)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new l(e.headers)}this.method=e.method;this.mode=e.mode;this.signal=e.signal;if(!r&&e._bodyInit!=null){r=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"same-origin";if(t.headers||!this.headers){this.headers=new l(t.headers)}this.method=y(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.signal=t.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&r){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(r);if(this.method==="GET"||this.method==="HEAD"){if(t.cache==="no-store"||t.cache==="no-cache"){var n=/([?&])_=[^&]*/;if(n.test(this.url)){this.url=this.url.replace(n,"$1_="+(new Date).getTime())}else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})};function w(e){var t=new FormData;e.trim().split("&").forEach((function(e){if(e){var r=e.split("=");var n=r.shift().replace(/\+/g," ");var i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}));return t}function x(e){var t=new l;var r=e.replace(/\r?\n[\t ]+/g," ");r.split(/\r?\n/).forEach((function(e){var r=e.split(":");var n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}));return t}g.call(b.prototype);function C(e,t){if(!(this instanceof C)){throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.')}if(!t){t={}}this.type="default";this.status=t.status===undefined?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"";this.headers=new l(t.headers);this.url=t.url||"";this._initBody(e)}g.call(C.prototype);C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})};C.error=function(){var e=new C(null,{status:0,statusText:""});e.type="error";return e};var _=[301,302,303,307,308];C.redirect=function(e,t){if(_.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new C(null,{status:t,headers:{location:e}})};var E=t.DOMException;e.DOMException=E;try{new E}catch(t){e.DOMException=E=function(e,t){this.message=e;this.name=t;var r=Error(e);this.stack=r.stack};E.prototype=Object.create(Error.prototype);E.prototype.constructor=E}function S(e,n){return new Promise((function(i,o){var a=new b(e,n);if(a.signal&&a.signal.aborted){return o(new E("Aborted","AbortError"))}var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:x(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){i(new C(t,e))}),0)};u.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)};u.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)};u.onabort=function(){setTimeout((function(){o(new E("Aborted","AbortError"))}),0)};function f(e){try{return e===""&&t.location.href?t.location.href:e}catch(t){return e}}u.open(a.method,f(a.url),true);if(a.credentials==="include"){u.withCredentials=true}else if(a.credentials==="omit"){u.withCredentials=false}if("responseType"in u){if(r.blob){u.responseType="blob"}else if(r.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1){u.responseType="arraybuffer"}}if(n&&typeof n.headers==="object"&&!(n.headers instanceof l)){Object.getOwnPropertyNames(n.headers).forEach((function(e){u.setRequestHeader(e,s(n.headers[e]))}))}else{a.headers.forEach((function(e,t){u.setRequestHeader(t,e)}))}if(a.signal){a.signal.addEventListener("abort",c);u.onreadystatechange=function(){if(u.readyState===4){a.signal.removeEventListener("abort",c)}}}u.send(typeof a._bodyInit==="undefined"?null:a._bodyInit)}))}S.polyfill=true;if(!t.fetch){t.fetch=S;t.Headers=l;t.Request=b;t.Response=C}}));define("aurelia-animator-css",["aurelia-animator-css/dist/commonjs/aurelia-animator-css"],(function(e){return e}));define("aurelia-binding",["aurelia-binding/dist/commonjs/aurelia-binding"],(function(e){return e}));define("aurelia-bootstrapper",["aurelia-bootstrapper/dist/commonjs/aurelia-bootstrapper"],(function(e){return e}));define("aurelia-dependency-injection",["aurelia-dependency-injection/dist/commonjs/aurelia-dependency-injection"],(function(e){return e}));define("aurelia-dialog",["aurelia-dialog/dist/umd/aurelia-dialog"],(function(e){return e}));define("aurelia-event-aggregator",["aurelia-event-aggregator/dist/commonjs/aurelia-event-aggregator"],(function(e){return e}));define("aurelia-fetch-client",["aurelia-fetch-client/dist/umd/aurelia-fetch-client"],(function(e){return e}));define("aurelia-framework",["aurelia-framework/dist/commonjs/aurelia-framework"],(function(e){return e}));define("aurelia-history",["aurelia-history/dist/commonjs/aurelia-history"],(function(e){return e}));define("aurelia-history-browser",["aurelia-history-browser/dist/commonjs/aurelia-history-browser"],(function(e){return e}));define("aurelia-loader",["aurelia-loader/dist/commonjs/aurelia-loader"],(function(e){return e}));define("aurelia-loader-default",["aurelia-loader-default/dist/commonjs/aurelia-loader-default"],(function(e){return e}));define("aurelia-logging",["aurelia-logging/dist/commonjs/aurelia-logging"],(function(e){return e}));define("aurelia-logging-console",["aurelia-logging-console/dist/commonjs/aurelia-logging-console"],(function(e){return e}));define("aurelia-metadata",["aurelia-metadata/dist/commonjs/aurelia-metadata"],(function(e){return e}));define("aurelia-pal",["aurelia-pal/dist/commonjs/aurelia-pal"],(function(e){return e}));define("aurelia-pal-browser",["aurelia-pal-browser/dist/commonjs/aurelia-pal-browser"],(function(e){return e}));define("aurelia-path",["aurelia-path/dist/commonjs/aurelia-path"],(function(e){return e}));define("aurelia-polyfills",["aurelia-polyfills/dist/commonjs/aurelia-polyfills"],(function(e){return e}));define("aurelia-route-recognizer",["aurelia-route-recognizer/dist/commonjs/aurelia-route-recognizer"],(function(e){return e}));define("aurelia-router",["aurelia-router/dist/commonjs/aurelia-router"],(function(e){return e}));define("aurelia-task-queue",["aurelia-task-queue/dist/commonjs/aurelia-task-queue"],(function(e){return e}));define("aurelia-templating",["aurelia-templating/dist/commonjs/aurelia-templating"],(function(e){return e}));define("aurelia-templating-binding",["aurelia-templating-binding/dist/commonjs/aurelia-templating-binding"],(function(e){return e}));define("aurelia-templating-resources",["aurelia-templating-resources/dist/commonjs/aurelia-templating-resources"],(function(e){return e}));define("aurelia-templating-router",["aurelia-templating-router/dist/commonjs/aurelia-templating-router"],(function(e){return e}));define("aurelia-ui-virtualization",["aurelia-ui-virtualization/dist/umd/aurelia-ui-virtualization"],(function(e){return e}));define("text",["text/text"],(function(e){return e}));define("tslib",["tslib/tslib.es6"],(function(e){return e}));define("whatwg-fetch",["whatwg-fetch/fetch"],(function(e){return e}));